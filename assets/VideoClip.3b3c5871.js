import{g as j,i as G,_ as E,b as ht,d as at,k as ae,h as le,w as yt,l as _t,t as $t,s as kt,a as wt}from"./index.84778536.js";import{I as bt,d as Ct,B as ut,a as St,u as It}from"./index.f09f307b.js";import{R as zt,o as ke,a as we,q as Lt,f as Pt,N as be}from"./index.e48df401.js";import{i as Bt,c as Ge,d as jt,P as Ft,e as Ot,u as xt,j as Ke,f as Mt,a as Tt,b as Nt,g as Vt}from"./utils.c2cbbe46.js";import{u as he,b as At}from"./index.05f18a9e.js";import{d as P,c as f,o as w,a as C,n as L,e as R,$ as Ut,g as oe,f as y,D as r,m as ie,K as Rt,t as re,F as de,k as ct,h as ve,w as ce,b as qe,r as T,W as dt,x as me,R as Et,j as Y,a0 as ue,P as Wt,Q as Dt,O as Xe,i as K,z as qt,Y as Zt,T as Ht,p as ft,s as Ze,V as Gt,_ as Kt,u as Xt,A as We,y as vt}from"./index.ccda8f52.js";import{I as Yt,T as pe,u as De}from"./index.0044e5b9.js";import{I as Jt}from"./index.09630b87.js";import"./_commonjsHelpers.4e997714.js";const Qt=P({name:"IconImageClose",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=j("icon"),n=f(()=>[t,`${t}-image-close`,{[`${t}-spin`]:e.spin}]),l=f(()=>{if(e.size)return{fontSize:G(e.size)?`${e.size}px`:e.size}});return{cls:n,sizeStyle:l}}}),en=["stroke-width","stroke-linecap","stroke-linejoin"],tn=Ut('<path d="M41 26V9a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v30a2 2 0 0 0 2 2h17"></path><path d="m24 33 9-8.5V27s-2 1-3.5 2.5C27.841 31.159 27 33 27 33h-3Zm0 0-3.5-4.5L17 33h7Z"></path><path d="M20.5 28.5 17 33h7l-3.5-4.5ZM33 24.5 24 33h3s.841-1.841 2.5-3.5C31 28 33 27 33 27v-2.5Z" fill="currentColor" stroke="none"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M46 38a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm-4.95-4.782 1.74 1.74-3.045 3.046 3.046 3.046-1.74 1.74-3.047-3.045-3.046 3.046-1.74-1.74 3.046-3.047-3.046-3.046 1.74-1.74 3.046 3.046 3.046-3.046Z" fill="currentColor" stroke="none"></path><path d="M17 15h-2v2h2v-2Z"></path>',5),nn=[tn];function on(e,t,n,l,o,a){return w(),C("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:L(e.cls),style:R(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},nn,14,en)}var Ce=E(Qt,[["render",on]]);const ln=Object.assign(Ce,{install:(e,t)=>{var n;const l=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(l+Ce.name,Ce)}}),rn=P({name:"ImagePreviewArrow",components:{IconLeft:Jt,IconRight:Yt},props:{onPrev:{type:Function},onNext:{type:Function}},setup(){return{prefixCls:j("image-preview-arrow")}}});function sn(e,t,n,l,o,a){const d=oe("icon-left"),s=oe("icon-right");return w(),C("div",{class:L(e.prefixCls)},[y("div",{class:L([`${e.prefixCls}-left`,{[`${e.prefixCls}-disabled`]:!e.onPrev}]),onClick:t[0]||(t[0]=i=>{i.preventDefault(),e.onPrev&&e.onPrev()})},[r(d)],2),y("div",{class:L([`${e.prefixCls}-right`,{[`${e.prefixCls}-disabled`]:!e.onNext}]),onClick:t[1]||(t[1]=i=>{i.preventDefault(),e.onNext&&e.onNext()})},[r(s)],2)],2)}var an=E(rn,[["render",sn]]);function un(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Rt(e)}var cn=P({name:"ImagePreviewAction",components:{Tooltip:pe},inheritAttrs:!1,props:{name:{type:String},disabled:{type:Boolean}},setup(e,{slots:t,attrs:n}){const l=j("image-preview-toolbar-action");return()=>{var o;const{name:a,disabled:d}=e,s=(o=t.default)==null?void 0:o.call(t);if(!s||!s.length)return null;const i=r("div",ie({class:[`${l}`,{[`${l}-disabled`]:d}],onMousedown:v=>{v.preventDefault()}},n),[r("span",{class:`${l}-content`},[s])]);return a?r(pe,{class:`${l}-tooltip`,content:a},un(i)?i:{default:()=>[i]}):i}}}),dn=P({name:"ImagePreviewToolbar",components:{RenderFunction:zt,PreviewAction:cn},props:{actions:{type:Array,default:()=>[]},actionsLayout:{type:Array,default:()=>[]}},setup(e){const{actions:t,actionsLayout:n}=re(e),l=j("image-preview-toolbar"),o=f(()=>{const a=new Set(n.value),d=i=>a.has(i.key);return t.value.filter(d).sort((i,v)=>{const c=n.value.indexOf(i.key),u=n.value.indexOf(v.key);return c>u?1:-1})});return{prefixCls:l,resultActions:o}}});function fn(e,t,n,l,o,a){const d=oe("RenderFunction"),s=oe("PreviewAction");return w(),C("div",{class:L(e.prefixCls)},[(w(!0),C(de,null,ct(e.resultActions,i=>(w(),ve(s,{key:i.key,name:i.name,disabled:i.disabled,onClick:i.onClick},{default:ce(()=>[r(d,{"render-func":i.content},null,8,["render-func"])]),_:2},1032,["name","disabled","onClick"]))),128)),qe(e.$slots,"default")],2)}var vn=E(dn,[["render",fn]]);function pn(e){const t=T(e||"beforeLoad"),n=f(()=>t.value==="beforeLoad"),l=f(()=>t.value==="loading"),o=f(()=>t.value==="error"),a=f(()=>t.value==="loaded");return{status:t,isBeforeLoad:n,isLoading:l,isError:o,isLoaded:a,setLoadStatus:d=>{t.value=d}}}function mn(e,t,n,l,o){let a=n,d=l;return n&&(e.width>t.width?a=0:(t.left>e.left&&(a-=Math.abs(e.left-t.left)/o),t.right<e.right&&(a+=Math.abs(e.right-t.right)/o))),l&&(e.height>t.height?d=0:(t.top>e.top&&(d-=Math.abs(e.top-t.top)/o),t.bottom<e.bottom&&(d+=Math.abs(e.bottom-t.bottom)/o))),[a,d]}function gn(e){const{wrapperEl:t,imageEl:n,scale:l}=re(e),o=T([0,0]),a=T(!1);let d=0,s=0,i=[0,0];const v=()=>{if(!t.value||!n.value)return;const h=t.value.getBoundingClientRect(),x=n.value.getBoundingClientRect(),[p,k]=mn(h,x,o.value[0],o.value[1],l.value);(p!==o.value[0]||k!==o.value[1])&&(o.value=[p,k])},c=h=>{h.preventDefault&&h.preventDefault();const x=i[0]+(h.pageX-d)/l.value,p=i[1]+(h.pageY-s)/l.value;o.value=[x,p]},u=h=>{h.preventDefault&&h.preventDefault(),a.value=!1,v(),g()},_=h=>{h.target===h.currentTarget&&(h.preventDefault&&h.preventDefault(),a.value=!0,d=h.pageX,s=h.pageY,i=[...o.value],ke(window,"mousemove",c,!1),ke(window,"mouseup",u,!1))};function g(){we(window,"mousemove",c,!1),we(window,"mouseup",u,!1)}return dt(h=>{n.value&&ke(n.value,"mousedown",_),h(()=>{n.value&&we(n.value,"mousedown",_),g()})}),me([l],()=>{Et(()=>v())}),{translate:o,moving:a,resetTranslate(){o.value=[0,0]}}}const hn=P({name:"IconZoomOut",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=j("icon"),n=f(()=>[t,`${t}-zoom-out`,{[`${t}-spin`]:e.spin}]),l=f(()=>{if(e.size)return{fontSize:G(e.size)?`${e.size}px`:e.size}});return{cls:n,sizeStyle:l}}}),yn=["stroke-width","stroke-linecap","stroke-linejoin"],_n=y("path",{d:"M32.607 32.607A14.953 14.953 0 0 0 37 22c0-8.284-6.716-15-15-15-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15 4.142 0 7.892-1.679 10.607-4.393Zm0 0L41.5 41.5M29 22H15"},null,-1),$n=[_n];function kn(e,t,n,l,o,a){return w(),C("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:L(e.cls),style:R(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},$n,14,yn)}var Se=E(hn,[["render",kn]]);const wn=Object.assign(Se,{install:(e,t)=>{var n;const l=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(l+Se.name,Se)}}),bn=P({name:"IconZoomIn",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=j("icon"),n=f(()=>[t,`${t}-zoom-in`,{[`${t}-spin`]:e.spin}]),l=f(()=>{if(e.size)return{fontSize:G(e.size)?`${e.size}px`:e.size}});return{cls:n,sizeStyle:l}}}),Cn=["stroke-width","stroke-linecap","stroke-linejoin"],Sn=y("path",{d:"M32.607 32.607A14.953 14.953 0 0 0 37 22c0-8.284-6.716-15-15-15-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15 4.142 0 7.892-1.679 10.607-4.393Zm0 0L41.5 41.5M29 22H15m7 7V15"},null,-1),In=[Sn];function zn(e,t,n,l,o,a){return w(),C("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:L(e.cls),style:R(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},In,14,Cn)}var Ie=E(bn,[["render",zn]]);const Ln=Object.assign(Ie,{install:(e,t)=>{var n;const l=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(l+Ie.name,Ie)}}),Pn=P({name:"IconFullscreen",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=j("icon"),n=f(()=>[t,`${t}-fullscreen`,{[`${t}-spin`]:e.spin}]),l=f(()=>{if(e.size)return{fontSize:G(e.size)?`${e.size}px`:e.size}});return{cls:n,sizeStyle:l}}}),Bn=["stroke-width","stroke-linecap","stroke-linejoin"],jn=y("path",{d:"M42 17V9a1 1 0 0 0-1-1h-8M6 17V9a1 1 0 0 1 1-1h8m27 23v8a1 1 0 0 1-1 1h-8M6 31v8a1 1 0 0 0 1 1h8"},null,-1),Fn=[jn];function On(e,t,n,l,o,a){return w(),C("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:L(e.cls),style:R(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},Fn,14,Bn)}var ze=E(Pn,[["render",On]]);const xn=Object.assign(ze,{install:(e,t)=>{var n;const l=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(l+ze.name,ze)}}),Mn=P({name:"IconRotateLeft",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=j("icon"),n=f(()=>[t,`${t}-rotate-left`,{[`${t}-spin`]:e.spin}]),l=f(()=>{if(e.size)return{fontSize:G(e.size)?`${e.size}px`:e.size}});return{cls:n,sizeStyle:l}}}),Tn=["stroke-width","stroke-linecap","stroke-linejoin"],Nn=y("path",{d:"M10 22a1 1 0 0 1 1-1h20a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H11a1 1 0 0 1-1-1V22ZM23 11h11a6 6 0 0 1 6 6v6M22.5 12.893 19.587 11 22.5 9.107v3.786Z"},null,-1),Vn=[Nn];function An(e,t,n,l,o,a){return w(),C("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:L(e.cls),style:R(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},Vn,14,Tn)}var Le=E(Mn,[["render",An]]);const Un=Object.assign(Le,{install:(e,t)=>{var n;const l=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(l+Le.name,Le)}}),Rn=P({name:"IconRotateRight",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=j("icon"),n=f(()=>[t,`${t}-rotate-right`,{[`${t}-spin`]:e.spin}]),l=f(()=>{if(e.size)return{fontSize:G(e.size)?`${e.size}px`:e.size}});return{cls:n,sizeStyle:l}}}),En=["stroke-width","stroke-linecap","stroke-linejoin"],Wn=y("path",{d:"M38 22a1 1 0 0 0-1-1H17a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h20a1 1 0 0 0 1-1V22ZM25 11H14a6 6 0 0 0-6 6v6M25.5 12.893 28.413 11 25.5 9.107v3.786Z"},null,-1),Dn=[Wn];function qn(e,t,n,l,o,a){return w(),C("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:L(e.cls),style:R(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},Dn,14,En)}var Pe=E(Rn,[["render",qn]]);const Zn=Object.assign(Pe,{install:(e,t)=>{var n;const l=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(l+Pe.name,Pe)}}),Hn=P({name:"IconOriginalSize",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=j("icon"),n=f(()=>[t,`${t}-original-size`,{[`${t}-spin`]:e.spin}]),l=f(()=>{if(e.size)return{fontSize:G(e.size)?`${e.size}px`:e.size}});return{cls:n,sizeStyle:l}}}),Gn=["stroke-width","stroke-linecap","stroke-linejoin"],Kn=y("path",{d:"m5.5 11.5 5-2.5h1v32M34 11.5 39 9h1v32"},null,-1),Xn=y("path",{d:"M24 17h1v1h-1v-1ZM24 30h1v1h-1v-1Z",fill:"currentColor",stroke:"none"},null,-1),Yn=y("path",{d:"M24 17h1v1h-1v-1ZM24 30h1v1h-1v-1Z"},null,-1),Jn=[Kn,Xn,Yn];function Qn(e,t,n,l,o,a){return w(),C("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:L(e.cls),style:R(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},Jn,14,Gn)}var Be=E(Hn,[["render",Qn]]);const eo=Object.assign(Be,{install:(e,t)=>{var n;const l=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(l+Be.name,Be)}});function to(e){const{container:t,hidden:n}=re(e);let l=!1,o={};const a=i=>i.tagName==="BODY"?window.innerWidth-(document.body.clientWidth||document.documentElement.clientWidth):i.offsetWidth-i.clientWidth,d=()=>{if(t.value&&t.value.style.overflow!=="hidden"){const i=t.value.style;l=!0;const v=a(t.value);v&&(o.width=i.width,t.value.style.width=`calc(${t.value.style.width||"100%"} - ${v}px)`),o.overflow=i.overflow,t.value.style.overflow="hidden"}},s=()=>{if(t.value&&l){const i=o;Object.keys(i).forEach(v=>{t.value.style[v]=i[v]})}l=!1,o={}};return dt(i=>{n.value?d():s(),i(()=>{s()})}),[s,d]}function no(e,t){const{popupContainer:n}=re(t);return f(()=>(ht(n.value)?Lt(n.value):n.value)||e)}const Q=[25,33,50,67,75,80,90,100,110,125,150,175,200,250,300,400,500].map(e=>+(e/100).toFixed(2)),oo=Q[0],lo=Q[Q.length-1];function Ye(e=1,t="zoomIn"){let n=Q.indexOf(e);return n===-1&&(n=io(e)),t==="zoomIn"?n===Q.length-1?e:Q[n+1]:n===0?e:Q[n-1]}function io(e){let t=Q.length-1;for(let n=0;n<Q.length;n++){const l=Q[n];if(e===l){t=n;break}if(e<l){const o=Q[n-1];t=o===void 0||Math.abs(o-e)<=Math.abs(l-e)?n-1:n;break}}return t}var ro=Object.defineProperty,Je=Object.getOwnPropertySymbols,so=Object.prototype.hasOwnProperty,ao=Object.prototype.propertyIsEnumerable,Qe=(e,t,n)=>t in e?ro(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uo=(e,t)=>{for(var n in t||(t={}))so.call(t,n)&&Qe(e,n,t[n]);if(Je)for(var n of Je(t))ao.call(t,n)&&Qe(e,n,t[n]);return e};const je=90;var co=P({name:"ImagePreview",components:{PreviewArrow:an,PreviewToolbar:vn,IconLoading:bt,IconClose:Ct},props:{renderToBody:{type:Boolean,default:!0},src:{type:String},visible:{type:Boolean,default:void 0},defaultVisible:{type:Boolean,default:!1},maskClosable:{type:Boolean,default:!0},closable:{type:Boolean,default:!0},actionsLayout:{type:Array,default:()=>["fullScreen","rotateRight","rotateLeft","zoomIn","zoomOut","originalSize"]},popupContainer:{type:[Object,String]},inGroup:{type:Boolean,default:!1},groupArrowProps:{type:Object,default:()=>({})}},emits:["close","update:visible"],setup(e,{emit:t}){const{t:n}=he(),{src:l,popupContainer:o,visible:a,defaultVisible:d,maskClosable:s}=re(e),i=T(),v=T(),c=j("image-preview"),[u,_]=De(d.value,Y({value:a})),g=f(()=>[c,{[`${c}-hide`]:!u.value}]),h=no(document.body,Y({popupContainer:o})),x=f(()=>h.value===document.body),{zIndex:p}=Pt("dialog",{visible:u}),k=f(()=>{const Z=x.value?{zIndex:p.value,position:"fixed"}:{zIndex:"inherit",position:"absolute"};return uo({},Z)}),{isLoading:B,isLoaded:F,setLoadStatus:A}=pn(),S=T(0),I=T(1),{translate:W,moving:X,resetTranslate:J}=gn(Y({wrapperEl:i,imageEl:v,visible:u,scale:I})),$=T(!1);let z=null;const D=()=>{!$.value&&($.value=!0),z&&clearTimeout(z),z=setTimeout(()=>{$.value=!1},1e3)};to(Y({container:h,hidden:u}));function U(){S.value=0,I.value=1,J()}me([l,u],()=>{u.value&&(U(),A("loading"))});function q(){u.value&&(t("close"),t("update:visible",!1),_(!1))}function N(Z){s.value&&Z.target===Z.currentTarget&&q()}function V(Z){I.value!==Z&&(I.value=Z,D())}return{prefixCls:c,classNames:g,container:h,wrapperStyles:k,scale:I,translate:W,rotate:S,moving:X,mergedVisible:u,isLoading:B,isLoaded:F,scaleValueVisible:$,refWrapper:i,refImage:v,onMaskClick:N,onCloseClick:q,onImgLoad(){A("loaded")},onImgError(){A("error")},actions:f(()=>[{key:"fullScreen",name:n("imagePreview.fullScreen"),content:()=>ue(xn),onClick:()=>{const Z=i.value.getBoundingClientRect(),se=v.value.getBoundingClientRect(),_e=Z.height/(se.height/I.value),$e=Z.width/(se.width/I.value),fe=Math.max(_e,$e);V(fe)}},{key:"rotateRight",name:n("imagePreview.rotateRight"),content:()=>ue(Zn),onClick:()=>{S.value=(S.value+je)%360}},{key:"rotateLeft",name:n("imagePreview.rotateLeft"),content:()=>ue(Un),onClick:()=>{S.value=S.value===0?360-je:S.value-je}},{key:"zoomIn",name:n("imagePreview.zoomIn"),content:()=>ue(Ln),onClick:()=>{const Z=Ye(I.value,"zoomIn");V(Z)},disabled:I.value===lo},{key:"zoomOut",name:n("imagePreview.zoomOut"),content:()=>ue(wn),onClick:()=>{const Z=Ye(I.value,"zoomOut");V(Z)},disabled:I.value===oo},{key:"originalSize",name:n("imagePreview.originalSize"),content:()=>ue(eo),onClick:()=>{V(1)}}])}}});const fo=["src"];function vo(e,t,n,l,o,a){const d=oe("IconLoading"),s=oe("PreviewToolbar"),i=oe("IconClose"),v=oe("PreviewArrow");return w(),ve(Ht,{to:e.container,disabled:!e.renderToBody},[y("div",{class:L(e.classNames),style:R(e.wrapperStyles)},[r(Xe,{name:"image-fade",onBeforeEnter:t[0]||(t[0]=c=>{c.parentNode.style.display="block"}),onAfterLeave:t[1]||(t[1]=c=>{c.parentNode.style.display=""})},{default:ce(()=>[Wt(y("div",{class:L(`${e.prefixCls}-mask`)},null,2),[[Dt,e.mergedVisible]])]),_:1}),e.mergedVisible?(w(),C("div",{key:0,ref:"refWrapper",class:L(`${e.prefixCls}-wrapper`),onClick:t[6]||(t[6]=(...c)=>e.onMaskClick&&e.onMaskClick(...c))},[K(" img "),y("div",{class:L(`${e.prefixCls}-img-container`),style:R({transform:`scale(${e.scale}, ${e.scale})`}),onClick:t[4]||(t[4]=(...c)=>e.onMaskClick&&e.onMaskClick(...c))},[(w(),C("img",{ref:"refImage",key:e.src,src:e.src,class:L([`${e.prefixCls}-img`,{[`${e.prefixCls}-img-moving`]:e.moving}]),style:R({transform:`translate(${e.translate[0]}px, ${e.translate[1]}px) rotate(${e.rotate}deg)`}),onLoad:t[2]||(t[2]=(...c)=>e.onImgLoad&&e.onImgLoad(...c)),onError:t[3]||(t[3]=(...c)=>e.onImgError&&e.onImgError(...c))},null,46,fo))],6),K(" loading "),e.isLoading?(w(),C("div",{key:0,class:L(`${e.prefixCls}-loading`)},[r(d)],2)):K("v-if",!0),K(" scale value "),r(Xe,{name:"image-fade"},{default:ce(()=>[e.scaleValueVisible?(w(),C("div",{key:0,class:L(`${e.prefixCls}-scale-value`)},qt((e.scale*100).toFixed(0))+"% ",3)):K("v-if",!0)]),_:1}),K(" toolbar "),e.isLoaded?(w(),ve(s,{key:1,actions:e.actions,"actions-layout":e.actionsLayout},{default:ce(()=>[qe(e.$slots,"actions")]),_:3},8,["actions","actions-layout"])):K("v-if",!0),K(" close btn "),e.closable?(w(),C("div",{key:2,class:L(`${e.prefixCls}-close-btn`),onClick:t[5]||(t[5]=(...c)=>e.onCloseClick&&e.onCloseClick(...c))},[r(i)],2)):K("v-if",!0),K(" group arrow "),e.inGroup?(w(),ve(v,Zt(ie({key:3},e.groupArrowProps)),null,16)):K("v-if",!0)],2)):K("v-if",!0)],6)],8,["to","disabled"])}var po=E(co,[["render",vo]]);const mo=Symbol("PreviewGroupInjectionKey");var go=P({name:"ImagePreviewGroup",components:{ImagePreview:po},inheritAttrs:!1,props:{renderToBody:{type:Boolean,default:!0},srcList:{type:Array},current:{type:Number},defaultCurrent:{type:Number,default:0},infinite:{type:Boolean,default:!1},visible:{type:Boolean,default:void 0},defaultVisible:{type:Boolean,default:!1},maskClosable:{type:Boolean,default:!0},closable:{type:Boolean,default:!0},actionsLayout:{type:Array,default:()=>["fullScreen","rotateRight","rotateLeft","zoomIn","zoomOut","originalSize"]},popupContainer:{type:[Object,String]}},emits:["change","update:current","visible-change","update:visible"],setup(e,{emit:t}){const{srcList:n,visible:l,defaultVisible:o,current:a,defaultCurrent:d,infinite:s}=re(e),[i,v]=De(o.value,Y({value:l})),c=$=>{$!==i.value&&(t("visible-change",$),t("update:visible",$),v($))},u=f(()=>at(n==null?void 0:n.value)&&new Map(n==null?void 0:n.value.map(($,z)=>[z,{url:$,canPreview:!0}]))),_=T(new Map(u.value||[])),g=f(()=>Array.from(_.value.keys())),h=f(()=>g.value.length);function x($,z,D){return u.value||_.value.set($,{url:z,canPreview:D}),function(){u.value||_.value.delete($)}}me(u,()=>{_.value=new Map(u.value||[])});const[p,k]=De(d.value,Y({value:a})),B=$=>{$!==p.value&&(t("change",$),t("update:current",$),k($))},F=f(()=>g.value[p.value]),A=$=>{const z=g.value.indexOf($);z!==p.value&&B(z)},S=f(()=>{var $;return($=_.value.get(F.value))==null?void 0:$.url});ft(mo,Y({registerImageUrl:x,preview:$=>{c(!0),A($)}}));const I=f(()=>{const $=(D,U)=>{var q;for(let N=D;N<=U;N++){const V=g.value[N];if((q=_.value.get(V))!=null&&q.canPreview)return N}},z=$(p.value+1,h.value-1);return ae(z)&&s.value?$(0,p.value-1):z}),W=f(()=>{const $=(D,U)=>{var q;for(let N=D;N>=U;N--){const V=g.value[N];if((q=_.value.get(V))!=null&&q.canPreview)return N}},z=$(p.value-1,0);return ae(z)&&s.value?$(h.value-1,p.value+1):z}),X=f(()=>ae(W.value)?void 0:()=>{!ae(W.value)&&B(W.value)}),J=f(()=>ae(I.value)?void 0:()=>{!ae(I.value)&&B(I.value)});return{mergedVisible:i,currentUrl:S,prevIndex:W,nextIndex:I,onClose(){c(!1)},groupArrowProps:Y({onPrev:X,onNext:J})}}}),ho=Object.defineProperty,yo=Object.defineProperties,_o=Object.getOwnPropertyDescriptors,et=Object.getOwnPropertySymbols,$o=Object.prototype.hasOwnProperty,ko=Object.prototype.propertyIsEnumerable,tt=(e,t,n)=>t in e?ho(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wo=(e,t)=>{for(var n in t||(t={}))$o.call(t,n)&&tt(e,n,t[n]);if(et)for(var n of et(t))ko.call(t,n)&&tt(e,n,t[n]);return e},bo=(e,t)=>yo(e,_o(t));function Co(e,t,n,l,o,a){const d=oe("ImagePreview");return w(),C(de,null,[qe(e.$slots,"default"),r(d,ie(bo(wo({},e.$attrs),{groupArrowProps:e.groupArrowProps}),{"in-group":"",src:e.currentUrl,visible:e.mergedVisible,"mask-closable":e.maskClosable,closable:e.closable,"actions-layout":e.actionsLayout,"popup-container":e.popupContainer,"render-to-body":e.renderToBody,onClose:e.onClose}),null,16,["src","visible","mask-closable","closable","actions-layout","popup-container","render-to-body","onClose"])],64)}var So=E(go,[["render",Co]]);const Io=P({name:"IconDelete",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=j("icon"),n=f(()=>[t,`${t}-delete`,{[`${t}-spin`]:e.spin}]),l=f(()=>{if(e.size)return{fontSize:G(e.size)?`${e.size}px`:e.size}});return{cls:n,sizeStyle:l}}}),zo=["stroke-width","stroke-linecap","stroke-linejoin"],Lo=y("path",{d:"M5 11h5.5m0 0v29a1 1 0 0 0 1 1h25a1 1 0 0 0 1-1V11m-27 0H16m21.5 0H43m-5.5 0H32m-16 0V7h16v4m-16 0h16M20 18v15m8-15v15"},null,-1),Po=[Lo];function Bo(e,t,n,l,o,a){return w(),C("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:L(e.cls),style:R(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},Po,14,zo)}var Fe=E(Io,[["render",Bo]]);const pt=Object.assign(Fe,{install:(e,t)=>{var n;const l=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(l+Fe.name,Fe)}}),jo=P({name:"IconFile",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=j("icon"),n=f(()=>[t,`${t}-file`,{[`${t}-spin`]:e.spin}]),l=f(()=>{if(e.size)return{fontSize:G(e.size)?`${e.size}px`:e.size}});return{cls:n,sizeStyle:l}}}),Fo=["stroke-width","stroke-linecap","stroke-linejoin"],Oo=y("path",{d:"M16 21h16m-16 8h10m11 13H11a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h21l7 7v27a2 2 0 0 1-2 2Z"},null,-1),xo=[Oo];function Mo(e,t,n,l,o,a){return w(),C("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:L(e.cls),style:R(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},xo,14,Fo)}var Oe=E(jo,[["render",Mo]]);const To=Object.assign(Oe,{install:(e,t)=>{var n;const l=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(l+Oe.name,Oe)}}),nt=e=>{const t=e.responseText||e.response;if(!t)return;const n=e.getResponseHeader("Content-Type");if(n&&n.includes("json"))try{return JSON.parse(t)}catch{return t}return t},No=e=>{switch(e){case"done":return"success";case"error":return"danger";default:return"normal"}},ot=(e,t)=>le(e)?e(t):e,Vo=({fileItem:e,action:t,name:n,data:l,headers:o={},withCredentials:a=!1,onProgress:d=be,onSuccess:s=be,onError:i=be})=>{const v=ot(n,e)||"file",c=ot(l,e),u=new XMLHttpRequest;a&&(u.withCredentials=!0),u.upload.onprogress=g=>{const h=g.total>0?Bt.round(g.loaded/g.total,2):0;d(h,g)},u.onerror=function(h){i(h)},u.onload=()=>{if(u.status<200||u.status>=300){i(nt(u));return}s(nt(u))};const _=new FormData;if(c)for(const g of Object.keys(c))_.append(g,c[g]);e.file&&_.append(v,e.file),u.open("post",t!=null?t:"",!0);for(const g of Object.keys(o))u.setRequestHeader(g,o[g]);return u.send(_),{abort(){u.abort()}}},mt=(e,t)=>{if(t&&e){const n=at(t)?t:t.split(",").map(o=>o.trim()).filter(o=>o),l=e.name.indexOf(".")>-1?e.name.split(".").pop():"";return n.some(o=>{const a=o&&o.toLowerCase(),d=(e.type||"").toLowerCase();return a===d?!0:/\/\*/.test(a)?d.replace(/\/.*$/,"")===a.replace(/\/.*$/,""):/\..*/.test(a)?a===`.${l&&l.toLowerCase()}`:!1})}return Boolean(e)},Ao=(e,t,n)=>{const l=[];let o=0;const a=()=>{!o&&n(l)},d=s=>{if(o+=1,s!=null&&s.isFile){s.file(i=>{o-=1,mt(i,t)&&(Object.defineProperty(i,"webkitRelativePath",{value:s.fullPath.replace(/^\//,"")}),l.push(i)),a()});return}if(s!=null&&s.isDirectory){const i=s.createReader();let v=!1;const c=()=>{i.readEntries(u=>{v||(o-=1,v=!0),u.length===0?a():(c(),u.forEach(d))})};c();return}o-=1,a()};[].slice.call(e).forEach(s=>s.webkitGetAsEntry&&d(s.webkitGetAsEntry()))},Uo=e=>{var t;return(t=e.type)==null?void 0:t.includes("image")},xe=(e,t)=>{if(!e)return[];const n=Array.from(e);return t?n.filter(l=>mt(l,t)):n},Ro=P({name:"IconUpload",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=j("icon"),n=f(()=>[t,`${t}-upload`,{[`${t}-spin`]:e.spin}]),l=f(()=>{if(e.size)return{fontSize:G(e.size)?`${e.size}px`:e.size}});return{cls:n,sizeStyle:l}}}),Eo=["stroke-width","stroke-linecap","stroke-linejoin"],Wo=y("path",{d:"M14.93 17.071 24.001 8l9.071 9.071m-9.07 16.071v-25M40 35v6H8v-6"},null,-1),Do=[Wo];function qo(e,t,n,l,o,a){return w(),C("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:L(e.cls),style:R(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},Do,14,Eo)}var Me=E(Ro,[["render",qo]]);const He=Object.assign(Me,{install:(e,t)=>{var n;const l=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(l+Me.name,Me)}});var Zo=P({name:"UploadButton",props:{disabled:{type:Boolean,default:!1},directory:{type:Boolean,default:!1},accept:String,listType:{type:String},tip:String,draggable:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},uploadFiles:{type:Function,required:!0},hide:Boolean,onButtonClick:{type:Function}},setup(e,{slots:t}){const n=j("upload"),{t:l}=he(),o=T(!1),a=T(null),d=T(null),s=T(0),i=p=>{p==="subtract"?s.value-=1:p==="add"?s.value+=1:p==="reset"&&(s.value=0)},v=p=>{if(!e.disabled){if(le(e.onButtonClick)){const k=e.onButtonClick(p);if(yt(k)){k.then(B=>{e.uploadFiles(xe(B))});return}}a.value&&a.value.click()}},c=p=>{const k=p.target;k.files&&e.uploadFiles(xe(k.files)),k.value=""},u=p=>{var k,B;if(p.preventDefault(),o.value=!1,i("reset"),!e.disabled)if(e.directory&&((k=p.dataTransfer)==null?void 0:k.items))Ao(p.dataTransfer.items,e.accept,F=>{e.uploadFiles(F)});else{const F=xe((B=p.dataTransfer)==null?void 0:B.files,e.accept);e.uploadFiles(e.multiple?F:F.slice(0,1))}},_=p=>{p.preventDefault(),i("subtract"),s.value===0&&(o.value=!1,i("reset"))},g=p=>{p.preventDefault(),!e.disabled&&!o.value&&(o.value=!0)},h=()=>t.default?r("span",null,[t.default()]):e.listType==="picture-card"?r("div",{class:`${n}-picture-card`},[r("div",{class:`${n}-picture-card-text`},[r(Ge,null,null)]),e.tip&&r("div",{class:`${n}-tip`},[e.tip])]):e.draggable?r("div",{class:[`${n}-drag`,{[`${n}-drag-active`]:o.value}]},[r("div",null,[r(Ge,null,null)]),r("div",{class:`${n}-drag-text`},[o.value?l("upload.dragHover"):l("upload.drag")]),e.tip&&r("div",{class:`${n}-tip`},[e.tip])]):r(ut,{type:"primary",disabled:e.disabled},{default:()=>[l("upload.buttonText")],icon:()=>r(He,null,null)}),x=f(()=>[n,{[`${n}-type-picture-card`]:e.listType==="picture-card",[`${n}-draggable`]:e.draggable,[`${n}-disabled`]:e.disabled,[`${n}-hide`]:e.hide}]);return()=>r("span",{ref:d,class:x.value,onClick:v,onDragenter:()=>{i("add")},onDrop:u,onDragover:g,onDragleave:_},[r("input",ie({ref:a,type:"file",style:{display:"none"},disabled:e.disabled,accept:e.accept,multiple:e.multiple},e.directory?{webkitdirectory:"webkitdirectory"}:{},{onChange:c}),null),h()])}});const Ho=P({name:"IconPause",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=j("icon"),n=f(()=>[t,`${t}-pause`,{[`${t}-spin`]:e.spin}]),l=f(()=>{if(e.size)return{fontSize:G(e.size)?`${e.size}px`:e.size}});return{cls:n,sizeStyle:l}}}),Go=["stroke-width","stroke-linecap","stroke-linejoin"],Ko=y("path",{d:"M14 12h4v24h-4zM30 12h4v24h-4z"},null,-1),Xo=y("path",{fill:"currentColor",stroke:"none",d:"M14 12h4v24h-4zM30 12h4v24h-4z"},null,-1),Yo=[Ko,Xo];function Jo(e,t,n,l,o,a){return w(),C("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:L(e.cls),style:R(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},Yo,14,Go)}var Te=E(Ho,[["render",Jo]]);const Qo=Object.assign(Te,{install:(e,t)=>{var n;const l=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(l+Te.name,Te)}}),el=P({name:"IconPlayArrowFill",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=j("icon"),n=f(()=>[t,`${t}-play-arrow-fill`,{[`${t}-spin`]:e.spin}]),l=f(()=>{if(e.size)return{fontSize:G(e.size)?`${e.size}px`:e.size}});return{cls:n,sizeStyle:l}}}),tl=["stroke-width","stroke-linecap","stroke-linejoin"],nl=y("path",{d:"M17.533 10.974a1 1 0 0 0-1.537.844v24.356a1 1 0 0 0 1.537.844L36.67 24.84a1 1 0 0 0 0-1.688L17.533 10.974Z",fill:"currentColor",stroke:"none"},null,-1),ol=[nl];function ll(e,t,n,l,o,a){return w(),C("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:L(e.cls),style:R(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},ol,14,tl)}var Ne=E(el,[["render",ll]]);const il=Object.assign(Ne,{install:(e,t)=>{var n;const l=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(l+Ne.name,Ne)}}),ye=Symbol("ArcoUpload");var gt=P({name:"UploadProgress",props:{file:{type:Object,required:!0},listType:{type:String,required:!0}},setup(e){const t=j("upload-progress"),{t:n}=he(),l=Ze(ye,void 0),o=()=>{var d,s,i,v,c,u,_,g,h,x,p;return e.file.status==="error"?r("span",{class:[l==null?void 0:l.iconCls,`${l==null?void 0:l.iconCls}-upload`],onClick:()=>l==null?void 0:l.onUpload(e.file)},[(l==null?void 0:l.showRetryButton)&&((c=(s=l==null?void 0:(d=l.slots)["retry-icon"])==null?void 0:s.call(d))!=null?c:(v=(i=l==null?void 0:l.customIcon)==null?void 0:i.retryIcon)==null?void 0:v.call(i))||e.listType==="picture-card"?r(He,null,null):n("upload.retry")]):e.file.status==="done"?r("span",{class:[l==null?void 0:l.iconCls,`${l==null?void 0:l.iconCls}-success`]},[(p=(x=(_=l==null?void 0:(u=l.slots)["success-icon"])==null?void 0:_.call(u))!=null?x:(h=(g=l==null?void 0:l.customIcon)==null?void 0:g.successIcon)==null?void 0:h.call(g))!=null?p:r(jt,null,null)]):e.file.status==="init"?r(pe,{content:n("upload.start")},{default:()=>{var k,B,F,A,S,I;return[r("span",{class:[l==null?void 0:l.iconCls,`${l==null?void 0:l.iconCls}-start`],onClick:()=>l==null?void 0:l.onUpload(e.file)},[(I=(S=(B=l==null?void 0:(k=l.slots)["start-icon"])==null?void 0:B.call(k))!=null?S:(A=(F=l==null?void 0:l.customIcon)==null?void 0:F.startIcon)==null?void 0:A.call(F))!=null?I:r(il,null,null)])]}}):(l==null?void 0:l.showCancelButton)&&r(pe,{content:n("upload.cancel")},{default:()=>{var k,B,F,A,S,I;return[r("span",{class:[l==null?void 0:l.iconCls,`${l==null?void 0:l.iconCls}-cancel`],onClick:()=>l==null?void 0:l.onAbort(e.file)},[(I=(S=(B=l==null?void 0:(k=l.slots)["cancel-icon"])==null?void 0:B.call(k))!=null?S:(A=(F=l==null?void 0:l.customIcon)==null?void 0:F.cancelIcon)==null?void 0:A.call(F))!=null?I:r(Qo,null,null)])]}})},a=()=>{var d;if(["init","uploading"].includes((d=e.file.status)!=null?d:"")){const s=No(e.file.status);return r(Ft,{type:"circle",size:"mini",showText:!1,status:s,percent:e.file.percent},null)}return null};return()=>r("span",{class:t},[a(),o()])}});const rl=P({name:"IconFilePdf",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=j("icon"),n=f(()=>[t,`${t}-file-pdf`,{[`${t}-spin`]:e.spin}]),l=f(()=>{if(e.size)return{fontSize:G(e.size)?`${e.size}px`:e.size}});return{cls:n,sizeStyle:l}}}),sl=["stroke-width","stroke-linecap","stroke-linejoin"],al=y("path",{d:"M11 42h26a2 2 0 0 0 2-2V13.828a2 2 0 0 0-.586-1.414l-5.828-5.828A2 2 0 0 0 31.172 6H11a2 2 0 0 0-2 2v32a2 2 0 0 0 2 2Z"},null,-1),ul=y("path",{d:"M22.305 21.028c.874 1.939 3.506 6.265 4.903 8.055 1.747 2.237 3.494 2.685 4.368 2.237.873-.447 1.21-4.548-7.425-2.685-7.523 1.623-7.424 3.58-6.988 4.476.728 1.193 2.522 2.627 5.678-6.266C25.699 18.79 24.489 17 23.277 17c-1.409 0-2.538.805-.972 4.028Z"},null,-1),cl=[al,ul];function dl(e,t,n,l,o,a){return w(),C("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:L(e.cls),style:R(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},cl,14,sl)}var Ve=E(rl,[["render",dl]]);const fl=Object.assign(Ve,{install:(e,t)=>{var n;const l=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(l+Ve.name,Ve)}}),vl=P({name:"IconFileImage",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=j("icon"),n=f(()=>[t,`${t}-file-image`,{[`${t}-spin`]:e.spin}]),l=f(()=>{if(e.size)return{fontSize:G(e.size)?`${e.size}px`:e.size}});return{cls:n,sizeStyle:l}}}),pl=["stroke-width","stroke-linecap","stroke-linejoin"],ml=y("path",{d:"m26 33 5-6v6h-5Zm0 0-3-4-4 4h7Zm11 9H11a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h21l7 7v27a2 2 0 0 1-2 2ZM17 19h1v1h-1v-1Z"},null,-1),gl=[ml];function hl(e,t,n,l,o,a){return w(),C("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:L(e.cls),style:R(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},gl,14,pl)}var Ae=E(vl,[["render",hl]]);const yl=Object.assign(Ae,{install:(e,t)=>{var n;const l=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(l+Ae.name,Ae)}}),_l=P({name:"IconFileVideo",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=j("icon"),n=f(()=>[t,`${t}-file-video`,{[`${t}-spin`]:e.spin}]),l=f(()=>{if(e.size)return{fontSize:G(e.size)?`${e.size}px`:e.size}});return{cls:n,sizeStyle:l}}}),$l=["stroke-width","stroke-linecap","stroke-linejoin"],kl=y("path",{d:"M37 42H11a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h21l7 7v27a2 2 0 0 1-2 2Z"},null,-1),wl=y("path",{d:"M22 27.796v-6l5 3-5 3Z"},null,-1),bl=[kl,wl];function Cl(e,t,n,l,o,a){return w(),C("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:L(e.cls),style:R(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},bl,14,$l)}var Ue=E(_l,[["render",Cl]]);const Sl=Object.assign(Ue,{install:(e,t)=>{var n;const l=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(l+Ue.name,Ue)}}),Il=P({name:"IconFileAudio",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=j("icon"),n=f(()=>[t,`${t}-file-audio`,{[`${t}-spin`]:e.spin}]),l=f(()=>{if(e.size)return{fontSize:G(e.size)?`${e.size}px`:e.size}});return{cls:n,sizeStyle:l}}}),zl=["stroke-width","stroke-linecap","stroke-linejoin"],Ll=y("path",{d:"M37 42H11a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h21l7 7v27a2 2 0 0 1-2 2Z"},null,-1),Pl=y("path",{d:"M25 30a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z",fill:"currentColor",stroke:"none"},null,-1),Bl=y("path",{d:"M25 30a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm0 0-.951-12.363a.5.5 0 0 1 .58-.532L30 18"},null,-1),jl=[Ll,Pl,Bl];function Fl(e,t,n,l,o,a){return w(),C("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:L(e.cls),style:R(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},jl,14,zl)}var Re=E(Il,[["render",Fl]]);const Ol=Object.assign(Re,{install:(e,t)=>{var n;const l=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(l+Re.name,Re)}});var lt=P({name:"UploadListItem",props:{file:{type:Object,required:!0},listType:{type:String,required:!0}},setup(e){const n=`${j("upload-list")}-item`,{t:l}=he(),o=Ze(ye,void 0),a=()=>{var d,s;let i="";if(e.file.file&&e.file.file.type)i=e.file.file.type;else{const v=(s=(d=e.file.name)==null?void 0:d.split(".")[1])!=null?s:"";["png","jpg","jpeg","bmp","gif"].includes(v)?i="image":["mp4","m2v","mkv"].includes(v)?i="video":["mp3","wav","wmv"].includes(v)&&(i="audio")}return i.includes("image")?r(yl,null,null):i.includes("pdf")?r(fl,null,null):i.includes("audio")?r(Ol,null,null):i.includes("video")?r(Sl,null,null):r(To,null,null)};return()=>{var d,s,i,v,c,u,_,g,h,x,p,k,B,F,A,S,I,W,X,J,$;return r("div",{class:[n,`${n}-${e.file.status}`]},[r("div",{class:`${n}-content`},[(o==null?void 0:o.listType)==="picture"&&r("span",{class:`${n}-thumbnail`},[(i=(s=o==null?void 0:(d=o.slots).image)==null?void 0:s.call(d,{fileItem:e.file}))!=null?i:r("img",ie({src:e.file.url,alt:e.file.name},o!=null&&o.imageLoading?{loading:o.imageLoading}:void 0),null)]),r("div",{class:`${n}-name`},[(o==null?void 0:o.listType)==="text"&&r("span",{class:`${n}-file-icon`},[(h=(g=(c=o==null?void 0:(v=o.slots)["file-icon"])==null?void 0:c.call(v,{fileItem:e.file}))!=null?g:(_=(u=o==null?void 0:o.customIcon)==null?void 0:u.fileIcon)==null?void 0:_.call(u,e.file))!=null?h:a()]),(o==null?void 0:o.showLink)&&e.file.url?r("a",ie({class:`${n}-name-link`,target:"_blank",href:e.file.url},o!=null&&o.download?{download:e.file.name}:void 0),[(A=(F=(p=o==null?void 0:(x=o.slots)["file-name"])==null?void 0:p.call(x,{fileItem:e.file}))!=null?F:(B=(k=o==null?void 0:o.customIcon)==null?void 0:k.fileName)==null?void 0:B.call(k,e.file))!=null?A:e.file.name]):r("span",{class:`${n}-name-text`,onClick:()=>o==null?void 0:o.onPreview(e.file)},[($=(J=(I=o==null?void 0:(S=o.slots)["file-name"])==null?void 0:I.call(S,{fileItem:e.file}))!=null?J:(X=(W=o==null?void 0:o.customIcon)==null?void 0:W.fileName)==null?void 0:X.call(W,e.file))!=null?$:e.file.name]),e.file.status==="error"&&r(pe,{content:l("upload.error")},{default:()=>{var z,D,U,q,N,V;return[r("span",{class:[o==null?void 0:o.iconCls,`${o==null?void 0:o.iconCls}-error`]},[(V=(N=(D=o==null?void 0:(z=o.slots)["error-icon"])==null?void 0:D.call(z))!=null?N:(q=(U=o==null?void 0:o.customIcon)==null?void 0:U.errorIcon)==null?void 0:q.call(U))!=null?V:r(At,null,null)])]}})]),r(gt,{file:e.file,listType:e.listType},null)]),(o==null?void 0:o.showRemoveButton)&&r("span",{class:`${n}-operation`},[r(St,{onClick:()=>{var z;return(z=o==null?void 0:o.onRemove)==null?void 0:z.call(o,e.file)}},{default:()=>{var z,D,U,q,N,V;return[r("span",{class:[o==null?void 0:o.iconCls,`${o==null?void 0:o.iconCls}-remove`]},[(V=(N=(D=o==null?void 0:(z=o.slots)["remove-icon"])==null?void 0:D.call(z))!=null?N:(q=(U=o==null?void 0:o.customIcon)==null?void 0:U.removeIcon)==null?void 0:q.call(U))!=null?V:r(pt,null,null)])]}})])])}}}),it=P({name:"UploadPictureItem",props:{file:{type:Object,required:!0},disabled:{type:Boolean,default:!1}},setup(e){const n=`${j("upload-list")}-picture`,l=f(()=>[n,{[`${n}-status-error`]:e.file.status==="error"}]),o=Ze(ye,void 0),a=()=>{var d,s,i,v,c,u,_,g,h,x,p,k,B,F,A,S,I,W,X,J,$,z,D,U,q,N,V;return e.file.status==="uploading"?r(gt,{file:e.file,listType:"picture-card"},null):r(de,null,[(i=(s=o==null?void 0:(d=o.slots).image)==null?void 0:s.call(d,{fileItem:e.file}))!=null?i:r("img",ie({src:e.file.url,alt:e.file.name},o!=null&&o.imageLoading?{loading:o.imageLoading}:void 0),null),r("div",{class:`${n}-mask`},[e.file.status==="error"&&(o==null?void 0:o.showCancelButton)&&r("div",{class:`${n}-error-tip`},[r("span",{class:[o==null?void 0:o.iconCls,`${o==null?void 0:o.iconCls}-error`]},[(h=(g=(c=o==null?void 0:(v=o.slots)["error-icon"])==null?void 0:c.call(v))!=null?g:(_=(u=o==null?void 0:o.customIcon)==null?void 0:u.errorIcon)==null?void 0:_.call(u))!=null?h:r(ln,null,null)])]),r("div",{class:`${n}-operation`},[e.file.status!=="error"&&r("span",{class:[o==null?void 0:o.iconCls,`${o==null?void 0:o.iconCls}-preview`],onClick:()=>o==null?void 0:o.onPreview(e.file)},[(A=(F=(p=o==null?void 0:(x=o.slots)["preview-icon"])==null?void 0:p.call(x))!=null?F:(B=(k=o==null?void 0:o.customIcon)==null?void 0:k.previewIcon)==null?void 0:B.call(k))!=null?A:r(Ot,null,null)]),["init","error"].includes(e.file.status)&&(o==null?void 0:o.showRetryButton)&&r("span",{class:[o==null?void 0:o.iconCls,`${o==null?void 0:o.iconCls}-upload`],onClick:()=>o==null?void 0:o.onUpload(e.file)},[($=(J=(I=o==null?void 0:(S=o.slots)["retry-icon"])==null?void 0:I.call(S))!=null?J:(X=(W=o==null?void 0:o.customIcon)==null?void 0:W.retryIcon)==null?void 0:X.call(W))!=null?$:r(He,null,null)]),!(o!=null&&o.disabled)&&(o==null?void 0:o.showRemoveButton)&&r("span",{class:[o==null?void 0:o.iconCls,`${o==null?void 0:o.iconCls}-remove`],onClick:()=>o==null?void 0:o.onRemove(e.file)},[(V=(N=(D=o==null?void 0:(z=o.slots)["remove-icon"])==null?void 0:D.call(z))!=null?N:(q=(U=o==null?void 0:o.customIcon)==null?void 0:U.removeIcon)==null?void 0:q.call(U))!=null?V:r(pt,null,null)])])])])};return()=>r("span",{class:l.value},[a()])}}),xl=P({name:"UploadList",components:{UploadListItem:lt,UploadPictureItem:it},props:{fileList:{type:Array,required:!0},listType:{type:String,required:!0}},setup(e,{slots:t}){const n=j("upload"),l=f(()=>[`${n}-list`,`${n}-list-type-${e.listType}`]),o=(a,d)=>le(t["upload-item"])?t["upload-item"]({fileItem:a,index:d}):e.listType==="picture-card"?r(it,{file:a,key:`item-${d}`},null):r(lt,{file:a,listType:e.listType,key:`item-${d}`},null);return()=>r(Gt,{tag:"div",class:l.value},{default:()=>{var a;return[...e.fileList.map((d,s)=>o(d,s)),e.listType==="picture-card"&&((a=t["upload-button"])==null?void 0:a.call(t))]}})}}),Ml=Object.defineProperty,Tl=Object.defineProperties,Nl=Object.getOwnPropertyDescriptors,rt=Object.getOwnPropertySymbols,Vl=Object.prototype.hasOwnProperty,Al=Object.prototype.propertyIsEnumerable,st=(e,t,n)=>t in e?Ml(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ul=(e,t)=>{for(var n in t||(t={}))Vl.call(t,n)&&st(e,n,t[n]);if(rt)for(var n of rt(t))Al.call(t,n)&&st(e,n,t[n]);return e},Rl=(e,t)=>Tl(e,Nl(t)),Ee=P({name:"Upload",props:{fileList:{type:Array,default:void 0},defaultFileList:{type:Array,default:()=>[]},accept:String,action:String,disabled:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},directory:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},tip:String,headers:{type:Object},data:{type:[Object,Function]},name:{type:[String,Function]},withCredentials:{type:Boolean,default:!1},customRequest:{type:Function},limit:{type:Number,default:0},autoUpload:{type:Boolean,default:!0},showFileList:{type:Boolean,default:!0},showRemoveButton:{type:Boolean,default:!0},showRetryButton:{type:Boolean,default:!0},showCancelButton:{type:Boolean,default:!0},showUploadButton:{type:[Boolean,Object],default:!0},download:{type:Boolean,default:!1},showLink:{type:Boolean,default:!0},imageLoading:{type:String},listType:{type:String,default:"text"},responseUrlKey:{type:[String,Function]},customIcon:{type:Object},imagePreview:{type:Boolean,default:!1},onBeforeUpload:{type:Function},onBeforeRemove:{type:Function},onButtonClick:{type:Function}},emits:{"update:fileList":e=>!0,exceedLimit:(e,t)=>!0,change:(e,t)=>!0,progress:(e,t)=>!0,preview:e=>!0,success:e=>!0,error:e=>!0},setup(e,{emit:t,slots:n}){const{fileList:l,disabled:o,listType:a,customIcon:d,showRetryButton:s,showCancelButton:i,showRemoveButton:v,imageLoading:c,download:u,showLink:_}=re(e),g=j("upload"),{mergedDisabled:h,eventHandlers:x}=It({disabled:o}),p=T([]),k=new Map,B=new Map,F=f(()=>e.limit>0&&p.value.length>=e.limit),A=m=>{k.clear();const b=m==null?void 0:m.map((O,H)=>{var ee,ge,te;const M=(ee=O.status)!=null?ee:"done",ne=Y(Rl(Ul({},O),{uid:(ge=O.uid)!=null?ge:`${Date.now()}${H}`,status:M,percent:(te=O.percent)!=null?te:["error","init"].indexOf(M)>-1?0:1}));return k.set(ne.uid,ne),ne});p.value=b!=null?b:[]};A(e.defaultFileList),me(l,m=>{m&&A(m)},{immediate:!0,deep:!0});const S=m=>{var b,O;t("update:fileList",p.value),t("change",p.value,m),(O=(b=x.value)==null?void 0:b.onChange)==null||O.call(b)},I=(m,b)=>{for(const O of p.value)if(O.uid===m){O.file=b,S(O);break}},W=m=>{const b=(te,M)=>{const ne=k.get(m.uid);ne&&(ne.status="uploading",ne.percent=te,t("progress",ne,M),S(ne))},O=te=>{const M=k.get(m.uid);M&&(M.status="done",M.percent=1,M.response=te,e.responseUrlKey&&(le(e.responseUrlKey)?M.url=e.responseUrlKey(M):te[e.responseUrlKey]&&(M.url=te[e.responseUrlKey])),B.delete(M.uid),t("success",M),S(M))},H=te=>{const M=k.get(m.uid);M&&(M.status="error",M.percent=0,M.response=te,B.delete(M.uid),t("error",M),S(M))},ee={fileItem:m,action:e.action,name:e.name,data:e.data,headers:e.headers,withCredentials:e.withCredentials,onProgress:b,onSuccess:O,onError:H};m.status="uploading",m.percent=0;const ge=le(e.customRequest)?e.customRequest(ee):Vo(ee);B.set(m.uid,ge),S(m)},X=m=>{var b;const O=B.get(m.uid);if(O){(b=O.abort)==null||b.call(O),B.delete(m.uid);const H=k.get(m.uid);H&&(H.status="error",H.percent=0,S(H))}},J=m=>{if(m){const b=k.get(m.uid);b&&W(b)}else for(const b of p.value)b.status==="init"&&W(b)},$=async(m,b)=>{const O=`${Date.now()}${b}`,H=Uo(m)?URL.createObjectURL(m):void 0,ee=Y({uid:O,file:m,url:H,name:m.name,status:"init",percent:0});k.set(O,ee),p.value.push(ee),S(ee),e.autoUpload&&W(ee)},z=m=>{if(e.limit>0&&p.value.length+m.length>e.limit){t("exceedLimit",p.value,m);return}for(let b=0;b<m.length;b++){const O=m[b];le(e.onBeforeUpload)?Promise.resolve(e.onBeforeUpload(O)).then(H=>{H&&$($t(H)?O:H,b)}).catch(H=>{console.error(H)}):$(O,b)}},D=m=>{p.value.splice(p.value.indexOf(m),1),S(m)},U=m=>{le(e.onBeforeRemove)?Promise.resolve(e.onBeforeRemove(m)).then(b=>{b&&D(m)}).catch(b=>{console.error(b)}):D(m)},q=m=>{if(e.imagePreview&&m.url){const b=fe.value.indexOf(m.url);b>-1&&(se.value=b,Z.value=!0)}t("preview",m)};ft(ye,Y({disabled:h,listType:a,iconCls:`${g}-icon`,showRemoveButton:v,showRetryButton:s,showCancelButton:i,showLink:_,imageLoading:c,download:u,customIcon:d,slots:n,onUpload:W,onAbort:X,onRemove:U,onPreview:q}));const N=f(()=>{if(e.accept)return e.accept;if(e.listType==="picture"||e.listType==="picture-card")return"image/*"}),V=()=>{const m=r(Zo,{key:"arco-upload-button",disabled:h.value,draggable:e.draggable,listType:e.listType,uploadFiles:z,multiple:e.multiple,directory:e.directory,tip:e.tip,hide:!e.showUploadButton||F.value&&!(_t(e.showUploadButton)&&e.showUploadButton.showOnExceedLimit),accept:N.value,onButtonClick:e.onButtonClick},{default:n["upload-button"]});return e.tip&&e.listType!=="picture-card"&&!e.draggable?r("span",null,[m,r("div",{class:`${g}-tip`},[e.tip])]):m},Z=T(!1),se=T(0),_e=m=>{se.value=m},$e=m=>{Z.value=m},fe=f(()=>p.value.filter(m=>Boolean(m.url)).map(m=>m.url));return{prefixCls:g,render:()=>e.showFileList?r("div",{class:[`${g}-wrapper`,`${g}-wrapper-type-${e.listType}`]},[e.imagePreview&&fe.value.length>0&&r(So,{srcList:fe.value,visible:Z.value,current:se.value,onChange:_e,onVisibleChange:$e},null),e.listType!=="picture-card"&&e.showUploadButton&&V(),r(xl,{fileList:p.value,listType:e.listType},{"upload-button":V,"upload-item":n["upload-item"]})]):e.showUploadButton&&V(),innerSubmit:J,innerAbort:X,innerUpdateFile:I}},methods:{submit(e){return this.innerSubmit(e)},abort(e){return this.innerAbort(e)},updateFile(e,t){return this.innerUpdateFile(e,t)}},render(){return this.render()}});const El=Object.assign(Ee,{install:(e,t)=>{kt(e,t);const n=wt(t);e.component(n+Ee.name,Ee)}});function Wl(){const{ffmpeg:e,fetchFile:t}=xt();async function n(s){e.FS("writeFile",s.name,await t(s))}function l(s){try{return e.FS("readFile",s).buffer}catch(i){console.warn("error",i)}return null}async function o(s,i){await e.run("-ss",`${i}`,"-i",s,"-s","960x540","-f","image2","-frames","1",`frame-${i}.jpeg`)}async function a(s){const{frameNum:i=8,duration:v,file:c}=s,u=v/(i-1);for(let g=0;g<i;g++)await o(c.name,Math.floor(u)*g);const _=[];for(let g=0;g<i;g++){const h=Math.floor(u)*g,x=`frame-${h}.jpeg`,p=l(x);p&&_.push({url:Ke(p,"jpeg"),index:g,time:h,fileName:x})}return _}async function d(s){await e.run("-i",s.fileName,"-r",`${s.frameRate}`,"-ss",`${s.rangeStart}`,"-to",`${s.rangeEnd}`,"-vf",`${s.output}.${s.fileType}`);const i=l(s.fileName);return console.log("buffer",i,s),i?Ke(i,s.fileType):null}return{ffmpeg:e,writeFile:n,readFile:l,clipImage:o,getClipImages:a,getClipVideo:d}}const Dl="_railContainer_xg5rh_1",ql="_sliderBar_xg5rh_7";var Zl={railContainer:Dl,sliderBar:ql};const Hl=P({__name:"Rail",emits:["change"],setup(e,{emit:t}){const n=T(),l=T(!1),o=T(0),a=T(),d=3;me(o,c=>{var _;const u=Mt(c/((_=a.value)==null?void 0:_.width)*30,2);t("change",u)}),Xt(()=>{var c;!n||(a.value=(c=We(n))==null?void 0:c.getBoundingClientRect())});function s(c){const u=We(a);c>u.width+u.left-d?o.value=u.width-3:c<u.left?o.value=0:o.value=c-(u.left||0)}function i(c){l.value&&s(c.pageX)}function v(c){l.value=!0}return(c,u)=>(w(),C("div",{ref_key:"railContainerRef",ref:n,class:L(c.$style.railContainer),onMousemove:i,onMouseup:u[0]||(u[0]=_=>l.value=!1)},[y("div",{class:L(c.$style.sliderBar),onMousedown:v,style:R({left:o.value+"px"})},null,38)],34))}}),Gl={$style:Zl};var Kl=Kt(Hl,[["__cssModules",Gl],["__scopeId","data-v-852e10b4"]]);const Xl={"f-ac-jc":"","mt-20":"","b-1":"","b-b-0":"","h-100":""},Yl={"b-1":""},Jl={"m-auto":"","wp-80":"",flex:"","p-20":""},Ql={"f-ac":"","wp-50":"","mr-50":""},ei=y("span",{"w-100":""},"\u5F00\u59CB\u65F6\u95F4",-1),ti={"f-ac":"","wp-50":""},ni=y("span",{"w-100":""},"\u7ED3\u675F\u65F6\u95F4",-1),oi={"m-auto":"","wp-80":"",flex:"","p-20":""},li={"f-ac":"","wp-50":"","mr-50":""},ii=y("span",{"w-100":""},"\u5BFC\u51FA\u540D",-1),ri={"f-ac":"","wp-50":""},si=y("span",{"w-100":""},"\u5BFC\u51FA\u683C\u5F0F",-1),ai={"f-jc":"","mb-20":""},ui=vt(" \u9884\u89C8 "),ci=vt(" \u5BFC\u51FA "),di=P({__name:"ClipSetting",emits:{export(e){}},setup(e){const t=Y({rangeStart:0,rangeEnd:0,output:"output",fileType:"mp4"});function n(l){t.rangeEnd=l}return(l,o)=>{const a=Kl,d=Tt,s=Nt,i=ut;return w(),C(de,null,[y("div",Xl,[r(a,{onChange:n})]),y("div",Yl,[y("div",Jl,[y("div",Ql,[ei,r(d,{modelValue:t.rangeStart,"onUpdate:modelValue":o[0]||(o[0]=v=>t.rangeStart=v)},null,8,["modelValue"])]),y("div",ti,[ni,r(d,{modelValue:t.rangeEnd,"onUpdate:modelValue":o[1]||(o[1]=v=>t.rangeEnd=v)},null,8,["modelValue"])])]),y("div",oi,[y("div",li,[ii,r(s,{modelValue:t.output,"onUpdate:modelValue":o[2]||(o[2]=v=>t.output=v)},null,8,["modelValue"])]),y("div",ri,[si,r(s,{modelValue:t.fileType,"onUpdate:modelValue":o[3]||(o[3]=v=>t.fileType=v)},null,8,["modelValue"])])]),y("div",ai,[r(i,{"mr-20":""},{default:ce(()=>[ui]),_:1}),r(i,{onClick:o[4]||(o[4]=v=>l.$emit("export",t))},{default:ce(()=>[ci]),_:1})])])],64)}}}),fi={key:1,"f-ac-jc":""},vi=["src"],pi={flex:"","flex-wrap":""},mi=["src"],gi=["src"],zi=P({__name:"VideoClip",setup(e){const t=T({}),n=T([]),l=f(()=>n.value.sort((c,u)=>c.index-u.index).map(c=>c.url)),o=T(""),{writeFile:a,getClipImages:d,getClipVideo:s}=Wl();async function i(c,u){t.value=await Vt(u)}async function v(c){var _;console.log("c",c),await a((_=t.value)==null?void 0:_.file);const u=await s({fileName:t.value.file.name,frameRate:3,...c});u&&(o.value=u),console.log("url",u)}return(c,u)=>{var g;const _=El;return w(),C(de,null,[t.value.file?(w(),C("div",fi,[y("video",{src:(g=t.value)==null?void 0:g.url,width:"300",height:"300",autoplay:"",loop:""},null,8,vi)])):(w(),ve(_,{key:0,draggable:"",action:"/",onChange:i})),r(di,{onExport:v}),y("div",pi,[(w(!0),C(de,null,ct(We(l),h=>(w(),C("img",{"h-100":"",src:h,alt:""},null,8,mi))),256))]),o.value?(w(),C("video",{key:2,src:o.value,width:"300",height:"300",autoplay:"",loop:""},null,8,gi)):K("",!0)],64)}}});export{zi as default};
