import{y as Be,g as F,_ as Y,b as fe,r as Se,s as we,a as Ie,B as ve}from"./index.cdfcc5d8.js";import{T as Te,C as ze}from"./index.202bca4d.js";import{C as Oe,R as Re}from"./index.43f6f745.js";import"./index.c6a20670.js";import{M as De}from"./index.91270f9d.js";import{r as _,u as Z,N as ee,d as E,x as ye,c as m,g as ie,o as I,a as N,f as A,b as me,n as H,h as V,w,B as n,S as Ee,i as be,m as Pe,M as Ke,t as W,R as M,e as Ne,y as X,j as Q,p as Ae,O as Fe,z as je,E as pe,G as Ve,I as D,s as ue,k as He,F as Le}from"./index.4b01108f.js";import{I as qe}from"./index.554646c6.js";import{I as te,e as he}from"./use-popup-manager.b89a1cc3.js";import{a as Ue,I as Me}from"./index.9ce4d6d1.js";import{I as Qe,a as _e}from"./index.f4d01a67.js";import{I as We}from"./responsive-observe.d27ca9a6.js";import{R as se}from"./index.319e4295.js";import"./index.45f5c73b.js";const Je=e=>{const a={},t=_([]),c=()=>{if(a.value){const l=Be(a.value,e);(l.length!==t.value.length||l.toString()!==t.value.toString())&&(t.value=l)}};return Z(()=>c()),ee(()=>c()),{children:a,components:t}},Ge=({direction:e,type:a,offset:t})=>e==="vertical"?{transform:`translateY(${-t}px)`}:{transform:`translateX(${-t}px)`},ae=Symbol("ArcoTabs"),Xe=E({name:"TabsTab",components:{IconHover:te,IconClose:he},props:{tab:{type:Object,required:!0},active:Boolean,editable:Boolean},emits:["click","delete"],setup(e,{emit:a}){const t=F("tabs-tab"),c=ye(ae,{}),l=d=>{e.tab.disabled||a("click",e.tab.key,d)},f=d=>{d.key==="Enter"&&l(d)},u=m(()=>Object.assign(c.trigger==="click"?{onClick:l}:{onMouseover:l},{onKeydown:f})),o=d=>{e.tab.disabled||a("delete",e.tab.key,d)},r=m(()=>[t,{[`${t}-active`]:e.active,[`${t}-closable`]:e.editable&&e.tab.closable,[`${t}-disabled`]:e.tab.disabled}]);return{prefixCls:t,cls:r,eventHandlers:u,handleDelete:o}}});function Ye(e,a,t,c,l,f){const u=ie("icon-close"),o=ie("icon-hover");return I(),N("div",Pe({tabindex:"0",class:e.cls},e.eventHandlers),[A("span",{class:H(`${e.prefixCls}-title`)},[me(e.$slots,"default")],2),e.editable&&e.tab.closable?(I(),V(o,{key:0,class:H(`${e.prefixCls}-close-btn`),onClick:Ee(e.handleDelete,["stop"])},{default:w(()=>[n(u)]),_:1},8,["class","onClick"])):be("v-if",!0)],16)}var Ze=Y(Xe,[["render",Ye]]);function et(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Ke(e)}var re=E({name:"TabsButton",props:{type:{type:String,default:"next"},direction:{type:String,default:"horizontal"},disabled:{type:Boolean,default:!1},onClick:{type:Function}},emits:["click"],setup(e,{emit:a}){const t=F("tabs-nav-button"),c=u=>{e.disabled||a("click",e.type,u)},l=()=>e.direction==="horizontal"?e.type==="next"?n(Ue,null,null):n(Me,null,null):e.type==="next"?n(We,null,null):n(Qe,null,null),f=m(()=>[t,{[`${t}-disabled`]:e.disabled,[`${t}-left`]:e.direction==="horizontal"&&e.type==="previous",[`${t}-right`]:e.direction==="horizontal"&&e.type==="next",[`${t}-up`]:e.direction==="vertical"&&e.type==="previous",[`${t}-down`]:e.direction==="vertical"&&e.type==="next"}]);return()=>{let u;return n("div",{class:f.value,onClick:c},[n(te,{disabled:e.disabled},et(u=l())?u:{default:()=>[u]})])}}});const tt=E({name:"TabsNavInk",props:{activeTabRef:{type:Object},direction:{type:String},disabled:Boolean,animation:Boolean},setup(e){const{activeTabRef:a}=W(e),t=F("tabs-nav-ink"),c=_(0),l=_(0),f=m(()=>e.direction==="vertical"?{top:`${c.value}px`,height:`${l.value}px`}:{left:`${c.value}px`,width:`${l.value}px`}),u=()=>{if(a.value){const r=e.direction==="vertical"?a.value.offsetTop:a.value.offsetLeft,d=e.direction==="vertical"?a.value.offsetHeight:a.value.offsetWidth;(r!==c.value||d!==l.value)&&(c.value=r,l.value=d)}};Z(()=>{M(()=>u())}),ee(()=>{u()});const o=m(()=>[t,{[`${t}-animation`]:e.animation,[`${t}-disabled`]:e.disabled}]);return{prefixCls:t,cls:o,style:f}}});function at(e,a,t,c,l,f){return I(),N("div",{class:H(e.cls),style:Ne(e.style)},null,6)}var nt=Y(tt,[["render",at]]),lt=E({name:"TabsNav",props:{tabs:{type:Array,required:!0},direction:{type:String,required:!0},type:{type:String,required:!0},activeKey:{type:[String,Number]},activeIndex:{type:Number,required:!0},position:{type:String,required:!0},size:{type:String,required:!0},showAddButton:{type:Boolean,default:!1},editable:{type:Boolean,default:!1},animation:{type:Boolean,required:!0},headerPadding:{type:Boolean,default:!0}},emits:["click","add","delete"],setup(e,{emit:a,slots:t}){const{tabs:c,activeKey:l,activeIndex:f,direction:u}=W(e),o=F("tabs-nav"),r=_(),d=_(),B=_({}),b=m(()=>{if(!fe(l.value))return B.value[l.value]}),p=_(),g=m(()=>e.editable&&["line","card","card-gutter"].includes(e.type)),y=_(!1),$=_(0),S=_(0),T=_([]),h=_(0),z=()=>{var i,v,K;return(K=u.value==="vertical"?(i=r.value)==null?void 0:i.offsetHeight:(v=r.value)==null?void 0:v.offsetWidth)!=null?K:0},P=()=>!d.value||!r.value?0:u.value==="vertical"?d.value.offsetHeight-r.value.offsetHeight:d.value.offsetWidth-r.value.offsetWidth,k=()=>c.value.map(i=>{const v=B.value[i.key];return u.value==="vertical"?v.offsetTop+v.offsetHeight:v.offsetLeft+v.offsetWidth}),O=()=>{y.value=R(),y.value?($.value=z(),S.value=P(),T.value=k(),h.value>S.value&&(h.value=S.value)):h.value=0},R=()=>r.value&&d.value?e.direction==="vertical"?d.value.offsetHeight>r.value.offsetHeight:d.value.offsetWidth>r.value.offsetWidth:!1,L=i=>{var v;return((v=T.value[i-1])!=null?v:0)>=h.value&&T.value[i]<=h.value+$.value},q=i=>r.value?i==="previous"?h.value-$.value:h.value+$.value:0,J=i=>!r.value||!d.value||i<0?0:i>S.value?S.value:i,s=(i,v)=>{a("click",i,v)},C=(i,v)=>{a("delete",i,v)},j=i=>{h.value=J(q(i))},ge=()=>{O(),p.value&&p.value.$forceUpdate()};X(c,()=>{M(()=>{O()})}),X(f,(i,v)=>{M(()=>{var K;if(y.value)if(i>=v){const x=i<T.value.length-1?i+1:i;L(x)||(h.value=T.value[x]-$.value)}else{const x=i>0?i-1:i;L(x)||(h.value=(K=T.value[x-1])!=null?K:0)}})}),Z(()=>{O()});const ne=()=>!g.value||!e.showAddButton?null:n("div",{class:`${o}-add-btn`,onClick:i=>a("add",i)},[n(te,null,{default:()=>[n(_e,null,null)]})]),Ce=m(()=>[o,`${o}-${e.direction}`,`${o}-${e.position}`,`${o}-size-${e.size}`,`${o}-type-${e.type}`]),$e=m(()=>[`${o}-tab-list`,{[`${o}-tab-list-no-padding`]:!e.headerPadding&&["line","text"].includes(e.type)&&e.direction==="horizontal"}]),ke=m(()=>Ge({direction:e.direction,type:e.type,offset:h.value})),xe=m(()=>[`${o}-tab`,{[`${o}-tab-scroll`]:y.value}]);return()=>{var i;return n("div",{class:Ce.value},[y.value&&n(re,{type:"previous",direction:e.direction,disabled:h.value<=0,onClick:j},null),n(se,{onResize:()=>O()},{default:()=>[n("div",{class:xe.value,ref:r},[n(se,{onResize:ge},{default:()=>[n("div",{ref:d,class:$e.value,style:ke.value},[e.tabs.map((v,K)=>n(Ze,{key:v.key,ref:x=>{x!=null&&x.$el&&(B.value[v.key]=x.$el)},active:v.key===l.value,tab:v,editable:e.editable,onClick:s,onDelete:C},{default:()=>{var x,le,oe;return[(oe=(le=(x=v.slots).title)==null?void 0:le.call(x))!=null?oe:v.title]}})),e.type==="line"&&b.value&&n(nt,{ref:p,activeTabRef:b.value,direction:e.direction,disabled:!1,animation:e.animation},null)])]}),!y.value&&ne()])]}),y.value&&n(re,{type:"next",direction:e.direction,disabled:h.value>=S.value,onClick:j},null),n("div",{class:`${o}-extra`},[y.value&&ne(),(i=t.extra)==null?void 0:i.call(t)])])}}}),G=E({name:"Tabs",props:{activeKey:{type:[String,Number],default:void 0},defaultActiveKey:{type:[String,Number],default:void 0},position:{type:String,default:"top"},size:{type:String},type:{type:String,default:"line"},direction:{type:String,default:"horizontal"},editable:{type:Boolean,default:!1},showAddButton:{type:Boolean,default:!1},destroyOnHide:{type:Boolean,default:!1},lazyLoad:{type:Boolean,default:!1},justify:{type:Boolean,default:!1},animation:{type:Boolean,default:!1},headerPadding:{type:Boolean,default:!0},autoSwitch:{type:Boolean,default:!1},hideContent:{type:Boolean,default:!1},trigger:{type:String,default:"click"}},emits:{"update:activeKey":e=>!0,change:e=>!0,tabClick:(e,a)=>!0,add:e=>!0,delete:(e,a)=>!0},setup(e,{emit:a,slots:t}){const{size:c,lazyLoad:l,destroyOnHide:f,trigger:u}=W(e),o=F("tabs"),{mergedSize:r}=Se(c),d=m(()=>e.direction==="vertical"?"left":e.position),B=m(()=>["left","right"].includes(d.value)?"vertical":"horizontal"),{children:b,components:p}=Je("TabPane"),g=Q(new Map),y=m(()=>{const s=[];return p.value.forEach(C=>{const j=g.get(C);j&&s.push(j)}),s}),$=m(()=>y.value.map(s=>s.key)),S=(s,C)=>{g.set(s,C)},T=s=>{g.delete(s)},h=_(e.defaultActiveKey),z=m(()=>{var s;const C=(s=e.activeKey)!=null?s:h.value;return fe(C)?$.value[0]:C}),P=m(()=>{const s=$.value.indexOf(z.value);return s===-1?0:s});Ae(ae,Q({lazyLoad:l,destroyOnHide:f,activeKey:z,addItem:S,removeItem:T,trigger:u}));const k=s=>{s!==z.value&&(h.value=s,a("update:activeKey",s),a("change",s))},O=(s,C)=>{k(s),a("tabClick",s,C)},R=s=>{a("add",s),e.autoSwitch&&M(()=>{const C=$.value[$.value.length-1];k(C)})},L=(s,C)=>{a("delete",s,C)},q=()=>n("div",{class:[`${o}-content`,{[`${o}-content-hide`]:e.hideContent}]},[n("div",{class:[`${o}-content-list`,{[`${o}-content-animation`]:e.animation}],style:{marginLeft:`-${P.value*100}%`}},[b.value])]),J=m(()=>[o,`${o}-${B.value}`,`${o}-${d.value}`,`${o}-type-${e.type}`,`${o}-size-${r.value}`,{[`${o}-justify`]:e.justify}]);return()=>{var s;return b.value=(s=t.default)==null?void 0:s.call(t),n("div",{class:J.value},[d.value==="bottom"&&q(),n(lt,{tabs:y.value,activeKey:z.value,activeIndex:P.value,direction:B.value,position:d.value,editable:e.editable,animation:e.animation,showAddButton:e.showAddButton,headerPadding:e.headerPadding,size:r.value,type:e.type,onClick:O,onAdd:R,onDelete:L},{extra:t.extra}),d.value!=="bottom"&&q()])}}}),ot=Object.defineProperty,ce=Object.getOwnPropertySymbols,it=Object.prototype.hasOwnProperty,ut=Object.prototype.propertyIsEnumerable,de=(e,a,t)=>a in e?ot(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,st=(e,a)=>{for(var t in a||(a={}))it.call(a,t)&&de(e,t,a[t]);if(ce)for(var t of ce(a))ut.call(a,t)&&de(e,t,a[t]);return e};const rt=E({name:"TabPane",props:{title:String,disabled:{type:Boolean,default:!1},closable:{type:Boolean,default:!0},destroyOnHide:{type:Boolean,default:!1}},setup(e,{slots:a}){var t;const{title:c,disabled:l,closable:f}=W(e),u=je(),o=F("tabs"),r=ye(ae,{}),d=_(),B=m(()=>u==null?void 0:u.vnode.key),b=m(()=>B.value===r.activeKey),p=_(r.lazyLoad?b.value:!0),g=Q({key:B,title:c,disabled:l,closable:f,slots:a});return u!=null&&u.uid&&((t=r.addItem)==null||t.call(r,u.uid,g)),Fe(()=>{var y;u!=null&&u.uid&&((y=r.removeItem)==null||y.call(r,u.uid))}),X(b,y=>{y?p.value||(p.value=!0):(e.destroyOnHide||r.destroyOnHide)&&(p.value=!1)}),ee(()=>{g.slots=st({},a)}),{prefixCls:o,active:b,itemRef:d,mounted:p}}});function ct(e,a,t,c,l,f){return I(),N("div",{ref:"itemRef",class:H([`${e.prefixCls}-content-item`,{[`${e.prefixCls}-content-item-active`]:e.active}])},[e.mounted?(I(),N("div",{key:0,class:H(`${e.prefixCls}-pane`)},[me(e.$slots,"default")],2)):be("v-if",!0)],2)}var U=Y(rt,[["render",ct]]);const dt=Object.assign(G,{TabPane:U,install:(e,a)=>{we(e,a);const t=Ie(a);e.component(t+G.name,G),e.component(t+U.name,U)}});function ft(){return"QRCode"in window?window.QRCode:(De.error("\u4E8C\u7EF4\u7801\u751F\u6210\u6A21\u5757\u52A0\u8F7D\u5931\u8D25\uFF01\u8BF7\u5237\u65B0\u91CD\u8BD5\u3002"),null)}function vt(){const e=ft();function a(t,c){var f;if(!e||!c)return null;const l=new e(t,{text:c,width:128,height:128,colorDark:"#000000",colorLight:"#ffffff",correctLevel:(f=e==null?void 0:e.CorrectLevel)==null?void 0:f.Q});return new Promise(u=>{setTimeout(()=>{u(l)},0)})}return{QRCode:e,createQRCode:a}}const yt=E({__name:"Download",props:{url:{type:String},text:{type:String,default:"\u4E0B\u8F7D"},name:{type:String},fileType:{type:String,default:"png"}},setup(e){const a=e,t=m(()=>`${a.name||Date()}.${a.fileType}`);return(c,l)=>{const f=ve;return I(),V(f,{"w-60":"",size:"small",type:"primary",href:e.url,download:D(t)},{default:w(()=>[pe(Ve(e.text),1)]),_:1},8,["href","download"])}}}),mt={"f-ac":"","pl-10":"","pr-10":"","mb-10":""},bt=A("span",{"mr-10":""},"key: ",-1),pt=A("span",{"ml-30":"","mr-10":""},"value: ",-1),ht={"mt-20":"","f-jc":""},_t=A("div",{id:"qrcode","mb-20":""},null,-1),Dt=E({__name:"QRcode",setup(e){const a=()=>({key:"",value:""}),t=_(0),c=_(""),l=_(""),f=Q([a()]),{createQRCode:u}=vt();function o(){f.push(a())}function r(b){f.splice(b,1)}function d(){var g;const b=document.getElementById("qrcode");if(!b)return;b.childNodes.forEach(y=>b.removeChild(y));const p=t.value?B(f):D(l);(g=u(b,p))==null||g.then(()=>{c.value=b.childNodes[1].src})}function B(b){const p={};return b.forEach(g=>g.key&&(p[g.key]=g.value)),JSON.stringify(p)}return(b,p)=>{const g=Te,y=U,$=qe,S=ve,T=dt,h=Oe,z=Re,P=ze;return I(),V(P,{title:"\u751F\u6210\u4E8C\u7EF4\u7801"},{default:w(()=>[n(z,null,{default:w(()=>[n(h,{span:12,"b-r":"","pr-10":""},{default:w(()=>[n(T,{"active-key":D(t),"onUpdate:activeKey":p[1]||(p[1]=k=>ue(t)?t.value=k:null)},{default:w(()=>[(I(),V(y,{key:0,title:"\u666E\u901A\u94FE\u63A5/\u6587\u672C"},{default:w(()=>[n(g,{modelValue:D(l),"onUpdate:modelValue":p[0]||(p[0]=k=>ue(l)?l.value=k:null),"h-100":""},null,8,["modelValue"])]),_:1})),(I(),V(y,{key:1,title:"JSON\u683C\u5F0F\u6570\u636E"},{default:w(()=>[A("ul",null,[(I(!0),N(Le,null,He(D(f),(k,O)=>(I(),N("li",mt,[bt,n($,{modelValue:k.key,"onUpdate:modelValue":R=>k.key=R,placeholder:"\u8F93\u5165key\u503C"},null,8,["modelValue","onUpdate:modelValue"]),pt,n($,{modelValue:k.value,"onUpdate:modelValue":R=>k.value=R,placeholder:"\u8F93\u5165value\u503C"},null,8,["modelValue","onUpdate:modelValue"]),n(D(he),{onClick:R=>r(O),size:"50","ml-10":"","cursor-pointer":""},null,8,["onClick"])]))),256))]),A("div",ht,[n(S,{onClick:o},{icon:w(()=>[n(D(_e))]),_:1})])]),_:1}))]),_:1},8,["active-key"]),n(S,{"mt-20":"","w-100":"",onClick:d,type:"primary"},{default:w(()=>[pe(" \u751F\u6210\u4E8C\u7EF4\u7801 ")]),_:1})]),_:1}),n(h,{span:12,"pl-10":"","flex-col":"","f-ac-jc":""},{default:w(()=>[_t,n(yt,{url:D(c)},null,8,["url"])]),_:1})]),_:1})]),_:1})}}});export{Dt as default};
