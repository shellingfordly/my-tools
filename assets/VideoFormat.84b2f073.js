import{f as me,l as Ve,g as re,_ as le,m as Ae,i as ae,d as Me,R as tt,s as at,b as rt}from"./index.1fa74346.js";import{b as lt,l as Se,p as st,m as qe,B as Fe}from"./index.af9f7dc2.js";import{u as Ce,h as ot,a as it,f as nt,I as ut,P as dt,g as ct}from"./utils.641b1bf2.js";import{a as Ue}from"./index.6bc58b9c.js";/* empty css              */import{S as pt,O as ft}from"./index.d657e831.js";import{d as B,t as fe,c,j as N,p as Ee,o as w,a as E,b as z,n as k,U as ht,e as Ke,s as he,i as ee,r as Y,u as He,M as Ge,I as vt,g as ue,h as K,w as S,q as mt,m as ce,y as I,z as X,f as m,N as Re,k as ve,F as te,Q as _e,R as gt,D as V,l as bt,_ as Ze,x as yt,O as _t,P as jt,G as $t,H as Ct,A as wt}from"./index.fd46e5cc.js";import{I as Ot,M as Vt}from"./index.df48e166.js";import"./index.66e84a6a.js";const ze=(e,t)=>{if(!e||!t)return;const a=t.split(".");if(a.length===0)return;let r=e;for(let l=0;l<a.length;l++){if(!me(r)&&!Ve(r)||!a[l])return;if(l!==a.length-1)r=r[a[l]];else return r[a[l]]}},Ne=(e,t,a)=>{if(!e||!t)return;const r=t.split(".");if(r.length===0)return;let l=e;for(let s=0;s<r.length;s++){if(!me(l)&&!Ve(l)||!r[s])return;s!==r.length-1?l=l[r[s]]:l[r[s]]=a}},St=B({name:"Form",props:{model:{type:Object,required:!0},layout:{type:String,default:"horizontal"},size:{type:String},labelColProps:{type:Object,default:()=>({span:5,offset:0})},wrapperColProps:{type:Object,default:()=>({span:19,offset:0})},labelColStyle:Object,wrapperColStyle:Object,labelAlign:{type:String,default:"right"},disabled:{type:Boolean,default:void 0},rules:{type:Object},autoLabelWidth:{type:Boolean,default:!1}},emits:{submit:(e,t)=>!0,submitSuccess:(e,t)=>!0,submitFailed:(e,t)=>!0},setup(e,{emit:t}){const a=re("form"),{model:r,layout:l,disabled:s,labelAlign:i,labelColProps:n,wrapperColProps:b,labelColStyle:_,wrapperColStyle:y,size:d,rules:u}=fe(e),{mergedSize:g}=lt(d),O=c(()=>e.layout==="horizontal"&&e.autoLabelWidth),f=[],h=[],$=N({}),C=c(()=>Math.max(...Object.values($))),T=p=>{p&&p.field&&f.push(p)},G=p=>{p&&p.field&&f.splice(f.indexOf(p),1)},W=p=>{f.forEach(j=>{p[j.field]&&j.setField(p[j.field])})},Z=(p,j)=>{j&&$[j]!==p&&($[j]=p)},P=p=>{p&&delete $[p]},x=p=>{const j=p?[].concat(p):[];f.forEach(F=>{(j.length===0||j.includes(F.field))&&F.resetField()})},J=p=>{const j=p?[].concat(p):[];f.forEach(F=>{(j.length===0||j.includes(F.field))&&F.clearValidate()})},ye=p=>{const j=[];return f.forEach(F=>{j.push(F.validate())}),Promise.all(j).then(F=>{const L={};let A=!1;return F.forEach(o=>{o&&(A=!0,L[o.field]=o)}),Ae(p)&&p(A?L:void 0),A?L:void 0})},de=(p,j)=>{const F=[];for(const L of f)(Ve(p)&&p.includes(L.field)||p===L.field)&&F.push(L.validate());return Promise.all(F).then(L=>{const A={};let o=!1;return L.forEach(v=>{v&&(o=!0,A[v.field]=v)}),Ae(j)&&j(o?A:void 0),o?A:void 0})},ie=p=>{const j=[];f.forEach(F=>{j.push(F.validate())}),Promise.all(j).then(F=>{const L={};let A=!1;F.forEach(o=>{o&&(A=!0,L[o.field]=o)}),A?t("submitFailed",{values:r.value,errors:L},p):t("submitSuccess",r.value,p),t("submit",{values:r.value,errors:A?L:void 0},p)})};return Ee(Se,N({layout:l,disabled:s,labelAlign:i,labelColProps:n,wrapperColProps:b,labelColStyle:_,wrapperColStyle:y,model:r,size:g,rules:u,fields:f,touchedFields:h,addField:T,removeField:G,validateField:de,setLabelWidth:Z,removeLabelWidth:P,maxLabelWidth:C,autoLabelWidth:O})),{cls:c(()=>[a,`${a}-layout-${e.layout}`,`${a}-size-${g.value}`,{[`${a}-auto-label-width`]:e.autoLabelWidth}]),handleSubmit:ie,innerValidate:ye,innerValidateField:de,innerResetFields:x,innerClearValidate:J,innerSetFields:W}},methods:{validate(e){return this.innerValidate(e)},validateField(e,t){return this.innerValidateField(e,t)},resetFields(e){return this.innerResetFields(e)},clearValidate(e){return this.innerClearValidate(e)},setFields(e){return this.innerSetFields(e)}}});function Ft(e,t,a,r,l,s){return w(),E("form",{class:k(e.cls),onSubmit:t[0]||(t[0]=ht((...i)=>e.handleSubmit&&e.handleSubmit(...i),["prevent"]))},[z(e.$slots,"default")],34)}var je=le(St,[["render",Ft]]),se=Object.prototype.toString;function ge(e){return se.call(e)==="[object Array]"}function H(e){return se.call(e)==="[object Object]"}function we(e){return se.call(e)==="[object String]"}function Et(e){return se.call(e)==="[object Number]"&&e===e}function xt(e){return se.call(e)==="[object Boolean]"}function Oe(e){return se.call(e)==="[object Function]"}function Lt(e){return H(e)&&Object.keys(e).length===0}function Q(e){return e==null||e===""}function Je(e){return ge(e)&&!e.length}var xe=function(e,t){if(typeof e!="object"||typeof t!="object")return e===t;if(Oe(e)&&Oe(t))return e===t||e.toString()===t.toString();if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var a in e){var r=xe(e[a],t[a]);if(!r)return!1}return!0},Pt=function(e,t){var a={};return Object.keys(e).forEach(function(r){var l=e[r],s=t&&t[r];a[r]=H(l)?Object.assign(Object.assign({},l),s):s||l}),a},At=function(e,t){for(var a=t.split("."),r=e,l=0;l<a.length;l++)if(r=r&&r[a[l]],r===void 0)return r;return r},U="`#{value}` is not a #{type} type",Mt={required:"#{field} is required",type:{ip:U,email:U,url:U,string:U,number:U,array:U,object:U,boolean:U},number:{min:"`#{value}` is not greater than `#{min}`",max:"`#{value}` is not less than `#{max}`",equal:"`#{value}` is not equal to `#{equal}`",range:"`#{value}` is not in range `#{min} ~ #{max}`",positive:"`#{value}` is not a positive number",negative:"`#{value}` is not a negative number"},array:{length:"The `#{value}` length is not equal to #{length}",minLength:"The `#{value}` length is not greater than #{minLength}",maxLength:"The `#{value}` length is not less than #{maxLength}",includes:"#{value} is not includes #{includes}",deepEqual:"#{value} is not deep equal with #{deepEqual}",empty:"`#{value}` is not an empty array"},string:{maxLength:"The `#{value}` length is not greater than #{maxLength}",minLength:"The `#{value}` length is not less than #{minLength}",length:"The `#{value}` length is not equal to #{length}",match:"`#{value}` is not match pattern #{pattern}",uppercase:"Expect `#{value}` to be uppercased",lowercase:"Expect `#{value}` to be lowercased"},object:{deepEqual:"`#{value}` is not deep equal with #{deepEqual}",hasKeys:"`#{value}` is not has keys #{keys}",empty:"`#{value}` is not an empty object"},boolean:{true:"Expect true but got `#{value}`",false:"Expect false but got `#{value}`"}},M=function(t,a){var r=this;this.getValidateMsg=function(l,s){s===void 0&&(s={});var i=Object.assign(Object.assign({},s),{value:r.obj,field:r.field,type:r.type}),n=At(r.validateMessages,l);return Oe(n)?n(i):we(n)?n.replace(/\#\{.+?\}/g,function(b){var _=b.slice(2,-1);return _ in i?H(i[_])||ge(i[_])?JSON.stringify(i[_]):String(i[_]):b}):n},H(a)&&we(t)&&a.trim?this.obj=t.trim():H(a)&&a.ignoreEmptyString&&t===""?this.obj=void 0:this.obj=t,this.message=a.message,this.type=a.type,this.error=null,this.field=a.field||a.type,this.validateMessages=Pt(Mt,a.validateMessages)},be={not:{configurable:!0},isRequired:{configurable:!0},end:{configurable:!0}};be.not.get=function(){return this._not=!this._not,this};be.isRequired.get=function(){return(Q(this.obj)||Je(this.obj))&&(this.error={value:this.obj,type:this.type,requiredError:!0,message:this.message||(this._not?"[NOT MODE]:":"")+this.getValidateMsg("required")}),this};be.end.get=function(){return this.error};M.prototype.addError=function(t){!this.error&&t&&(this.error={value:this.obj,type:this.type,message:this.message||(H(t)?t:(this._not?"[NOT MODE]:":"")+t)})};M.prototype.validate=function(t,a){var r=this._not?t:!t;return r&&this.addError(a),this};M.prototype.collect=function(t){t&&t(this.error)};Object.defineProperties(M.prototype,be);var qt=function(e){function t(r,l){e.call(this,r,Object.assign(Object.assign({},l),{type:"string"})),this.validate(l&&l.strict?we(this.obj):!0,this.getValidateMsg("type.string"))}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var a={uppercase:{configurable:!0},lowercase:{configurable:!0}};return t.prototype.maxLength=function(l){return this.obj?this.validate(this.obj.length<=l,this.getValidateMsg("string.maxLength",{maxLength:l})):this},t.prototype.minLength=function(l){return this.obj?this.validate(this.obj.length>=l,this.getValidateMsg("string.minLength",{minLength:l})):this},t.prototype.length=function(l){return this.obj?this.validate(this.obj.length===l,this.getValidateMsg("string.length",{length:l})):this},t.prototype.match=function(l){var s=l instanceof RegExp;return s&&(l.lastIndex=0),this.validate(this.obj===void 0||s&&l.test(this.obj),this.getValidateMsg("string.match",{pattern:l}))},a.uppercase.get=function(){return this.obj?this.validate(this.obj.toUpperCase()===this.obj,this.getValidateMsg("string.uppercase")):this},a.lowercase.get=function(){return this.obj?this.validate(this.obj.toLowerCase()===this.obj,this.getValidateMsg("string.lowercase")):this},Object.defineProperties(t.prototype,a),t}(M),Rt=function(e){function t(r,l){e.call(this,r,Object.assign(Object.assign({},l),{type:"number"})),this.validate(l&&l.strict?Et(this.obj):!0,this.getValidateMsg("type.number"))}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var a={positive:{configurable:!0},negative:{configurable:!0}};return t.prototype.min=function(l){return Q(this.obj)?this:this.validate(this.obj>=l,this.getValidateMsg("number.min",{min:l}))},t.prototype.max=function(l){return Q(this.obj)?this:this.validate(this.obj<=l,this.getValidateMsg("number.max",{max:l}))},t.prototype.equal=function(l){return Q(this.obj)?this:this.validate(this.obj===l,this.getValidateMsg("number.equal",{equal:l}))},t.prototype.range=function(l,s){return Q(this.obj)?this:this.validate(this.obj>=l&&this.obj<=s,this.getValidateMsg("number.range",{min:l,max:s}))},a.positive.get=function(){return Q(this.obj)?this:this.validate(this.obj>0,this.getValidateMsg("number.positive"))},a.negative.get=function(){return Q(this.obj)?this:this.validate(this.obj<0,this.getValidateMsg("number.negative"))},Object.defineProperties(t.prototype,a),t}(M),zt=function(e){function t(r,l){e.call(this,r,Object.assign(Object.assign({},l),{type:"array"})),this.validate(l&&l.strict?ge(this.obj):!0,this.getValidateMsg("type.array",{value:this.obj,type:this.type}))}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var a={empty:{configurable:!0}};return t.prototype.length=function(l){return this.obj?this.validate(this.obj.length===l,this.getValidateMsg("array.length",{value:this.obj,length:l})):this},t.prototype.minLength=function(l){return this.obj?this.validate(this.obj.length>=l,this.getValidateMsg("array.minLength",{value:this.obj,minLength:l})):this},t.prototype.maxLength=function(l){return this.obj?this.validate(this.obj.length<=l,this.getValidateMsg("array.maxLength",{value:this.obj,maxLength:l})):this},t.prototype.includes=function(l){var s=this;return this.obj?this.validate(l.every(function(i){return s.obj.indexOf(i)!==-1}),this.getValidateMsg("array.includes",{value:this.obj,includes:l})):this},t.prototype.deepEqual=function(l){return this.obj?this.validate(xe(this.obj,l),this.getValidateMsg("array.deepEqual",{value:this.obj,deepEqual:l})):this},a.empty.get=function(){return this.validate(Je(this.obj),this.getValidateMsg("array.empty",{value:this.obj}))},Object.defineProperties(t.prototype,a),t}(M),Nt=function(e){function t(r,l){e.call(this,r,Object.assign(Object.assign({},l),{type:"object"})),this.validate(l&&l.strict?H(this.obj):!0,this.getValidateMsg("type.object"))}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var a={empty:{configurable:!0}};return t.prototype.deepEqual=function(l){return this.obj?this.validate(xe(this.obj,l),this.getValidateMsg("object.deepEqual",{deepEqual:l})):this},t.prototype.hasKeys=function(l){var s=this;return this.obj?this.validate(l.every(function(i){return s.obj[i]}),this.getValidateMsg("object.hasKeys",{keys:l})):this},a.empty.get=function(){return this.validate(Lt(this.obj),this.getValidateMsg("object.empty"))},Object.defineProperties(t.prototype,a),t}(M),kt=function(e){function t(r,l){e.call(this,r,Object.assign(Object.assign({},l),{type:"boolean"})),this.validate(l&&l.strict?xt(this.obj):!0,this.getValidateMsg("type.boolean"))}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var a={true:{configurable:!0},false:{configurable:!0}};return a.true.get=function(){return this.validate(this.obj===!0,this.getValidateMsg("boolean.true"))},a.false.get=function(){return this.validate(this.obj===!1,this.getValidateMsg("boolean.false"))},Object.defineProperties(t.prototype,a),t}(M),Tt=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Wt=new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),It=/^(2(5[0-5]{1}|[0-4]\d{1})|[0-1]?\d{1,2})(\.(2(5[0-5]{1}|[0-4]\d{1})|[0-1]?\d{1,2})){3}$/,Bt=function(e){function t(r,l){e.call(this,r,Object.assign(Object.assign({},l),{type:"type"}))}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var a={email:{configurable:!0},url:{configurable:!0},ip:{configurable:!0}};return a.email.get=function(){return this.type="email",this.validate(this.obj===void 0||Tt.test(this.obj),this.getValidateMsg("type.email"))},a.url.get=function(){return this.type="url",this.validate(this.obj===void 0||Wt.test(this.obj),this.getValidateMsg("type.url"))},a.ip.get=function(){return this.type="ip",this.validate(this.obj===void 0||It.test(this.obj),this.getValidateMsg("type.ip"))},Object.defineProperties(t.prototype,a),t}(M),Dt=function(e){function t(r,l){e.call(this,r,Object.assign(Object.assign({},l),{type:"custom"}))}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var a={validate:{configurable:!0}};return a.validate.get=function(){var r=this;return function(l,s){var i;if(l)return i=l(r.obj,r.addError.bind(r)),i&&i.then?(s&&i.then(function(){s&&s(r.error)},function(n){console.error(n)}),[i,r]):(s&&s(r.error),r.error)}},Object.defineProperties(t.prototype,a),t}(M),Ut=function(t,a){this.string=new qt(t,a),this.number=new Rt(t,a),this.array=new zt(t,a),this.object=new Nt(t,a),this.boolean=new kt(t,a),this.type=new Bt(t,a),this.custom=new Dt(t,a)},Qe=function(t,a){a===void 0&&(a={}),this.schema=t,this.options=a};Qe.prototype.validate=function(t,a){var r=this;if(!H(t))return;var l=[],s=null;function i(n,b){s||(s={}),(!s[n]||b.requiredError)&&(s[n]=b)}this.schema&&Object.keys(this.schema).forEach(function(n){if(ge(r.schema[n]))for(var b=function(d){var u=r.schema[n][d],g=u.type,O=u.message;if(!g&&!u.validator)throw"You must specify a type to field "+n+"!";var f=new Ut(t[n],Object.assign(Object.assign({},r.options),{message:O,field:n})),h=f.type[g]||null;if(!h)if(u.validator){h=f.custom.validate(u.validator),Object.prototype.toString.call(h)==="[object Array]"&&h[0].then?l.push({function:h[0],_this:h[1],key:n}):h&&i(n,h);return}else h=f[g];if(Object.keys(u).forEach(function($){u.required&&(h=h.isRequired),$!=="message"&&h[$]&&u[$]&&typeof h[$]=="object"&&(h=h[$]),h[$]&&u[$]!==void 0&&typeof h[$]=="function"&&(h=h[$](u[$]))}),h.collect(function($){$&&i(n,$)}),s)return"break"},_=0;_<r.schema[n].length;_++){var y=b(_);if(y==="break")break}}),l.length>0?Promise.all(l.map(function(n){return n.function})).then(function(){l.forEach(function(n){n._this.error&&i(n.key,n._this.error)}),a&&a(s)}):a&&a(s)};const Ye=Symbol("RowContextInjectionKey"),Kt=B({name:"Row",props:{gutter:{type:[Number,Object,Array],default:0},justify:{type:String,default:"start"},align:{type:String,default:"start"},div:{type:Boolean},wrap:{type:Boolean,default:!0}},setup(e){const{gutter:t,align:a,justify:r,div:l,wrap:s}=fe(e),i=re("row"),n=c(()=>({[`${i}`]:!l.value,[`${i}-nowrap`]:!s.value,[`${i}-align-${a.value}`]:a.value,[`${i}-justify-${r.value}`]:r.value})),b=c(()=>Array.isArray(t.value)?t.value[0]:t.value),_=c(()=>Array.isArray(t.value)?t.value[1]:0),y=Ce(b,0),d=Ce(_,0),u=c(()=>{const O={};if((y.value||d.value)&&!l.value){const f=-y.value/2,h=-d.value/2;f&&(O.marginLeft=`${f}px`,O.marginRight=`${f}px`),h&&(O.marginTop=`${h}px`,O.marginBottom=`${h}px`)}return O}),g=c(()=>[y.value,d.value]);return Ee(Ye,N({gutter:g,div:l})),{classNames:n,styles:u}}});function Ht(e,t,a,r,l,s){return w(),E("div",{class:k(e.classNames),style:Ke(e.styles)},[z(e.$slots,"default")],6)}var Gt=le(Kt,[["render",Ht]]);function Zt(e){return c(()=>{const{val:a,key:r,xs:l,sm:s,md:i,lg:n,xl:b,xxl:_}=e.value;if(!l&&!s&&!i&&!n&&!b&&!_)return a;const y={};return Ue.forEach(d=>{const u=e.value[d];ae(u)?y[d]=u:me(u)&&ae(u[r])&&(y[d]=u[r])}),y})}var Jt=Object.defineProperty,ke=Object.getOwnPropertySymbols,Qt=Object.prototype.hasOwnProperty,Yt=Object.prototype.propertyIsEnumerable,Te=(e,t,a)=>t in e?Jt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,$e=(e,t)=>{for(var a in t||(t={}))Qt.call(t,a)&&Te(e,a,t[a]);if(ke)for(var a of ke(t))Yt.call(t,a)&&Te(e,a,t[a]);return e};function Xt(e){if(Me(e)&&(["initial","auto","none"].includes(e)||/^\d+$/.test(e))||ae(e))return e;if(Me(e)&&/^\d+(px|em|rem|%)$/.test(e))return`0 0 ${e}`}const ea=B({name:"Col",props:{span:{type:Number,default:24},offset:{type:Number},order:{type:Number},xs:{type:[Number,Object]},sm:{type:[Number,Object]},md:{type:[Number,Object]},lg:{type:[Number,Object]},xl:{type:[Number,Object]},xxl:{type:[Number,Object]},flex:{type:[Number,String]}},setup(e){const t=re("col"),a=he(Ye,{}),r=c(()=>Xt(e.flex)),l=c(()=>{const{div:d}=a,{span:u,offset:g,order:O,xs:f,sm:h,md:$,lg:C,xl:T,xxl:G}=e,W={[`${t}`]:!d,[`${t}-order-${O}`]:O,[`${t}-${u}`]:!d&&!f&&!h&&!$&&!C&&!T&&!G,[`${t}-offset-${g}`]:g&&g>0},Z={xs:f,sm:h,md:$,lg:C,xl:T,xxl:G};return Object.keys(Z).forEach(P=>{const x=Z[P];x&&ae(x)?W[`${t}-${P}-${x}`]=!0:x&&me(x)&&(W[`${t}-${P}-${x.span}`]=x.span,W[`${t}-${P}-offset-${x.offset}`]=x.offset,W[`${t}-${P}-order-${x.order}`]=x.order)}),W}),s=c(()=>r.value?t:l.value),i=c(()=>{const{gutter:d,div:u}=a,g={};if(Array.isArray(d)&&!u){const O=d[0]&&d[0]/2||0,f=d[1]&&d[1]/2||0;O&&(g.paddingLeft=`${O}px`,g.paddingRight=`${O}px`),f&&(g.paddingTop=`${f}px`,g.paddingBottom=`${f}px`)}return g}),n=c(()=>r.value?{flex:r.value}:{}),b=c(()=>st(e,Ue)),_=Zt(c(()=>$e({val:e.span,key:"span"},b.value))),y=Ce(_,24,!0);return{visible:c(()=>!!y.value),classNames:s,styles:c(()=>$e($e({},i.value),n.value))}}});function ta(e,t,a,r,l,s){return e.visible?(w(),E("div",{key:0,class:k(e.classNames),style:Ke(e.styles)},[z(e.$slots,"default")],6)):ee("v-if",!0)}var aa=le(ea,[["render",ta]]);const ra=B({name:"FormItemLabel",components:{ResizeObserver:tt},props:{required:{type:Boolean,default:!1},showColon:{type:Boolean,default:!1},component:{type:String,default:"label"},attrs:Object},setup(){const e=re("form-item-label"),t=he(Se,void 0),a=vt(),r=Y(),l=()=>{r.value&&ae(r.value.offsetWidth)&&(t==null||t.setLabelWidth(r.value.offsetWidth,a==null?void 0:a.uid))};return He(()=>{r.value&&ae(r.value.offsetWidth)&&(t==null||t.setLabelWidth(r.value.offsetWidth,a==null?void 0:a.uid))}),Ge(()=>{t==null||t.removeLabelWidth(a==null?void 0:a.uid)}),{prefixCls:e,labelRef:r,handleResize:l}}}),la=m("svg",{fill:"currentColor",viewBox:"0 0 1024 1024",width:"1em",height:"1em"},[m("path",{d:"M583.338667 17.066667c18.773333 0 34.133333 15.36 34.133333 34.133333v349.013333l313.344-101.888a34.133333 34.133333 0 0 1 43.008 22.016l42.154667 129.706667a34.133333 34.133333 0 0 1-21.845334 43.178667l-315.733333 102.4 208.896 287.744a34.133333 34.133333 0 0 1-7.509333 47.786666l-110.421334 80.213334a34.133333 34.133333 0 0 1-47.786666-7.509334L505.685333 706.218667 288.426667 1005.226667a34.133333 34.133333 0 0 1-47.786667 7.509333l-110.421333-80.213333a34.133333 34.133333 0 0 1-7.509334-47.786667l214.186667-295.253333L29.013333 489.813333a34.133333 34.133333 0 0 1-22.016-43.008l42.154667-129.877333a34.133333 34.133333 0 0 1 43.008-22.016l320.512 104.106667L412.672 51.2c0-18.773333 15.36-34.133333 34.133333-34.133333h136.533334z"})],-1),sa=[la];function oa(e,t,a,r,l,s){const i=ue("ResizeObserver");return w(),K(i,{onResize:e.handleResize},{default:S(()=>[(w(),K(mt(e.component),ce({ref:"labelRef",class:e.prefixCls},e.attrs),{default:S(()=>[e.required?(w(),E("strong",{key:0,class:k(`${e.prefixCls}-required-symbol`)},sa,2)):ee("v-if",!0),z(e.$slots,"default"),I(" "+X(e.showColon?":":""),1)]),_:3},16,["class"]))]),_:3},8,["onResize"])}var ia=le(ra,[["render",oa]]);const na=B({name:"FormItemMessage",props:{error:Array,help:String},setup(){return{prefixCls:re("form-item-message")}}});function ua(e,t,a,r,l,s){return e.help||e.$slots.help?(w(),K(Re,{key:0,name:"form-blink",appear:""},{default:S(()=>[m("div",{class:k([e.prefixCls,`${e.prefixCls}-help`])},[z(e.$slots,"help",{},()=>[I(X(e.help),1)])],2)]),_:3})):(w(!0),E(te,{key:1},ve(e.error,i=>(w(),K(Re,{key:i,name:"form-blink",appear:""},{default:S(()=>[m("div",{role:"alert",class:k([e.prefixCls])},X(i),3)]),_:2},1024))),128))}var da=le(na,[["render",ua]]);const We=["success","warning","error","validating"],ca=e=>{let t="";for(const a of Object.keys(e)){const r=e[a];r&&(!t||We.indexOf(r)>We.indexOf(t))&&(t=e[a])}return t},pa=e=>{const t=[];for(const a of Object.keys(e)){const r=e[a];r&&t.push(r)}return t};var fa=Object.defineProperty,Ie=Object.getOwnPropertySymbols,ha=Object.prototype.hasOwnProperty,va=Object.prototype.propertyIsEnumerable,Be=(e,t,a)=>t in e?fa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,De=(e,t)=>{for(var a in t||(t={}))ha.call(t,a)&&Be(e,a,t[a]);if(Ie)for(var a of Ie(t))va.call(t,a)&&Be(e,a,t[a]);return e};const ma=B({name:"FormItem",components:{ArcoRow:Gt,ArcoCol:aa,FormItemLabel:ia,FormItemMessage:da},props:{field:{type:String,default:""},label:String,showColon:{type:Boolean,default:!1},noStyle:{type:Boolean,default:!1},disabled:{type:Boolean,default:void 0},help:String,extra:String,required:{type:Boolean,default:!1},rules:{type:[Object,Array]},validateStatus:{type:String},validateTrigger:{type:[String,Array],default:"change"},labelColProps:Object,wrapperColProps:Object,hideLabel:{type:Boolean,default:!1},hideAsterisk:{type:Boolean,default:!1},labelColStyle:Object,wrapperColStyle:Object,rowProps:Object,rowClass:[String,Array,Object],contentClass:[String,Array,Object],contentFlex:{type:Boolean,default:!0},mergeProps:{type:[Boolean,Function],default:!0},labelColFlex:{type:[Number,String]},feedback:{type:Boolean,default:!1},labelComponent:{type:String,default:"label"},labelAttrs:Object},setup(e){const t=re("form-item"),{field:a}=fe(e),r=he(Se,{}),{autoLabelWidth:l,layout:s}=fe(r),i=c(()=>{var o;const v=De({},(o=e.labelColProps)!=null?o:r.labelColProps);return e.labelColFlex?v.flex=e.labelColFlex:r.autoLabelWidth&&(v.flex=`${r.maxLabelWidth}px`),v}),n=c(()=>{var o;const v=De({},(o=e.wrapperColProps)!=null?o:r.wrapperColProps);return(e.labelColFlex||r.autoLabelWidth)&&(v.flex="auto"),v}),b=c(()=>{var o;return(o=e.labelColStyle)!=null?o:r.labelColStyle}),_=c(()=>{var o;return(o=e.wrapperColStyle)!=null?o:r.wrapperColStyle}),y=ze(r.model,e.field),d=N({}),u=N({}),g=c(()=>ca(d)),O=c(()=>pa(u)),f=Y(!1),h=c(()=>ze(r.model,e.field)),$=c(()=>{var o;return Boolean((o=e.disabled)!=null?o:r==null?void 0:r.disabled)}),C=c(()=>{var o;return(o=e.validateStatus)!=null?o:g.value}),T=c(()=>g.value==="error"),G=c(()=>{var o,v,q;const ne=[].concat((q=(v=e.rules)!=null?v:(o=r==null?void 0:r.rules)==null?void 0:o[e.field])!=null?q:[]),D=ne.some(R=>R.required);return e.required&&!D?[{required:!0}].concat(ne):ne}),W=c(()=>G.value.some(o=>o.required)),Z=e.noStyle?he(qe,void 0):void 0,P=(o,{status:v,message:q})=>{d[o]=v,u[o]=q,e.noStyle&&(Z==null||Z.updateValidateState(o,{status:v,message:q}))},x=c(()=>e.feedback&&C.value?C.value:void 0),J=()=>{if(f.value)return Promise.resolve();const o=G.value;if(!a.value||o.length===0)return g.value&&ie(),Promise.resolve();const v=a.value,q=h.value;P(v,{status:"",message:""});const ne=new Qe({[v]:o.map(D=>(!D.type&&!D.validator&&(D.type="string"),D))},{ignoreEmptyString:!0});return new Promise(D=>{ne.validate({[v]:q},R=>{var Le;const Pe=Boolean(R==null?void 0:R[v]);P(v,{status:Pe?"error":"",message:(Le=R==null?void 0:R[v].message)!=null?Le:""});const et=Pe?{label:e.label,field:a.value,value:R[v].value,type:R[v].type,isRequiredError:Boolean(R[v].requiredError),message:R[v].message}:void 0;D(et)})})},ye=c(()=>[].concat(e.validateTrigger)),de=c(()=>ye.value.reduce((o,v)=>{switch(v){case"change":return o.onChange=()=>{J()},o;case"input":return o.onInput=()=>{_e(()=>{J()})},o;case"focus":return o.onFocus=()=>{J()},o;case"blur":return o.onBlur=()=>{J()},o;default:return o}},{}));Ee(qe,N({eventHandlers:de,size:r&&gt(r,"size"),disabled:$,error:T,feedback:x,updateValidateState:P}));const ie=()=>{a.value&&P(a.value,{status:"",message:""})},j=N({field:a,disabled:$,error:T,validate:J,clearValidate:ie,resetField:()=>{ie(),f.value=!0,(r==null?void 0:r.model)&&a.value&&Ne(r.model,a.value,y),_e(()=>{f.value=!1})},setField:o=>{var v,q;a.value&&(f.value=!0,"value"in o&&(r==null?void 0:r.model)&&a.value&&Ne(r.model,a.value,o.value),(o.status||o.message)&&P(a.value,{status:(v=o.status)!=null?v:"",message:(q=o.message)!=null?q:""}),_e(()=>{f.value=!1}))}});He(()=>{var o;j.field&&((o=r.addField)==null||o.call(r,j))}),Ge(()=>{var o;j.field&&((o=r.removeField)==null||o.call(r,j))});const F=c(()=>[t,`${t}-layout-${r.layout}`,{[`${t}-error`]:T.value,[`${t}-status-${C.value}`]:Boolean(C.value)},e.rowClass]),L=c(()=>[`${t}-label-col`,{[`${t}-label-col-left`]:r.labelAlign==="left",[`${t}-label-col-flex`]:r.autoLabelWidth||e.labelColFlex}]),A=c(()=>[`${t}-wrapper-col`,{[`${t}-wrapper-col-flex`]:!n.value}]);return{prefixCls:t,cls:F,isRequired:W,isError:T,finalMessage:O,mergedLabelCol:i,mergedWrapperCol:n,labelColCls:L,autoLabelWidth:l,layout:s,mergedLabelStyle:b,wrapperColCls:A,mergedWrapperStyle:_}}});function ga(e,t,a,r,l,s){var i;const n=ue("FormItemLabel"),b=ue("ArcoCol"),_=ue("FormItemMessage"),y=ue("ArcoRow");return e.noStyle?z(e.$slots,"default",{key:0}):(w(),K(y,ce({key:1,class:[e.cls,{[`${e.prefixCls}-has-help`]:Boolean((i=e.$slots.help)!=null?i:e.help)}],wrap:!(e.labelColFlex||e.autoLabelWidth),div:e.layout!=="horizontal"||e.hideLabel},e.rowProps),{default:S(()=>[e.hideLabel?ee("v-if",!0):(w(),K(b,ce({key:0,class:e.labelColCls,style:e.mergedLabelStyle},e.mergedLabelCol),{default:S(()=>[V(n,{required:e.hideAsterisk?!1:e.isRequired,"show-colon":e.showColon,component:e.labelComponent,attrs:e.labelAttrs},{default:S(()=>[e.$slots.label||e.label?z(e.$slots,"label",{key:0},()=>[I(X(e.label),1)]):ee("v-if",!0)]),_:3},8,["required","show-colon","component","attrs"])]),_:3},16,["class","style"])),V(b,ce({class:e.wrapperColCls,style:e.mergedWrapperStyle},e.mergedWrapperCol),{default:S(()=>[m("div",{class:k(`${e.prefixCls}-content-wrapper`)},[m("div",{class:k([`${e.prefixCls}-content`,{[`${e.prefixCls}-content-flex`]:e.contentFlex},e.contentClass])},[z(e.$slots,"default")],2)],2),e.isError||e.$slots.help||e.help?(w(),K(_,{key:0,error:e.finalMessage,help:e.help},bt({_:2},[e.$slots.help?{name:"help",fn:S(()=>[z(e.$slots,"help")])}:void 0]),1032,["error","help"])):ee("v-if",!0),e.$slots.extra||e.extra?(w(),E("div",{key:1,class:k(`${e.prefixCls}-extra`)},[z(e.$slots,"extra",{},()=>[I(X(e.extra),1)])],2)):ee("v-if",!0)]),_:3},16,["class","style"])]),_:3},16,["class","wrap","div"]))}var pe=le(ma,[["render",ga]]);const ba=Object.assign(je,{Item:pe,install:(e,t)=>{at(e,t);const a=rt(t);e.component(a+je.name,je),e.component(a+pe.name,pe)}});function ya(){return new Promise((e,t)=>{const a=document.createElement("input");a.type="file",a.accept="video/*",a.multiple=!1,a.onchange=()=>{if(a.files!=null&&a.files.length>0){const r=a.files.item(0);r&&e(ot(r))}t("\u6587\u4EF6\u4E0A\u4F20\u5931\u8D25\uFF01")},a.click()})}const oe=e=>($t("data-v-9dbc2722"),e=e(),Ct(),e),_a={class:"setting"},ja=oe(()=>m("span",null,"\u5E27\u6570 :",-1)),$a=oe(()=>m("span",null,"\u5BBD\u5EA6:",-1)),Ca=oe(()=>m("span",null,"\u9AD8\u5EA6:",-1)),wa=oe(()=>m("span",null,"\u5F00\u59CB\u65F6\u95F4:",-1)),Oa=oe(()=>m("span",null,"\u7ED3\u675F\u65F6\u95F4:",-1)),Va=oe(()=>m("span",null,"\u6587\u4EF6\u683C\u5F0F:",-1)),Sa=I(" \u5F00\u59CB\u8F6C\u6362 "),Fa=B({__name:"FormatSetting",props:{fileInfo:null},emits:["change"],setup(e,{emit:t}){const a=e,r=["gif","mp4","avi","webm","mpeg","flv"],l=Y(!1),s=N({type:"video",outputName:"output",filename:"",frameRate:25,rangeStart:0,rangeEnd:10,width:0,height:0,fileType:"gif"}),i=Y(0),{ffmpeg:n,writeFile:b,ffmpegRun:_}=it();yt(()=>a.fileInfo,d=>{d&&(s.width=d==null?void 0:d.width,s.height=d==null?void 0:d.height,s.rangeEnd=d==null?void 0:d.duration)}),n.setProgress(({time:d})=>{const u=d>=0?d:0;i.value=nt(u/s.rangeEnd,2)});async function y(){var O;const d=(O=a.fileInfo)==null?void 0:O.file;if(!d)return;l.value=!0,await b(d);const{url:u,size:g}=await _({...s,filename:d.name});t("change",{url:u,size:g,type:s.fileType}),l.value=!1}return(d,u)=>{const g=ut,O=ft,f=pt,h=Fe,$=dt;return w(),E("div",_a,[m("div",null,[ja,V(g,{type:"text",modelValue:s.frameRate,"onUpdate:modelValue":u[0]||(u[0]=C=>s.frameRate=C)},null,8,["modelValue"])]),m("div",null,[$a,V(g,{type:"text",modelValue:s.width,"onUpdate:modelValue":u[1]||(u[1]=C=>s.width=C)},null,8,["modelValue"])]),m("div",null,[Ca,V(g,{type:"text",modelValue:s.height,"onUpdate:modelValue":u[2]||(u[2]=C=>s.height=C)},null,8,["modelValue"])]),m("div",null,[wa,V(g,{type:"text",modelValue:s.rangeStart,"onUpdate:modelValue":u[3]||(u[3]=C=>s.rangeStart=C)},null,8,["modelValue"])]),m("div",null,[Oa,V(g,{type:"text",modelValue:s.rangeEnd,"onUpdate:modelValue":u[4]||(u[4]=C=>s.rangeEnd=C)},null,8,["modelValue"])]),m("div",null,[Va,V(f,{"w-320i":"",modelValue:s.fileType,"onUpdate:modelValue":u[5]||(u[5]=C=>s.fileType=C)},{default:S(()=>[(w(),E(te,null,ve(r,C=>V(O,{value:C,key:C},{default:S(()=>[I(X(C.toUpperCase()),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])]),m("div",null,[V(h,{loading:l.value,onClick:y,type:"primary","mr-10":""},{default:S(()=>[Sa]),_:1},8,["loading"]),_t(V($,{percent:i.value,max:100,min:0,"w-200i":""},null,8,["percent"]),[[jt,i.value||l.value]])])])}}});var Ea=Ze(Fa,[["__scopeId","data-v-9dbc2722"]]);const xa={flex:"","mb-10":"","b-1":"","b-rd-10":""},La={"f-ac":"","wp-50":"","p-10":""},Pa=["src"],Aa=["src"],Ma={"wp-50":"","p-10":"","b-l-1":""},qa=m("div",{"fs-20":"","fw-700":"","ml-10":"","mb-10":""},"\u6587\u4EF6\u4FE1\u606F",-1),Ra=m("span",null,"M",-1),za={"f-ac-jc":""},Na=I(" \u9884\u89C8 "),ka=I(" \u4E0B\u8F7D "),Ta=["src"],Wa=["src"],Ia=B({__name:"FormatCard",props:{file:null},setup(e){const t=e,a=Y(!1),r=c(()=>(t.file.size/1e6).toFixed(2)),l=Y("output");return(s,i)=>{const n=Ot,b=pe,_=ba,y=Fe,d=Vt;return w(),E(te,null,[m("div",xa,[m("div",La,[e.file.type==="gif"?(w(),E("img",{key:0,src:e.file.url,"wp-100":""},null,8,Pa)):(w(),E("video",{key:1,src:e.file.url,autoplay:"",loop:"","wp-100":""},null,8,Aa))]),m("div",Ma,[qa,V(_,{model:{},"label-col-props":{span:6},"wrapper-col-props":{span:18}},{default:S(()=>[V(b,{label:"\u5927\u5C0F"},{default:S(()=>[V(n,{"model-value":wt(r),disabled:""},{suffix:S(()=>[Ra]),_:1},8,["model-value"])]),_:1}),V(b,{field:"output",label:"\u540D\u5B57"},{default:S(()=>[V(n,{modelValue:l.value,"onUpdate:modelValue":i[0]||(i[0]=u=>l.value=u)},{suffix:S(()=>[m("span",null,"."+X(e.file.type),1)]),_:1},8,["modelValue"])]),_:1})]),_:1}),m("div",za,[V(y,{"w-60":"","mr-20":"",size:"small",type:"outline",onClick:i[1]||(i[1]=u=>a.value=!0)},{default:S(()=>[Na]),_:1}),V(y,{"w-60":"",size:"small",type:"primary",href:e.file.url,download:`${l.value}.${e.file.type}`},{default:S(()=>[ka]),_:1},8,["href","download"])])])]),V(d,{title:`output.${e.file.type}`,visible:a.value,footer:!1,onCancel:i[2]||(i[2]=u=>a.value=!1),width:"80%"},{default:S(()=>[e.file.type==="gif"?(w(),E("img",{key:0,src:e.file.url},null,8,Ta)):(w(),E("video",{key:1,src:e.file.url,autoplay:"",loop:""},null,8,Wa))]),_:1},8,["title","visible"])],64)}}});const Ba={"mb-20":""},Da=I("\u4E0A\u4F20\u6587\u4EF6"),Ua={flex:"","b-1":""},Ka={"wp-50":"","p-20":"","b-r-1":""},Ha=["onClick"],Ga=["src"],Za={"wp-50":"","p-20":"",class:"right"},Ja=B({__name:"VideoFormat",setup(e){const t=N([]),a=Y({}),r=N([]);async function l(){const n=await ya(),b=await ct(n);s(b),t.push(b)}function s(n){a.value=n}function i(n){r.push(n)}return(n,b)=>{const _=Fe;return w(),E(te,null,[m("div",Ba,[V(_,{onClick:l,type:"primary"},{default:S(()=>[Da]),_:1})]),m("div",Ua,[m("div",Ka,[V(Ea,{fileInfo:a.value,onChange:i},null,8,["fileInfo"]),(w(!0),E(te,null,ve(t,y=>(w(),E("div",{class:k(["video-box",a.value.id===y.id&&"selected"]),key:y.id,onClick:d=>s(y)},[m("video",{src:y.url,"h-300":"",autoplay:"",loop:""},null,8,Ga)],10,Ha))),128))]),m("div",Za,[(w(!0),E(te,null,ve(r,y=>(w(),K(Ia,{file:y},null,8,["file"]))),256))])])],64)}}});var or=Ze(Ja,[["__scopeId","data-v-053b1992"]]);export{or as default};
