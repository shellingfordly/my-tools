import{g as U,b as ht,n as jt,c as he,o as Bt,k as It,i as F,_ as K,s as He,a as Ke}from"./index.0aae8883.js";import{d as A,C as _e,r as Y,c as p,w as gt,l as k,H as ke,g as Ce,S as nt,F as be,o as b,e as E,n as L,h as G,i as N,s as J,a as Z,G as Se,b as se,B as X,U as rt,D as fe,t as Ye,f as yt,Y as Ee,Z as Pe}from"./index.78523bd3.js";import{I as Nt}from"./index.c3a65d89.js";import{u as bt,b as Le,c as ot,p as Ot,a as Ze,d as xt,I as Mt,B as Ve}from"./index.c6fb359b.js";import{F as Ft,E as Wt,I as it,g as Rt,K as at,b as wt}from"./index.e611c425.js";import{c as Tt}from"./_commonjsHelpers.4e997714.js";var At=Object.defineProperty,st=Object.getOwnPropertySymbols,Gt=Object.prototype.hasOwnProperty,Ut=Object.prototype.propertyIsEnumerable,lt=(e,t,n)=>t in e?At(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ut=(e,t)=>{for(var n in t||(t={}))Gt.call(t,n)&&lt(e,n,t[n]);if(st)for(var n of st(t))Ut.call(t,n)&&lt(e,n,t[n]);return e},ge=A({name:"Input",inheritAttrs:!1,props:{modelValue:String,defaultValue:{type:String,default:""},size:{type:String},allowClear:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},error:{type:Boolean,default:!1},placeholder:String,maxLength:{type:[Number,Object],default:0},showWordLimit:{type:Boolean,default:!1},wordLength:{type:Function},wordSlice:{type:Function},inputAttrs:{type:Object},type:{type:String,default:"text"}},emits:{"update:modelValue":e=>!0,input:(e,t)=>!0,change:(e,t)=>!0,pressEnter:e=>!0,clear:e=>!0,focus:e=>!0,blur:e=>!0},setup(e,{emit:t,slots:n,attrs:o}){const{size:u,disabled:s,error:f,modelValue:v}=_e(e),m=U("input"),h=Y(),{mergedSize:P,mergedDisabled:$,mergedError:W,feedback:D,eventHandlers:z}=bt({size:u,disabled:s,error:f}),{mergedSize:j}=Le(P),x=Y(e.defaultValue),w=p(()=>{var d;return(d=e.modelValue)!=null?d:x.value});gt(v,d=>{(ht(d)||jt(d))&&(x.value="")});let V=w.value;const y=Y(!1),S=p(()=>e.allowClear&&!$.value&&Boolean(w.value)),_=Y(!1),R=Y(""),B=d=>{var g;return It(e.wordLength)?e.wordLength(d):(g=d.length)!=null?g:0},H=p(()=>B(w.value)),le=p(()=>W.value||Boolean(he(e.maxLength)&&e.maxLength.errorOnly&&H.value>Q.value)),re=p(()=>he(e.maxLength)&&Boolean(e.maxLength.errorOnly)),Q=p(()=>he(e.maxLength)?e.maxLength.length:e.maxLength),oe=d=>{var g,O;Q.value&&!re.value&&B(d)>Q.value&&(d=(O=(g=e.wordSlice)==null?void 0:g.call(e,d,Q.value))!=null?O:d.slice(0,Q.value)),x.value=d,t("update:modelValue",d)},me=d=>{h.value&&d.target!==h.value&&(d.preventDefault(),h.value.focus())},te=(d,g)=>{var O,ae;d!==V&&(V=d,t("change",d,g),(ae=(O=z.value)==null?void 0:O.onChange)==null||ae.call(O,g))},ue=d=>{var g,O;y.value=!0,V=w.value,t("focus",d),(O=(g=z.value)==null?void 0:g.onFocus)==null||O.call(g,d)},ce=d=>{var g,O;y.value=!1,te(w.value,d),t("blur",d),(O=(g=z.value)==null?void 0:g.onBlur)==null||O.call(g,d)},ie=d=>{var g,O,ae;const{value:tt}=d.target;d.type==="compositionend"?(_.value=!1,R.value="",oe(tt),t("input",tt,d),(O=(g=z.value)==null?void 0:g.onInput)==null||O.call(g,d),nt(()=>{h.value&&w.value!==h.value.value&&(h.value.value=w.value)})):(_.value=!0,R.value=w.value+((ae=d.data)!=null?ae:""))},a=d=>{var g,O;const{value:ae}=d.target;_.value||(oe(ae),t("input",ae,d),(O=(g=z.value)==null?void 0:g.onInput)==null||O.call(g,d),nt(()=>{h.value&&w.value!==h.value.value&&(h.value.value=w.value)}))},r=d=>{oe(""),te("",d),t("clear",d)},i=d=>{const g=d.key||d.code;!_.value&&g===Wt.key&&(te(w.value,d),t("pressEnter",d))},l=p(()=>[`${m}-outer`,`${m}-outer-size-${j.value}`,{[`${m}-outer-has-suffix`]:Boolean(n.suffix),[`${m}-outer-disabled`]:$.value}]),c=p(()=>[`${m}-wrapper`,{[`${m}-error`]:le.value,[`${m}-disabled`]:$.value,[`${m}-focus`]:y.value}]),C=p(()=>[m,`${m}-size-${j.value}`]),I=p(()=>Bt(o,ot)),T=p(()=>Ot(o,ot)),q=p(()=>{const d=ut(ut({},T.value),e.inputAttrs);return le.value&&(d["aria-invalid"]=!0),d}),M=d=>{var g;return k("span",ke({class:c.value,onMousedown:me},d?void 0:I.value),[n.prefix&&k("span",{class:`${m}-prefix`},[n.prefix()]),k("input",ke(q.value,{ref:h,class:C.value,value:w.value,type:e.type,placeholder:e.placeholder,readonly:e.readonly,disabled:$.value,onInput:a,onKeydown:i,onFocus:ue,onBlur:ce,onCompositionstart:ie,onCompositionupdate:ie,onCompositionend:ie}),null),S.value&&k(Ze,{prefix:m,class:`${m}-clear-btn`,onClick:r},{default:()=>[k(xt,null,null)]}),(n.suffix||Boolean(e.maxLength)&&e.showWordLimit||Boolean(D.value))&&k("span",{class:[`${m}-suffix`,{[`${m}-suffix-has-feedback`]:D.value}]},[Boolean(e.maxLength)&&e.showWordLimit&&k("span",{class:`${m}-word-limit`},[H.value,Ce("/"),Q.value]),(g=n.suffix)==null?void 0:g.call(n),Boolean(D.value)&&k(Ft,{type:D.value},null)])])};return{inputRef:h,render:()=>n.prepend||n.append?k("span",ke({class:l.value},I.value),[n.prepend&&k("span",{class:`${m}-prepend`},[n.prepend()]),M(!0),n.append&&k("span",{class:`${m}-append`},[n.append()])]):M()}},methods:{focus(){var e;(e=this.inputRef)==null||e.focus()},blur(){var e;(e=this.inputRef)==null||e.blur()}},render(){return this.render()}}),je=A({name:"InputSearch",props:{searchButton:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},size:{type:String},buttonText:{type:String},buttonProps:{type:Object}},emits:{search:(e,t)=>!0},setup(e,{emit:t,slots:n}){const{size:o}=_e(e),u=U("input-search"),{mergedSize:s}=Le(o),f=Y(),v=$=>{f.value.inputRef&&t("search",f.value.inputRef.value,$)},m=()=>{var $;return k(be,null,[e.loading?k(Mt,null,null):k(Ze,{onClick:v},{default:()=>[k(it,null,null)]}),($=n.suffix)==null?void 0:$.call(n)])},h=()=>{var $;let W={};return e.buttonText||n["button-default"]||n["button-icon"]?W={default:($=n["button-default"])!=null?$:e.buttonText?()=>e.buttonText:void 0,icon:n["button-icon"]}:W={icon:()=>k(it,null,null)},k(Ve,ke({type:"primary",class:`${u}-btn`,disabled:e.disabled,size:s.value,loading:e.loading},e.buttonProps,{onClick:v}),W)};return{inputRef:f,render:()=>k(ge,{ref:f,class:u,size:s.value,disabled:e.disabled},{prepend:n.prepend,prefix:n.prefix,suffix:e.searchButton?n.suffix:m,append:e.searchButton?h:n.append})}},methods:{focus(){var e;(e=this.inputRef)==null||e.focus()},blur(){var e;(e=this.inputRef)==null||e.blur()}},render(){return this.render()}});const Dt=A({name:"IconEye",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=U("icon"),n=p(()=>[t,`${t}-eye`,{[`${t}-spin`]:e.spin}]),o=p(()=>{if(e.size)return{fontSize:F(e.size)?`${e.size}px`:e.size}});return{cls:n,sizeStyle:o}}}),Vt=["stroke-width","stroke-linecap","stroke-linejoin"],qt=N("path",{"clip-rule":"evenodd",d:"M24 37c6.627 0 12.627-4.333 18-13-5.373-8.667-11.373-13-18-13-6.627 0-12.627 4.333-18 13 5.373 8.667 11.373 13 18 13Z"},null,-1),Ht=N("path",{d:"M29 24a5 5 0 1 1-10 0 5 5 0 0 1 10 0Z"},null,-1),Kt=[qt,Ht];function Yt(e,t,n,o,u,s){return b(),E("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:L(e.cls),style:G(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},Kt,14,Vt)}var Be=K(Dt,[["render",Yt]]);const Zt=Object.assign(Be,{install:(e,t)=>{var n;const o=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(o+Be.name,Be)}}),Jt=A({name:"IconEyeInvisible",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=U("icon"),n=p(()=>[t,`${t}-eye-invisible`,{[`${t}-spin`]:e.spin}]),o=p(()=>{if(e.size)return{fontSize:F(e.size)?`${e.size}px`:e.size}});return{cls:n,sizeStyle:o}}}),Xt=["stroke-width","stroke-linecap","stroke-linejoin"],Qt=N("path",{d:"M14 14.5c-2.69 2-5.415 5.33-8 9.5 5.373 8.667 11.373 13 18 13 3.325 0 6.491-1.09 9.5-3.271M17.463 12.5C19 11 21.75 11 24 11c6.627 0 12.627 4.333 18 13-1.766 2.848-3.599 5.228-5.5 7.14"},null,-1),en=N("path",{d:"M29 24a5 5 0 1 1-10 0 5 5 0 0 1 10 0ZM6.852 7.103l34.294 34.294"},null,-1),tn=[Qt,en];function nn(e,t,n,o,u,s){return b(),E("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:L(e.cls),style:G(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},tn,14,Xt)}var Ie=K(Jt,[["render",nn]]);const rn=Object.assign(Ie,{install:(e,t)=>{var n;const o=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(o+Ie.name,Ie)}}),on=A({name:"InputPassword",components:{IconEye:Zt,IconEyeInvisible:rn,AIconHover:Ze,AInput:ge},props:{invisibleButton:{type:Boolean,default:!0}},setup(){const e=Y(),t=Y(!0);return{inputRef:e,invisible:t,handleInvisible:()=>{t.value=!t.value}}},methods:{focus(){var e;(e=this.inputRef)==null||e.focus()},blur(){var e;(e=this.inputRef)==null||e.blur()}}});function an(e,t,n,o,u,s){const f=J("icon-eye"),v=J("icon-eye-invisible"),m=J("a-icon-hover"),h=J("a-input");return b(),Z(h,{ref:"inputRef",type:e.invisible?"password":"text"},Se({_:2},[e.$slots.prepend?{name:"prepend",fn:se(()=>[X(e.$slots,"prepend")])}:void 0,e.$slots.prefix?{name:"prefix",fn:se(()=>[X(e.$slots,"prefix")])}:void 0,e.invisibleButton||e.$slots.suffix?{name:"suffix",fn:se(()=>[e.invisibleButton?(b(),Z(m,{key:0,onClick:e.handleInvisible,onMousedown:t[0]||(t[0]=rt(()=>{},["prevent"])),onMouseup:t[1]||(t[1]=rt(()=>{},["prevent"]))},{default:se(()=>[e.invisible?(b(),Z(f,{key:0})):(b(),Z(v,{key:1}))]),_:1},8,["onClick"])):fe("v-if",!0),X(e.$slots,"suffix")])}:void 0,e.$slots.append?{name:"append",fn:se(()=>[X(e.$slots,"append")])}:void 0]),1032,["type"])}var Ne=K(on,[["render",an]]);const sn=A({name:"InputGroup",setup(){return{prefixCls:U("input-group")}}});function ln(e,t,n,o,u,s){return b(),E("div",{class:L(e.prefixCls)},[X(e.$slots,"default")],2)}var Oe=K(sn,[["render",ln]]);const un=Object.assign(ge,{Search:je,Password:Ne,Group:Oe,install:(e,t)=>{He(e,t);const n=Ke(t);e.component(n+ge.name,ge),e.component(n+Oe.name,Oe),e.component(n+je.name,je),e.component(n+Ne.name,Ne)}}),cn=A({name:"IconUp",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=U("icon"),n=p(()=>[t,`${t}-up`,{[`${t}-spin`]:e.spin}]),o=p(()=>{if(e.size)return{fontSize:F(e.size)?`${e.size}px`:e.size}});return{cls:n,sizeStyle:o}}}),dn=["stroke-width","stroke-linecap","stroke-linejoin"],fn=N("path",{d:"M39.6 30.557 24.043 15 8.487 30.557"},null,-1),pn=[fn];function mn(e,t,n,o,u,s){return b(),E("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:L(e.cls),style:G(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},pn,14,dn)}var xe=K(cn,[["render",mn]]);const vn=Object.assign(xe,{install:(e,t)=>{var n;const o=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(o+xe.name,xe)}});function Je(e,t){return t===void 0&&(t=15),+parseFloat(Number(e).toPrecision(t))}function ee(e){var t=e.toString().split(/[eE]/),n=(t[0].split(".")[1]||"").length-+(t[1]||0);return n>0?n:0}function we(e){if(e.toString().indexOf("e")===-1)return Number(e.toString().replace(".",""));var t=ee(e);return t>0?Je(Number(e)*Math.pow(10,t)):Number(e)}function qe(e){St&&(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)&&console.warn(e+" is beyond boundary when transfer to integer, the results may not be accurate")}function ze(e,t){var n=e[0],o=e[1],u=e.slice(2),s=t(n,o);return u.forEach(function(f){s=t(s,f)}),s}function ne(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length>2)return ze(e,ne);var n=e[0],o=e[1],u=we(n),s=we(o),f=ee(n)+ee(o),v=u*s;return qe(v),v/Math.pow(10,f)}function $t(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length>2)return ze(e,$t);var n=e[0],o=e[1],u=Math.pow(10,Math.max(ee(n),ee(o)));return(ne(n,u)+ne(o,u))/u}function kt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length>2)return ze(e,kt);var n=e[0],o=e[1],u=Math.pow(10,Math.max(ee(n),ee(o)));return(ne(n,u)-ne(o,u))/u}function Xe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length>2)return ze(e,Xe);var n=e[0],o=e[1],u=we(n),s=we(o);return qe(u),qe(s),ne(u/s,Je(Math.pow(10,ee(o)-ee(n))))}function hn(e,t){var n=Math.pow(10,t),o=Xe(Math.round(Math.abs(ne(e,n))),n);return e<0&&o!==0&&(o=ne(o,-1)),o}var St=!0;function gn(e){e===void 0&&(e=!0),St=e}var pe={strip:Je,plus:$t,minus:kt,times:ne,divide:Xe,round:hn,digitLength:ee,float2Fixed:we,enableBoundaryChecking:gn};const yn=A({name:"IconPlus",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=U("icon"),n=p(()=>[t,`${t}-plus`,{[`${t}-spin`]:e.spin}]),o=p(()=>{if(e.size)return{fontSize:F(e.size)?`${e.size}px`:e.size}});return{cls:n,sizeStyle:o}}}),bn=["stroke-width","stroke-linecap","stroke-linejoin"],wn=N("path",{d:"M5 24h38M24 5v38"},null,-1),$n=[wn];function kn(e,t,n,o,u,s){return b(),E("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:L(e.cls),style:G(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},$n,14,bn)}var Me=K(yn,[["render",kn]]);const Sn=Object.assign(Me,{install:(e,t)=>{var n;const o=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(o+Me.name,Me)}}),_n=A({name:"IconMinus",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=U("icon"),n=p(()=>[t,`${t}-minus`,{[`${t}-spin`]:e.spin}]),o=p(()=>{if(e.size)return{fontSize:F(e.size)?`${e.size}px`:e.size}});return{cls:n,sizeStyle:o}}}),Cn=["stroke-width","stroke-linecap","stroke-linejoin"],Ln=N("path",{d:"M5 24h38"},null,-1),zn=[Ln];function En(e,t,n,o,u,s){return b(),E("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:L(e.cls),style:G(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},zn,14,Cn)}var Fe=K(_n,[["render",En]]);const Pn=Object.assign(Fe,{install:(e,t)=>{var n;const o=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(o+Fe.name,Fe)}}),jn=150;pe.enableBoundaryChecking(!1);var We=A({name:"InputNumber",props:{modelValue:Number,defaultValue:Number,mode:{type:String,default:"embed"},precision:Number,step:{type:Number,default:1},disabled:{type:Boolean,default:!1},error:{type:Boolean,default:!1},max:{type:Number,default:1/0},min:{type:Number,default:-1/0},formatter:{type:Function},parser:{type:Function},placeholder:String,hideButton:{type:Boolean,default:!1},size:{type:String},allowClear:{type:Boolean,default:!1},modelEvent:{type:String,default:"change"}},emits:{"update:modelValue":e=>!0,change:(e,t)=>!0,focus:e=>!0,blur:e=>!0,clear:e=>!0,input:(e,t,n)=>!0},setup(e,{emit:t,slots:n}){var o;const{size:u,disabled:s}=_e(e),f=U("input-number"),v=Y(),{mergedSize:m,mergedDisabled:h,eventHandlers:P}=bt({size:u,disabled:s}),{mergedSize:$}=Le(m),W=p(()=>{if(F(e.precision)){const r=`${e.step}`.split(".")[1],i=r&&r.length||0;return Math.max(i,e.precision)}}),D=r=>{var i,l;if(!F(r))return"";const c=W.value?r.toFixed(W.value):String(r);return(l=(i=e.formatter)==null?void 0:i.call(e,c))!=null?l:c},z=Y(D((o=e.modelValue)!=null?o:e.defaultValue)),j=p(()=>{var r,i;if(!z.value)return;const l=Number((i=(r=e.parser)==null?void 0:r.call(e,z.value))!=null?i:z.value);return Number.isNaN(l)?void 0:l}),x=Y(F(j.value)&&j.value<=e.min),w=Y(F(j.value)&&j.value>=e.max);let V=0;const y=()=>{V&&(window.clearTimeout(V),V=0)},S=r=>{if(!ht(r))return F(e.min)&&r<e.min&&(r=e.min),F(e.max)&&r>e.max&&(r=e.max),F(W.value)?pe.round(r,W.value):r},_=r=>{let i=!1,l=!1;F(r)&&(r<=e.min&&(i=!0),r>=e.max&&(l=!0)),w.value!==l&&(w.value=l),x.value!==i&&(x.value=i)},R=(r,i)=>{if(h.value||r==="plus"&&w.value||r==="minus"&&x.value)return;let l;F(j.value)?l=S(pe[r](j.value,e.step)):l=e.min===-1/0?0:e.min,z.value=D(l),_(l),t("update:modelValue",l),t("change",l,i)},B=(r,i,l=!1)=>{var c;r.preventDefault(),(c=v.value)==null||c.focus(),R(i,r),l&&(V=window.setTimeout(()=>r.target.dispatchEvent(r),jn))},H=(r,i)=>{var l,c,C,I;r=r.trim().replace(/ã€‚/g,"."),r=(c=(l=e.parser)==null?void 0:l.call(e,r))!=null?c:r,(F(Number(r))||/^(\.|-)$/.test(r))&&(z.value=(I=(C=e.formatter)==null?void 0:C.call(e,r))!=null?I:r,_(j.value),e.modelEvent==="input"&&t("update:modelValue",j.value),t("input",j.value,z.value,i))},le=r=>{t("focus",r)},re=(r,i)=>{const l=S(j.value),c=D(l);(l!==j.value||z.value!==c)&&(z.value=c,_(l)),t("update:modelValue",l),t("change",l,i)},Q=r=>{t("blur",r)},oe=r=>{var i,l;z.value="",t("update:modelValue",void 0),t("change",void 0,r),(l=(i=P.value)==null?void 0:i.onChange)==null||l.call(i,r),t("clear",r)},me=Rt(new Map([[at.ARROW_UP,r=>{r.preventDefault(),R("plus",r)}],[at.ARROW_DOWN,r=>{r.preventDefault(),R("minus",r)}]]));gt(()=>e.modelValue,r=>{r!==j.value&&(z.value=D(r),_(r))});const te=()=>{var r;return k(be,null,[(r=n.suffix)==null?void 0:r.call(n),k("div",{class:`${f}-step`},[k("button",{class:[`${f}-step-button`,{[`${f}-step-button-disabled`]:h.value||w.value}],type:"button",tabindex:"-1",disabled:h.value||w.value,onMousedown:i=>B(i,"plus",!0),onMouseup:y,onMouseleave:y},[k(vn,null,null)]),k("button",{class:[`${f}-step-button`,{[`${f}-step-button-disabled`]:h.value||x.value}],type:"button",tabindex:"-1",disabled:h.value||x.value,onMousedown:i=>B(i,"minus",!0),onMouseup:y,onMouseleave:y},[k(Nt,null,null)])])])},ue=p(()=>[f,`${f}-mode-${e.mode}`,`${f}-size-${$.value}`]),ce=()=>k(Ve,{size:$.value,tabindex:"-1",class:`${f}-step-button`,disabled:h.value||x.value,onMousedown:r=>B(r,"minus",!0),onMouseup:y,onMouseleave:y},{icon:()=>k(Pn,null,null)}),ie=()=>k(Ve,{size:$.value,tabindex:"-1",class:`${f}-step-button`,disabled:h.value||w.value,onMousedown:r=>B(r,"plus",!0),onMouseup:y,onMouseleave:y},{icon:()=>k(Sn,null,null)});return{inputRef:v,render:()=>{const r=e.mode==="embed"?{prepend:n.prepend,prefix:n.prefix,suffix:e.hideButton?n.suffix:te,append:n.append}:{prepend:ce,prefix:n.prefix,suffix:n.suffix,append:ie};return k(un,{key:`__arco__${e.mode}`,ref:v,class:ue.value,type:"text",allowClear:e.allowClear,size:$.value,modelValue:z.value,placeholder:e.placeholder,disabled:h.value,error:e.error,inputAttrs:{role:"spinbutton","aria-valuemax":e.max,"aria-valuemin":e.min,"aria-valuenow":z.value},onInput:H,onFocus:le,onBlur:Q,onClear:oe,onChange:re,onKeydown:me},r)}}},methods:{focus(){var e;(e=this.inputRef)==null||e.focus()},blur(){var e;(e=this.inputRef)==null||e.blur()}},render(){return this.render()}});const bo=Object.assign(We,{install:(e,t)=>{He(e,t);const n=Ke(t);e.component(n+We.name,We)}});var Bn=Object.defineProperty,ct=Object.getOwnPropertySymbols,In=Object.prototype.hasOwnProperty,Nn=Object.prototype.propertyIsEnumerable,dt=(e,t,n)=>t in e?Bn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,On=(e,t)=>{for(var n in t||(t={}))In.call(t,n)&&dt(e,n,t[n]);if(ct)for(var n of ct(t))Nn.call(t,n)&&dt(e,n,t[n]);return e};const xn={small:3,medium:4,large:8},Mn=e=>{if(!!e)return he(e)?{backgroundImage:`linear-gradient(to right, ${Object.keys(e).map(n=>`${e[n]} ${n}`).join(",")})`}:{backgroundColor:e}},Fn=A({name:"ProgressLine",components:{IconExclamationCircleFill:wt},props:{percent:{type:Number,default:0},animation:{type:Boolean,default:!1},size:{type:String,default:"medium"},strokeWidth:{type:Number,default:4},width:{type:[Number,String],default:"100%"},color:{type:[String,Object],default:void 0},trackColor:String,formatText:{type:Function,default:void 0},status:{type:String},showText:Boolean},setup(e){const t=U("progress-line"),n=p(()=>e.strokeWidth!==4?e.strokeWidth:xn[e.size]),o=p(()=>`${pe.times(e.percent,100)}%`),u=p(()=>({width:e.width,height:`${n.value}px`,backgroundColor:e.trackColor})),s=p(()=>On({width:`${e.percent*100}%`},Mn(e.color)));return{prefixCls:t,style:u,barStyle:s,text:o}}}),Wn=["aria-valuenow"];function Rn(e,t,n,o,u,s){const f=J("icon-exclamation-circle-fill");return b(),E("div",{role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.percent,class:L(`${e.prefixCls}-wrapper`)},[N("div",{class:L(e.prefixCls),style:G(e.style)},[N("div",{class:L(`${e.prefixCls}-bar-buffer`)},null,2),N("div",{class:L([`${e.prefixCls}-bar`]),style:G(e.barStyle)},null,6)],6),e.showText?(b(),E("div",{key:0,class:L(`${e.prefixCls}-text`)},[X(e.$slots,"text",{percent:e.percent},()=>[Ce(Ye(e.text)+" ",1),e.status==="danger"?(b(),Z(f,{key:0})):fe("v-if",!0)])],2)):fe("v-if",!0)],10,Wn)}var Tn=K(Fn,[["render",Rn]]);const An=A({name:"IconExclamation",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=U("icon"),n=p(()=>[t,`${t}-exclamation`,{[`${t}-spin`]:e.spin}]),o=p(()=>{if(e.size)return{fontSize:F(e.size)?`${e.size}px`:e.size}});return{cls:n,sizeStyle:o}}}),Gn=["stroke-width","stroke-linecap","stroke-linejoin"],Un=N("path",{d:"M23 9h2v21h-2z"},null,-1),Dn=N("path",{fill:"currentColor",stroke:"none",d:"M23 9h2v21h-2z"},null,-1),Vn=N("path",{d:"M23 37h2v2h-2z"},null,-1),qn=N("path",{fill:"currentColor",stroke:"none",d:"M23 37h2v2h-2z"},null,-1),Hn=[Un,Dn,Vn,qn];function Kn(e,t,n,o,u,s){return b(),E("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:L(e.cls),style:G(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},Hn,14,Gn)}var Re=K(An,[["render",Kn]]);const Yn=Object.assign(Re,{install:(e,t)=>{var n;const o=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(o+Re.name,Re)}}),Zn=A({name:"IconCheck",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=U("icon"),n=p(()=>[t,`${t}-check`,{[`${t}-spin`]:e.spin}]),o=p(()=>{if(e.size)return{fontSize:F(e.size)?`${e.size}px`:e.size}});return{cls:n,sizeStyle:o}}}),Jn=["stroke-width","stroke-linecap","stroke-linejoin"],Xn=N("path",{d:"M41.678 11.05 19.05 33.678 6.322 20.95"},null,-1),Qn=[Xn];function er(e,t,n,o,u,s){return b(),E("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:L(e.cls),style:G(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},Qn,14,Jn)}var Te=K(Zn,[["render",er]]);const tr=Object.assign(Te,{install:(e,t)=>{var n;const o=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(o+Te.name,Te)}});let ft=0;const nr={mini:16,small:48,medium:64,large:80},rr={mini:4,small:3,medium:4,large:4},or=A({name:"ProgressCircle",components:{IconExclamation:Yn,IconCheck:tr},props:{percent:{type:Number,default:0},type:{type:String},size:{type:String,default:"medium"},strokeWidth:{type:Number},width:{type:Number,default:void 0},color:{type:[String,Object],default:void 0},trackColor:String,status:{type:String,default:void 0},showText:{type:Boolean,default:!0},pathStrokeWidth:{type:Number}},setup(e){const t=U("progress-circle"),n=he(e.color),o=p(()=>{var $;return($=e.width)!=null?$:nr[e.size]}),u=p(()=>{var $;return($=e.strokeWidth)!=null?$:e.size==="mini"?o.value/2:rr[e.size]}),s=p(()=>{var $;return($=e.pathStrokeWidth)!=null?$:e.size==="mini"?u.value:Math.max(2,u.value-2)}),f=p(()=>(o.value-u.value)/2),v=p(()=>Math.PI*2*f.value),m=p(()=>o.value/2),h=p(()=>(ft+=1,`${t}-linear-gradient-${ft}`)),P=p(()=>`${pe.times(e.percent,100)}%`);return{prefixCls:t,isLinearGradient:n,radius:f,text:P,perimeter:v,center:m,mergedWidth:o,mergedStrokeWidth:u,mergedPathStrokeWidth:s,linearGradientId:h}}}),ir=["aria-valuenow"],ar=["viewBox"],sr={key:0},lr=["id"],ur=["offset","stop-color"],cr=["cx","cy","r","stroke-width"],dr=["cx","cy","r","stroke-width"];function fr(e,t,n,o,u,s){const f=J("icon-check"),v=J("icon-exclamation");return b(),E("div",{role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.percent,class:L(`${e.prefixCls}-wrapper`),style:G({width:`${e.mergedWidth}px`,height:`${e.mergedWidth}px`})},[e.type==="circle"&&e.size==="mini"&&e.status==="success"?(b(),Z(f,{key:0,style:G({fontSize:e.mergedWidth-2,color:e.color})},null,8,["style"])):(b(),E("svg",{key:1,viewBox:`0 0 ${e.mergedWidth} ${e.mergedWidth}`,class:L(`${e.prefixCls}-svg`)},[e.isLinearGradient?(b(),E("defs",sr,[N("linearGradient",{id:e.linearGradientId,x1:"0",y1:"1",x2:"0",y2:"0"},[(b(!0),E(be,null,yt(Object.keys(e.color),m=>(b(),E("stop",{key:m,offset:m,"stop-color":e.color[m]},null,8,ur))),128))],8,lr)])):fe("v-if",!0),N("circle",{class:L(`${e.prefixCls}-bg`),fill:"none",cx:e.center,cy:e.center,r:e.radius,"stroke-width":e.mergedPathStrokeWidth,style:G({stroke:e.trackColor})},null,14,cr),N("circle",{class:L(`${e.prefixCls}-bar`),fill:"none",cx:e.center,cy:e.center,r:e.radius,"stroke-width":e.mergedStrokeWidth,style:G({stroke:e.isLinearGradient?`url(#${e.linearGradientId})`:e.color,strokeDasharray:e.perimeter,strokeDashoffset:(e.percent>=1?0:1-e.percent)*e.perimeter})},null,14,dr)],10,ar)),e.showText&&e.size!=="mini"?(b(),E("div",{key:2,class:L(`${e.prefixCls}-text`)},[X(e.$slots,"text",{percent:e.percent},()=>[e.status==="danger"?(b(),Z(v,{key:0})):e.status==="success"?(b(),Z(f,{key:1})):(b(),E(be,{key:2},[Ce(Ye(e.text),1)],2112))])],2)):fe("v-if",!0)],14,ir)}var pr=K(or,[["render",fr]]);const mr=A({name:"ProgressSteps",components:{IconExclamationCircleFill:wt},props:{steps:{type:Number,default:0},percent:{type:Number,default:0},size:{type:String},color:{type:[String,Object],default:void 0},trackColor:String,strokeWidth:{type:Number},status:{type:String,default:void 0},showText:{type:Boolean,default:!0}},setup(e){const t=U("progress-steps"),n=p(()=>{var s;return((s=e.strokeWidth)!=null?s:e.size==="small")?8:4}),o=p(()=>[...Array(e.steps)].map((s,f)=>e.percent>0&&e.percent>=1/e.steps*f)),u=p(()=>`${pe.times(e.percent,100)}%`);return{prefixCls:t,stepList:o,mergedStrokeWidth:n,text:u}}}),vr=["aria-valuenow"];function hr(e,t,n,o,u,s){const f=J("icon-exclamation-circle-fill");return b(),E("div",{role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.percent,class:L(`${e.prefixCls}-wrapper`)},[N("div",{class:L(e.prefixCls),style:G({height:`${e.mergedStrokeWidth}px`})},[(b(!0),E(be,null,yt(e.stepList,(v,m)=>(b(),E("div",{key:m,class:L([`${e.prefixCls}-item`,{[`${e.prefixCls}-item-active`]:v}]),style:G({backgroundColor:v?e.color:e.trackColor})},null,6))),128))],6),e.showText?(b(),E("div",{key:0,class:L(`${e.prefixCls}-text`)},[X(e.$slots,"text",{percent:e.percent},()=>[Ce(Ye(e.text)+" ",1),e.status==="danger"?(b(),Z(f,{key:0})):fe("v-if",!0)])],2)):fe("v-if",!0)],10,vr)}var gr=K(mr,[["render",hr]]);const yr=A({name:"Progress",components:{ProgressLine:Tn,ProgressCircle:pr,ProgressSteps:gr},props:{type:{type:String,default:"line"},size:{type:String},percent:{type:Number,default:0},steps:{type:Number,default:0},animation:{type:Boolean,default:!1},strokeWidth:{type:Number},width:{type:[Number,String]},color:{type:[String,Object]},trackColor:String,bufferColor:{type:[String,Object]},showText:{type:Boolean,default:!0},status:{type:String}},setup(e){const t=U("progress"),{size:n}=_e(e),o=p(()=>e.steps>0?"steps":e.type),u=p(()=>e.status||(e.percent>=1?"success":"normal")),{mergedSize:s}=Le(n);return{cls:p(()=>[t,`${t}-type-${o.value}`,`${t}-size-${s.value}`,`${t}-status-${u.value}`]),computedStatus:u,mergedSize:s}}});function br(e,t,n,o,u,s){const f=J("progress-steps"),v=J("progress-line"),m=J("progress-circle");return b(),E("div",{class:L(e.cls)},[e.steps>0?(b(),Z(f,{key:0,"stroke-width":e.strokeWidth,percent:e.percent,color:e.color,"track-color":e.trackColor,width:e.width,steps:e.steps,size:e.mergedSize,"show-text":e.showText},Se({_:2},[e.$slots.text?{name:"text",fn:se(h=>[X(e.$slots,"text",Ee(Pe(h)))])}:void 0]),1032,["stroke-width","percent","color","track-color","width","steps","size","show-text"])):e.type==="line"&&e.mergedSize!=="mini"?(b(),Z(v,{key:1,"stroke-width":e.strokeWidth,animation:e.animation,percent:e.percent,color:e.color,"track-color":e.trackColor,size:e.mergedSize,"buffer-color":e.bufferColor,width:e.width,"show-text":e.showText,status:e.computedStatus},Se({_:2},[e.$slots.text?{name:"text",fn:se(h=>[X(e.$slots,"text",Ee(Pe(h)))])}:void 0]),1032,["stroke-width","animation","percent","color","track-color","size","buffer-color","width","show-text","status"])):(b(),Z(m,{key:2,type:e.type,"stroke-width":e.type==="line"?e.strokeWidth||4:e.strokeWidth,"path-stroke-width":e.type==="line"?e.strokeWidth||4:e.strokeWidth,width:e.width,percent:e.percent,color:e.color,"track-color":e.trackColor,size:e.mergedSize,"show-text":e.showText,status:e.computedStatus},Se({_:2},[e.$slots.text?{name:"text",fn:se(h=>[X(e.$slots,"text",Ee(Pe(h)))])}:void 0]),1032,["type","stroke-width","path-stroke-width","width","percent","color","track-color","size","show-text","status"]))],2)}var Ae=K(yr,[["render",br]]);const wo=Object.assign(Ae,{install:(e,t)=>{He(e,t);const n=Ke(t);e.component(n+Ae.name,Ae)}});var _t=(e=>(e[e.mp4=0]="mp4",e[e.avi=1]="avi",e[e.webm=2]="webm",e[e.mpeg=3]="mpeg",e[e.flv=4]="flv",e))(_t||{}),Ct=(e=>(e[e.jpg=0]="jpg",e[e.jpeg=1]="jpeg",e[e.png=2]="png",e[e.gif=3]="gif",e))(Ct||{});function wr(e){let t=e;if(e.file&&(t=e==null?void 0:e.file),!e)throw new Error("\u6CA1\u6709\u627E\u5230\u6587\u4EF6\uFF01");const n="new_file"+$r(t.name);return new File([t],n,{type:t.type})}function $r(e){return e.substring(e.lastIndexOf("."))}function $o(e,t){let n="image";return _t[t]?n="video/":Ct[t]?n="image/":console.log("\u97F3\u9891\u5904\u7406"),URL.createObjectURL(new Blob([e],{type:`${n}${t}`}))}function ko(e){return new Promise((t,n)=>{try{const o=wr(e),u=URL.createObjectURL(o),s=document.createElement("video");s.src=u;const f=`${Date.now()}${Math.random()}`;s.onloadedmetadata=function(){URL.revokeObjectURL(u),t({file:o,url:u,id:f,el:s,width:s.videoWidth,height:s.videoHeight,duration:Math.round(s.duration)})}}catch(o){n(o)}})}var kr={exports:{}};(function(e){var t=function(n){var o=Object.prototype,u=o.hasOwnProperty,s,f=typeof Symbol=="function"?Symbol:{},v=f.iterator||"@@iterator",m=f.asyncIterator||"@@asyncIterator",h=f.toStringTag||"@@toStringTag";function P(a,r,i){return Object.defineProperty(a,r,{value:i,enumerable:!0,configurable:!0,writable:!0}),a[r]}try{P({},"")}catch{P=function(r,i,l){return r[i]=l}}function $(a,r,i,l){var c=r&&r.prototype instanceof V?r:V,C=Object.create(c.prototype),I=new ue(l||[]);return C._invoke=Q(a,i,I),C}n.wrap=$;function W(a,r,i){try{return{type:"normal",arg:a.call(r,i)}}catch(l){return{type:"throw",arg:l}}}var D="suspendedStart",z="suspendedYield",j="executing",x="completed",w={};function V(){}function y(){}function S(){}var _={};P(_,v,function(){return this});var R=Object.getPrototypeOf,B=R&&R(R(ce([])));B&&B!==o&&u.call(B,v)&&(_=B);var H=S.prototype=V.prototype=Object.create(_);y.prototype=S,P(H,"constructor",S),P(S,"constructor",y),y.displayName=P(S,h,"GeneratorFunction");function le(a){["next","throw","return"].forEach(function(r){P(a,r,function(i){return this._invoke(r,i)})})}n.isGeneratorFunction=function(a){var r=typeof a=="function"&&a.constructor;return r?r===y||(r.displayName||r.name)==="GeneratorFunction":!1},n.mark=function(a){return Object.setPrototypeOf?Object.setPrototypeOf(a,S):(a.__proto__=S,P(a,h,"GeneratorFunction")),a.prototype=Object.create(H),a},n.awrap=function(a){return{__await:a}};function re(a,r){function i(C,I,T,q){var M=W(a[C],a,I);if(M.type==="throw")q(M.arg);else{var $e=M.arg,d=$e.value;return d&&typeof d=="object"&&u.call(d,"__await")?r.resolve(d.__await).then(function(g){i("next",g,T,q)},function(g){i("throw",g,T,q)}):r.resolve(d).then(function(g){$e.value=g,T($e)},function(g){return i("throw",g,T,q)})}}var l;function c(C,I){function T(){return new r(function(q,M){i(C,I,q,M)})}return l=l?l.then(T,T):T()}this._invoke=c}le(re.prototype),P(re.prototype,m,function(){return this}),n.AsyncIterator=re,n.async=function(a,r,i,l,c){c===void 0&&(c=Promise);var C=new re($(a,r,i,l),c);return n.isGeneratorFunction(r)?C:C.next().then(function(I){return I.done?I.value:C.next()})};function Q(a,r,i){var l=D;return function(C,I){if(l===j)throw new Error("Generator is already running");if(l===x){if(C==="throw")throw I;return ie()}for(i.method=C,i.arg=I;;){var T=i.delegate;if(T){var q=oe(T,i);if(q){if(q===w)continue;return q}}if(i.method==="next")i.sent=i._sent=i.arg;else if(i.method==="throw"){if(l===D)throw l=x,i.arg;i.dispatchException(i.arg)}else i.method==="return"&&i.abrupt("return",i.arg);l=j;var M=W(a,r,i);if(M.type==="normal"){if(l=i.done?x:z,M.arg===w)continue;return{value:M.arg,done:i.done}}else M.type==="throw"&&(l=x,i.method="throw",i.arg=M.arg)}}}function oe(a,r){var i=a.iterator[r.method];if(i===s){if(r.delegate=null,r.method==="throw"){if(a.iterator.return&&(r.method="return",r.arg=s,oe(a,r),r.method==="throw"))return w;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return w}var l=W(i,a.iterator,r.arg);if(l.type==="throw")return r.method="throw",r.arg=l.arg,r.delegate=null,w;var c=l.arg;if(!c)return r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,w;if(c.done)r[a.resultName]=c.value,r.next=a.nextLoc,r.method!=="return"&&(r.method="next",r.arg=s);else return c;return r.delegate=null,w}le(H),P(H,h,"Generator"),P(H,v,function(){return this}),P(H,"toString",function(){return"[object Generator]"});function me(a){var r={tryLoc:a[0]};1 in a&&(r.catchLoc=a[1]),2 in a&&(r.finallyLoc=a[2],r.afterLoc=a[3]),this.tryEntries.push(r)}function te(a){var r=a.completion||{};r.type="normal",delete r.arg,a.completion=r}function ue(a){this.tryEntries=[{tryLoc:"root"}],a.forEach(me,this),this.reset(!0)}n.keys=function(a){var r=[];for(var i in a)r.push(i);return r.reverse(),function l(){for(;r.length;){var c=r.pop();if(c in a)return l.value=c,l.done=!1,l}return l.done=!0,l}};function ce(a){if(a){var r=a[v];if(r)return r.call(a);if(typeof a.next=="function")return a;if(!isNaN(a.length)){var i=-1,l=function c(){for(;++i<a.length;)if(u.call(a,i))return c.value=a[i],c.done=!1,c;return c.value=s,c.done=!0,c};return l.next=l}}return{next:ie}}n.values=ce;function ie(){return{value:s,done:!0}}return ue.prototype={constructor:ue,reset:function(a){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(te),!a)for(var r in this)r.charAt(0)==="t"&&u.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=s)},stop:function(){this.done=!0;var a=this.tryEntries[0],r=a.completion;if(r.type==="throw")throw r.arg;return this.rval},dispatchException:function(a){if(this.done)throw a;var r=this;function i(q,M){return C.type="throw",C.arg=a,r.next=q,M&&(r.method="next",r.arg=s),!!M}for(var l=this.tryEntries.length-1;l>=0;--l){var c=this.tryEntries[l],C=c.completion;if(c.tryLoc==="root")return i("end");if(c.tryLoc<=this.prev){var I=u.call(c,"catchLoc"),T=u.call(c,"finallyLoc");if(I&&T){if(this.prev<c.catchLoc)return i(c.catchLoc,!0);if(this.prev<c.finallyLoc)return i(c.finallyLoc)}else if(I){if(this.prev<c.catchLoc)return i(c.catchLoc,!0)}else if(T){if(this.prev<c.finallyLoc)return i(c.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(a,r){for(var i=this.tryEntries.length-1;i>=0;--i){var l=this.tryEntries[i];if(l.tryLoc<=this.prev&&u.call(l,"finallyLoc")&&this.prev<l.finallyLoc){var c=l;break}}c&&(a==="break"||a==="continue")&&c.tryLoc<=r&&r<=c.finallyLoc&&(c=null);var C=c?c.completion:{};return C.type=a,C.arg=r,c?(this.method="next",this.next=c.finallyLoc,w):this.complete(C)},complete:function(a,r){if(a.type==="throw")throw a.arg;return a.type==="break"||a.type==="continue"?this.next=a.arg:a.type==="return"?(this.rval=this.arg=a.arg,this.method="return",this.next="end"):a.type==="normal"&&r&&(this.next=r),w},finish:function(a){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.finallyLoc===a)return this.complete(i.completion,i.afterLoc),te(i),w}},catch:function(a){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc===a){var l=i.completion;if(l.type==="throw"){var c=l.arg;te(i)}return c}}throw new Error("illegal catch attempt")},delegateYield:function(a,r,i){return this.delegate={iterator:ce(a),resultName:r,nextLoc:i},this.method==="next"&&(this.arg=s),w}},n}(e.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})(kr);var Sr={defaultArgs:["./ffmpeg","-nostdin","-y"],baseOptions:{log:!1,logger:()=>{},progress:()=>{},corePath:""}};let Qe=!1,Lt=()=>{};const _r=e=>{Qe=e},Cr=e=>{Lt=e},Lr=(e,t)=>{Lt({type:e,message:t}),Qe&&console.log(`[${e}] ${t}`)};var zt={logging:Qe,setLogging:_r,setCustomLogger:Cr,log:Lr};let ve=0,Ge=0;const pt=e=>{const[t,n,o]=e.split(":");return parseFloat(t)*60*60+parseFloat(n)*60+parseFloat(o)};var zr=(e,t)=>{if(typeof e=="string")if(e.startsWith("  Duration")){const n=e.split(", ")[0].split(": ")[1],o=pt(n);t({duration:o,ratio:Ge}),(ve===0||ve>o)&&(ve=o)}else if(e.startsWith("frame")||e.startsWith("size")){const n=e.split("time=")[1].split(" ")[0],o=pt(n);Ge=o/ve,t({ratio:Ge,time:o})}else e.startsWith("video:")&&(t({ratio:1}),ve=0)},Er=(e,t)=>{const n=e._malloc(t.length*Uint32Array.BYTES_PER_ELEMENT);return t.forEach((o,u)=>{const s=e._malloc(o.length+1);e.writeAsciiToMemory(o,s),e.setValue(n+Uint32Array.BYTES_PER_ELEMENT*u,s,"i32")}),[t.length,n]},et={exports:{}};(function(e,t){(function(n,o){e.exports=o()})(Tt,function(){function n(){var o=arguments.length;if(o===0)throw new Error("resolveUrl requires at least one argument; got none.");var u=document.createElement("base");if(u.href=arguments[0],o===1)return u.href;var s=document.getElementsByTagName("head")[0];s.insertBefore(u,s.firstChild);for(var f=document.createElement("a"),v,m=1;m<o;m++)f.href=arguments[m],v=f.href,u.href=v;return s.removeChild(u),v}return n})})(et);const Pr="@ffmpeg/ffmpeg",jr="0.10.1",Br="FFmpeg WebAssembly version",Ir="src/index.js",Nr="src/index.d.ts",Or={example:"examples"},xr={start:"node scripts/server.js",build:"rimraf dist && webpack --config scripts/webpack.config.prod.js",prepublishOnly:"npm run build",lint:"eslint src",wait:"rimraf dist && wait-on http://localhost:3000/dist/ffmpeg.dev.js",test:"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:ffmpeg test:node:all","test:node":"node --experimental-wasm-threads --experimental-wasm-bulk-memory node_modules/.bin/_mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","test:browser":"mocha-headless-chrome -a allow-file-access-from-files -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:ffmpeg":"npm run test:browser -- -f ./tests/ffmpeg.test.html"},Mr={"./src/node/index.js":"./src/browser/index.js"},Fr={type:"git",url:"git+https://github.com/ffmpegwasm/ffmpeg.wasm.git"},Wr=["ffmpeg","WebAssembly","video"],Rr="Jerome Wu <jeromewus@gmail.com>",Tr="MIT",Ar={url:"https://github.com/ffmpegwasm/ffmpeg.wasm/issues"},Gr={node:">=12.16.1"},Ur="https://github.com/ffmpegwasm/ffmpeg.wasm#readme",Dr={"is-url":"^1.2.4","node-fetch":"^2.6.1","regenerator-runtime":"^0.13.7","resolve-url":"^0.2.1"},Vr={"@babel/core":"^7.12.3","@babel/preset-env":"^7.12.1","@ffmpeg/core":"^0.10.0","@types/emscripten":"^1.39.4","babel-loader":"^8.1.0",chai:"^4.2.0",cors:"^2.8.5",eslint:"^7.12.1","eslint-config-airbnb-base":"^14.1.0","eslint-plugin-import":"^2.22.1",express:"^4.17.1",mocha:"^8.2.1","mocha-headless-chrome":"^2.0.3","npm-run-all":"^4.1.5","wait-on":"^5.3.0",webpack:"^5.3.2","webpack-cli":"^4.1.0","webpack-dev-middleware":"^4.0.0"};var Et={name:Pr,version:jr,description:Br,main:Ir,types:Nr,directories:Or,scripts:xr,browser:Mr,repository:Fr,keywords:Wr,author:Rr,license:Tr,bugs:Ar,engines:Gr,homepage:Ur,dependencies:Dr,devDependencies:Vr};const{devDependencies:qr}=Et;var Hr={corePath:`https://unpkg.com/@ffmpeg/core@${qr["@ffmpeg/core"].substring(1)}/dist/ffmpeg-core.js`};const Kr=et.exports,{log:ye}=zt,Ue=async(e,t)=>{ye("info",`fetch ${e}`);const n=await(await fetch(e)).arrayBuffer();ye("info",`${e} file size = ${n.byteLength} bytes`);const o=new Blob([n],{type:t}),u=URL.createObjectURL(o);return ye("info",`${e} blob URL = ${u}`),u};var Yr=async({corePath:e})=>{if(typeof e!="string")throw Error("corePath should be a string!");const t=Kr(e),n=await Ue(t,"application/javascript"),o=await Ue(t.replace("ffmpeg-core.js","ffmpeg-core.wasm"),"application/wasm"),u=await Ue(t.replace("ffmpeg-core.js","ffmpeg-core.worker.js"),"application/javascript");return typeof createFFmpegCore=="undefined"?new Promise(s=>{const f=document.createElement("script"),v=()=>{f.removeEventListener("load",v),ye("info","ffmpeg-core.js script loaded"),s({createFFmpegCore,corePath:n,wasmPath:o,workerPath:u})};f.src=n,f.type="text/javascript",f.addEventListener("load",v),document.getElementsByTagName("head")[0].appendChild(f)}):(ye("info","ffmpeg-core.js script is loaded already"),Promise.resolve({createFFmpegCore,corePath:n,wasmPath:o,workerPath:u}))};const Zr=et.exports,Jr=e=>new Promise((t,n)=>{const o=new FileReader;o.onload=()=>{t(o.result)},o.onerror=({target:{error:{code:u}}})=>{n(Error(`File could not be read! Code=${u}`))},o.readAsArrayBuffer(e)});var Xr=async e=>{let t=e;return typeof e=="undefined"?new Uint8Array:(typeof e=="string"?/data:_data\/([a-zA-Z]*);base64,([^"]*)/.test(e)?t=atob(e.split(",")[1]).split("").map(n=>n.charCodeAt(0)):t=await(await fetch(Zr(e))).arrayBuffer():(e instanceof File||e instanceof Blob)&&(t=await Jr(e)),new Uint8Array(t))};const Qr=Hr,eo=Yr,to=Xr;var Pt={defaultOptions:Qr,getCreateFFmpegCore:eo,fetchFile:to};const{defaultArgs:no,baseOptions:ro}=Sr,{setLogging:mt,setCustomLogger:vt,log:de}=zt,oo=zr,io=Er,{defaultOptions:ao,getCreateFFmpegCore:so}=Pt,{version:lo}=Et,De=Error("ffmpeg.wasm is not ready, make sure you have completed load().");var uo=(e={})=>{const{log:t,logger:n,progress:o,...u}={...ro,...ao,...e};let s=null,f=null,v=null,m=!1,h=o;const P=y=>{y==="FFMPEG_END"&&v!==null&&(v(),v=null,m=!1)},$=({type:y,message:S})=>{de(y,S),oo(S,h),P(S)},W=async()=>{if(de("info","load ffmpeg-core"),s===null){de("info","loading ffmpeg-core");const{createFFmpegCore:y,corePath:S,workerPath:_,wasmPath:R}=await so(u);s=await y({mainScriptUrlOrBlob:S,printErr:B=>$({type:"fferr",message:B}),print:B=>$({type:"ffout",message:B}),locateFile:(B,H)=>{if(typeof window!="undefined"){if(typeof R!="undefined"&&B.endsWith("ffmpeg-core.wasm"))return R;if(typeof _!="undefined"&&B.endsWith("ffmpeg-core.worker.js"))return _}return H+B}}),f=s.cwrap("proxy_main","number",["number","number"]),de("info","ffmpeg-core loaded")}else throw Error("ffmpeg.wasm was loaded, you should not load it again, use ffmpeg.isLoaded() to check next time.")},D=()=>s!==null,z=(...y)=>{if(de("info",`run ffmpeg command: ${y.join(" ")}`),s===null)throw De;if(m)throw Error("ffmpeg.wasm can only run one command at a time");return m=!0,new Promise(S=>{const _=[...no,...y].filter(R=>R.length!==0);v=S,f(...io(s,_))})},j=(y,...S)=>{if(de("info",`run FS.${y} ${S.map(_=>typeof _=="string"?_:`<${_.length} bytes binary file>`).join(" ")}`),s===null)throw De;{let _=null;try{_=s.FS[y](...S)}catch{throw Error(y==="readdir"?`ffmpeg.FS('readdir', '${S[0]}') error. Check if the path exists, ex: ffmpeg.FS('readdir', '/')`:y==="readFile"?`ffmpeg.FS('readFile', '${S[0]}') error. Check if the path exists`:"Oops, something went wrong in FS operation.")}return _}},x=()=>{if(s===null)throw De;m=!1,s.exit(1),s=null,f=null,v=null},w=y=>{h=y},V=y=>{vt(y)};return mt(t),vt(n),de("info",`use ffmpeg.wasm v${lo}`),{setProgress:w,setLogger:V,setLogging:mt,load:W,isLoaded:D,run:z,exit:x,FS:j}};const co=uo,{fetchFile:fo}=Pt;var So={createFFmpeg:co,fetchFile:fo};export{bo as I,wo as P,un as a,Sn as b,tr as c,Zt as d,$o as e,ko as g,wr as h,pe as i,So as s};
