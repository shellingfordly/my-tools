import{g as M,y as Le,_ as ue,s as de,b as ce,f as I,e as Ve,n as Ie,l as Re,h as Me}from"./index.d66503d3.js";import{S as ne,R as Ne}from"./index.e2454c6d.js";import{a as Te,I as je,c as Ee,u as He,b as oe,p as Oe}from"./index.112b9d80.js";import{d as N,t as ve,c as m,j as ke,p as Ae,D as s,s as fe,u as J,o as x,a as L,b as me,n as R,r as h,x as G,Q as re,g as P,e as Fe,z as _,i as W,w as ie,f as De,m as se}from"./index.51e79113.js";const X=Symbol("ArcoCard");var U=N({name:"Card",components:{Spin:ne},props:{bordered:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},hoverable:{type:Boolean,default:!1},size:{type:String},headerStyle:{type:Object,default:()=>({})},bodyStyle:{type:Object,default:()=>({})},title:{type:String},extra:{type:String}},setup(e,{slots:a}){const l=M("card"),{size:d}=ve(e),{mergedSize:y}=Te(d),g=m(()=>y.value==="small"||y.value==="mini"?"small":"medium"),c=n=>{const i=Le(n);return s("div",{class:`${l}-actions`},[s("div",{class:`${l}-actions-right`},[i.map((p,C)=>s("span",{key:`action-${C}`,class:`${l}-actions-item`},[p]))])])},f=ke({hasMeta:!1,hasGrid:!1,slots:a,renderActions:c});Ae(X,f);const $=m(()=>[l,`${l}-size-${g.value}`,{[`${l}-loading`]:e.loading,[`${l}-bordered`]:e.bordered,[`${l}-hoverable`]:e.hoverable,[`${l}-contain-grid`]:f.hasGrid}]);return()=>{var n,i,p,C,z,S,v;const w=Boolean((n=a.title)!=null?n:e.title),b=Boolean((i=a.extra)!=null?i:e.extra);return s("div",{class:$.value},[(w||b)&&s("div",{class:[`${l}-header`,{[`${l}-header-no-title`]:!w}],style:e.headerStyle},[w&&s("div",{class:`${l}-header-title`},[(C=(p=a.title)==null?void 0:p.call(a))!=null?C:e.title]),b&&s("div",{class:`${l}-header-extra`},[(S=(z=a.extra)==null?void 0:z.call(a))!=null?S:e.extra])]),a.cover&&s("div",{class:`${l}-cover`},[a.cover()]),s("div",{class:`${l}-body`,style:e.bodyStyle},[e.loading?s(ne,null,null):(v=a.default)==null?void 0:v.call(a),a.actions&&!f.hasMeta&&c(a.actions())])])}}}),K=N({name:"CardMeta",props:{title:{type:String},description:{type:String}},setup(e,{slots:a}){const l=M("card-meta"),d=fe(X);return J(()=>{d&&(d.hasMeta=!0)}),()=>{var y,g,c,f,$,n;const i=Boolean((y=a.title)!=null?y:e.title),p=Boolean((g=a.description)!=null?g:e.description);return s("div",{class:l},[(i||p)&&s("div",{class:`${l}-content`},[i&&s("div",{class:`${l}-title`},[(f=(c=a.title)==null?void 0:c.call(a))!=null?f:e.title]),p&&s("div",{class:`${l}-description`},[(n=($=a.description)==null?void 0:$.call(a))!=null?n:e.description])]),(a.avatar||(d==null?void 0:d.slots.actions))&&s("div",{class:[`${l}-footer `,{[`${l}-footer-only-actions`]:!a.avatar}]},[a.avatar&&s("div",{class:`${l}-avatar`},[a.avatar()]),d&&d.slots.actions&&d.renderActions(d.slots.actions())])])}}});const Ge=N({name:"CardGrid",props:{hoverable:{type:Boolean,default:!1}},setup(e){const a=M("card-grid"),l=fe(X);return J(()=>{l&&(l.hasGrid=!0)}),{cls:m(()=>[a,{[`${a}-hoverable`]:e.hoverable}])}}});function Pe(e,a,l,d,y,g){return x(),L("div",{class:R(e.cls)},[me(e.$slots,"default")],2)}var Q=ue(Ge,[["render",Pe]]);const Ze=Object.assign(U,{Meta:K,Grid:Q,install:(e,a)=>{de(e,a);const l=ce(a);e.component(l+U.name,U),e.component(l+K.name,K),e.component(l+Q.name,Q)}}),_e=["border-width","box-sizing","font-family","font-weight","font-size","font-variant","letter-spacing","line-height","padding-top","padding-bottom","padding-left","padding-right","text-indent","text-rendering","text-transform","white-space","overflow-wrap","width"],We=e=>{const a={};return _e.forEach(l=>{a[l]=e.getPropertyValue(l)}),a},Ue=N({name:"Textarea",components:{ResizeObserver:Ne,IconHover:je,IconClose:Ee},inheritAttrs:!1,props:{modelValue:String,defaultValue:{type:String,default:""},placeholder:String,disabled:{type:Boolean,default:!1},error:{type:Boolean,default:!1},maxLength:{type:[Number,Object],default:0},showWordLimit:{type:Boolean,default:!1},allowClear:{type:Boolean,default:!1},autoSize:{type:[Boolean,Object],default:!1},wordLength:{type:Function},wordSlice:{type:Function}},emits:{"update:modelValue":e=>!0,input:(e,a)=>!0,change:(e,a)=>!0,clear:e=>!0,focus:e=>!0,blur:e=>!0},setup(e,{emit:a,attrs:l}){const{disabled:d,error:y,modelValue:g}=ve(e),c=M("textarea"),{mergedDisabled:f,mergedError:$,eventHandlers:n}=He({disabled:d,error:y}),i=h(),p=h(),C=h(),z=h(),S=h(e.defaultValue),v=m(()=>{var t;return(t=g.value)!=null?t:S.value});G(g,t=>{(Ve(t)||Ie(t))&&(S.value="")});const w=m(()=>I(e.maxLength)&&Boolean(e.maxLength.errorOnly)),b=m(()=>I(e.maxLength)?e.maxLength.length:e.maxLength),Y=t=>{var o;return Re(e.wordLength)?e.wordLength(t):(o=t.length)!=null?o:0},Z=m(()=>Y(v.value)),he=m(()=>$.value||Boolean(b.value&&w.value&&Z.value>b.value)),B=h(!1),T=h(!1),ge=m(()=>e.allowClear&&!f.value&&v.value),j=h(!1),ee=h(""),V=(t,o=!0)=>{var r,u;b.value&&!w.value&&Y(t)>b.value&&(t=(u=(r=e.wordSlice)==null?void 0:r.call(e,t,b.value))!=null?u:t.slice(0,b.value)),S.value=t,o&&a("update:modelValue",t),re(()=>{i.value&&v.value!==i.value.value&&(i.value.value=v.value)})};let E=v.value;const ae=(t,o)=>{var r,u;t!==E&&(E=t,a("change",t,o),(u=(r=n.value)==null?void 0:r.onChange)==null||u.call(r,o))},pe=t=>{var o,r;T.value=!0,E=v.value,a("focus",t),(r=(o=n.value)==null?void 0:o.onFocus)==null||r.call(o,t)},be=t=>{var o,r;T.value=!1,a("blur",t),(r=(o=n.value)==null?void 0:o.onBlur)==null||r.call(o,t),ae(v.value,t)},ye=t=>{var o,r;const{value:u}=t.target;t.type==="compositionend"?(j.value=!1,ee.value="",a("input",u,t),V(u),(r=(o=n.value)==null?void 0:o.onInput)==null||r.call(o,t)):j.value=!0},Ce=t=>{var o,r;const{value:u}=t.target;j.value?ee.value=u:(a("input",u,t),V(u),(r=(o=n.value)==null?void 0:o.onInput)==null||r.call(o,t))},$e=t=>{V(""),ae("",t),a("clear",t)};G(g,t=>{t!==v.value&&V(t!=null?t:"",!1)});const Se=t=>Me(l,oe),we=t=>Oe(l,oe),ze=m(()=>[`${c}-wrapper`,{[`${c}-focus`]:T.value,[`${c}-disabled`]:f.value,[`${c}-error`]:he.value,[`${c}-scroll`]:B.value}]);let te;const H=h(0),O=h(0),k=m(()=>!I(e.autoSize)||!e.autoSize.minRows?0:e.autoSize.minRows*H.value+O.value),A=m(()=>!I(e.autoSize)||!e.autoSize.maxRows?0:e.autoSize.maxRows*H.value+O.value),F=()=>{const t=We(te);H.value=Number.parseInt(t["line-height"]||0,10),O.value=Number.parseInt(t["border-width"]||0,10)*2+Number.parseInt(t["padding-top"]||0,10)+Number.parseInt(t["padding-bottom"]||0,10),z.value=t,re(()=>{var o;const r=(o=C.value)==null?void 0:o.offsetHeight;let u=r!=null?r:0,le="hidden";k.value&&u<k.value&&(u=k.value),A.value&&u>A.value&&(u=A.value,le="auto"),p.value={height:`${u}px`,resize:"none",overflow:le}})};J(()=>{i.value&&(te=window.getComputedStyle(i.value),e.autoSize&&F()),D()});const Be=()=>{e.autoSize&&C.value&&F(),D()},xe=t=>{i.value&&t.target!==i.value&&(t.preventDefault(),i.value.focus())},D=()=>{i.value&&(i.value.scrollHeight>i.value.offsetHeight?B.value||(B.value=!0):B.value&&(B.value=!1))};return G(v,()=>{e.autoSize&&C.value&&F(),D()}),{prefixCls:c,wrapperCls:ze,textareaRef:i,textareaStyle:p,mirrorRef:C,mirrorStyle:z,computedValue:v,showClearBtn:ge,valueLength:Z,computedMaxLength:b,mergedDisabled:f,getWrapperAttrs:Se,getTextareaAttrs:we,handleInput:Ce,handleFocus:pe,handleBlur:be,handleComposition:ye,handleClear:$e,handleResize:Be,handleMousedown:xe}},methods:{focus(){var e;(e=this.$refs.textareaRef)==null||e.focus()},blur(){var e;(e=this.$refs.textareaRef)==null||e.blur()}}}),Ke=["disabled","value","placeholder"];function Qe(e,a,l,d,y,g){const c=P("resize-observer"),f=P("icon-close"),$=P("icon-hover");return x(),L("div",se(e.getWrapperAttrs(e.$attrs),{class:e.wrapperCls,onMousedown:a[7]||(a[7]=(...n)=>e.handleMousedown&&e.handleMousedown(...n))}),[e.autoSize?(x(),L("div",{key:0,ref:"mirrorRef",class:R(`${e.prefixCls}-mirror`),style:Fe(e.mirrorStyle)},_(`${e.computedValue}
`),7)):W("v-if",!0),s(c,{onResize:e.handleResize},{default:ie(()=>[De("textarea",se({ref:"textareaRef"},e.getTextareaAttrs(e.$attrs),{disabled:e.mergedDisabled,class:e.prefixCls,style:e.textareaStyle,value:e.computedValue,placeholder:e.placeholder,onInput:a[0]||(a[0]=(...n)=>e.handleInput&&e.handleInput(...n)),onFocus:a[1]||(a[1]=(...n)=>e.handleFocus&&e.handleFocus(...n)),onBlur:a[2]||(a[2]=(...n)=>e.handleBlur&&e.handleBlur(...n)),onCompositionstart:a[3]||(a[3]=(...n)=>e.handleComposition&&e.handleComposition(...n)),onCompositionupdate:a[4]||(a[4]=(...n)=>e.handleComposition&&e.handleComposition(...n)),onCompositionend:a[5]||(a[5]=(...n)=>e.handleComposition&&e.handleComposition(...n))}),null,16,Ke)]),_:1},8,["onResize"]),me(e.$slots,"suffix"),e.computedMaxLength&&e.showWordLimit?(x(),L("div",{key:1,class:R(`${e.prefixCls}-word-limit`)},_(e.valueLength)+"/"+_(e.computedMaxLength),3)):W("v-if",!0),e.showClearBtn?(x(),L("div",{key:2,class:R(`${e.prefixCls}-clear-btn`),onClick:a[6]||(a[6]=(...n)=>e.handleClear&&e.handleClear(...n))},[s($,null,{default:ie(()=>[s(f)]),_:1})],2)):W("v-if",!0)],16)}var q=ue(Ue,[["render",Qe]]);const ea=Object.assign(q,{install:(e,a)=>{de(e,a);const l=ce(a);e.component(l+q.name,q)}});export{Ze as C,ea as T};
