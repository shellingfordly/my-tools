import{g as V,_ as Y,b as re,m as ke,s as xe,a as Be,B as ce}from"./index.be275d6f.js";import{T as Se,C as we}from"./index.5f12a860.js";import{C as Te,R as ze}from"./index.e11fea3d.js";import{I as Ie}from"./index.5ceca9a8.js";import{I as Re,a as de,M as De}from"./index.9860aab2.js";import{r as g,u as Z,O as fe,d as K,x as ve,c as m,g as oe,o as T,a as N,f as E,b as ye,n as H,h as P,w,B as n,M as Oe,i as me,m as Ke,S as Ae,t as W,N as M,e as Fe,y as X,j as Q,p as Ne,P as Ee,z as Ve,C as be,D as je,I as O,s as ie,k as Pe,F as He}from"./index.13efb4fa.js";import{I as Le}from"./index.0ecf0cf5.js";import{z as qe,I as ee,d as pe}from"./use-popup-manager.35457e0b.js";import{a as Ue,I as Me}from"./index.94843f9d.js";import{R as ue}from"./index.b136a94c.js";const Qe=e=>{const a={},t=g([]),c=()=>{if(a.value){const l=qe(a.value,e);(l.length!==t.value.length||l.toString()!==t.value.toString())&&(t.value=l)}};return Z(()=>c()),fe(()=>c()),{children:a,components:t}},We=({direction:e,type:a,offset:t})=>e==="vertical"?{transform:`translateY(${-t}px)`}:{transform:`translateX(${-t}px)`},te=Symbol("ArcoTabs"),Je=K({name:"TabsTab",components:{IconHover:ee,IconClose:pe},props:{tab:{type:Object,required:!0},active:Boolean,editable:Boolean},emits:["click","delete"],setup(e,{emit:a}){const t=V("tabs-tab"),c=ve(te,{}),l=d=>{e.tab.disabled||a("click",e.tab.key,d)},f=d=>{d.key==="Enter"&&l(d)},u=m(()=>Object.assign(c.trigger==="click"?{onClick:l}:{onMouseover:l},{onKeydown:f})),o=d=>{e.tab.disabled||a("delete",e.tab.key,d)},r=m(()=>[t,{[`${t}-active`]:e.active,[`${t}-closable`]:e.editable&&e.tab.closable,[`${t}-disabled`]:e.tab.disabled}]);return{prefixCls:t,cls:r,eventHandlers:u,handleDelete:o}}});function Ge(e,a,t,c,l,f){const u=oe("icon-close"),o=oe("icon-hover");return T(),N("div",Ke({tabindex:"0",class:e.cls},e.eventHandlers),[E("span",{class:H(`${e.prefixCls}-title`)},[ye(e.$slots,"default")],2),e.editable&&e.tab.closable?(T(),P(o,{key:0,class:H(`${e.prefixCls}-close-btn`),onClick:Oe(e.handleDelete,["stop"])},{default:w(()=>[n(u)]),_:1},8,["class","onClick"])):me("v-if",!0)],16)}var Xe=Y(Je,[["render",Ge]]);function Ye(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Ae(e)}var se=K({name:"TabsButton",props:{type:{type:String,default:"next"},direction:{type:String,default:"horizontal"},disabled:{type:Boolean,default:!1},onClick:{type:Function}},emits:["click"],setup(e,{emit:a}){const t=V("tabs-nav-button"),c=u=>{e.disabled||a("click",e.type,u)},l=()=>e.direction==="horizontal"?e.type==="next"?n(Ue,null,null):n(Me,null,null):e.type==="next"?n(Ie,null,null):n(Re,null,null),f=m(()=>[t,{[`${t}-disabled`]:e.disabled,[`${t}-left`]:e.direction==="horizontal"&&e.type==="previous",[`${t}-right`]:e.direction==="horizontal"&&e.type==="next",[`${t}-up`]:e.direction==="vertical"&&e.type==="previous",[`${t}-down`]:e.direction==="vertical"&&e.type==="next"}]);return()=>{let u;return n("div",{class:f.value,onClick:c},[n(ee,{disabled:e.disabled},Ye(u=l())?u:{default:()=>[u]})])}}});const Ze=K({name:"TabsNavInk",props:{activeTabRef:{type:Object},direction:{type:String},disabled:Boolean,animation:Boolean},setup(e){const{activeTabRef:a}=W(e),t=V("tabs-nav-ink"),c=g(0),l=g(0),f=m(()=>e.direction==="vertical"?{top:`${c.value}px`,height:`${l.value}px`}:{left:`${c.value}px`,width:`${l.value}px`}),u=()=>{if(a.value){const r=e.direction==="vertical"?a.value.offsetTop:a.value.offsetLeft,d=e.direction==="vertical"?a.value.offsetHeight:a.value.offsetWidth;(r!==c.value||d!==l.value)&&(c.value=r,l.value=d)}};Z(()=>{M(()=>u())}),fe(()=>{u()});const o=m(()=>[t,{[`${t}-animation`]:e.animation,[`${t}-disabled`]:e.disabled}]);return{prefixCls:t,cls:o,style:f}}});function et(e,a,t,c,l,f){return T(),N("div",{class:H(e.cls),style:Fe(e.style)},null,6)}var tt=Y(Ze,[["render",et]]),at=K({name:"TabsNav",props:{tabs:{type:Array,required:!0},direction:{type:String,required:!0},type:{type:String,required:!0},activeKey:{type:[String,Number]},activeIndex:{type:Number,required:!0},position:{type:String,required:!0},size:{type:String,required:!0},showAddButton:{type:Boolean,default:!1},editable:{type:Boolean,default:!1},animation:{type:Boolean,required:!0},headerPadding:{type:Boolean,default:!0}},emits:["click","add","delete"],setup(e,{emit:a,slots:t}){const{tabs:c,activeKey:l,activeIndex:f,direction:u}=W(e),o=V("tabs-nav"),r=g(),d=g(),B=g({}),b=m(()=>{if(!re(l.value))return B.value[l.value]}),p=g(),_=m(()=>e.editable&&["line","card","card-gutter"].includes(e.type)),y=g(!1),$=g(0),S=g(0),z=g([]),h=g(0),I=()=>{var i,v,F;return(F=u.value==="vertical"?(i=r.value)==null?void 0:i.offsetHeight:(v=r.value)==null?void 0:v.offsetWidth)!=null?F:0},A=()=>!d.value||!r.value?0:u.value==="vertical"?d.value.offsetHeight-r.value.offsetHeight:d.value.offsetWidth-r.value.offsetWidth,k=()=>c.value.map(i=>{const v=B.value[i.key];return u.value==="vertical"?v.offsetTop+v.offsetHeight:v.offsetLeft+v.offsetWidth}),R=()=>{y.value=D(),y.value?($.value=I(),S.value=A(),z.value=k(),h.value>S.value&&(h.value=S.value)):h.value=0},D=()=>r.value&&d.value?e.direction==="vertical"?d.value.offsetHeight>r.value.offsetHeight:d.value.offsetWidth>r.value.offsetWidth:!1,L=i=>{var v;return((v=z.value[i-1])!=null?v:0)>=h.value&&z.value[i]<=h.value+$.value},q=i=>r.value?i==="previous"?h.value-$.value:h.value+$.value:0,J=i=>!r.value||!d.value||i<0?0:i>S.value?S.value:i,s=(i,v)=>{a("click",i,v)},C=(i,v)=>{a("delete",i,v)},j=i=>{h.value=J(q(i))},he=()=>{R(),p.value&&p.value.$forceUpdate()};X(c,()=>{M(()=>{R()})}),X(f,(i,v)=>{M(()=>{var F;if(y.value)if(i>=v){const x=i<z.value.length-1?i+1:i;L(x)||(h.value=z.value[x]-$.value)}else{const x=i>0?i-1:i;L(x)||(h.value=(F=z.value[x-1])!=null?F:0)}})}),Z(()=>{R()});const ae=()=>!_.value||!e.showAddButton?null:n("div",{class:`${o}-add-btn`,onClick:i=>a("add",i)},[n(ee,null,{default:()=>[n(de,null,null)]})]),ge=m(()=>[o,`${o}-${e.direction}`,`${o}-${e.position}`,`${o}-size-${e.size}`,`${o}-type-${e.type}`]),_e=m(()=>[`${o}-tab-list`,{[`${o}-tab-list-no-padding`]:!e.headerPadding&&["line","text"].includes(e.type)&&e.direction==="horizontal"}]),Ce=m(()=>We({direction:e.direction,type:e.type,offset:h.value})),$e=m(()=>[`${o}-tab`,{[`${o}-tab-scroll`]:y.value}]);return()=>{var i;return n("div",{class:ge.value},[y.value&&n(se,{type:"previous",direction:e.direction,disabled:h.value<=0,onClick:j},null),n(ue,{onResize:()=>R()},{default:()=>[n("div",{class:$e.value,ref:r},[n(ue,{onResize:he},{default:()=>[n("div",{ref:d,class:_e.value,style:Ce.value},[e.tabs.map((v,F)=>n(Xe,{key:v.key,ref:x=>{x!=null&&x.$el&&(B.value[v.key]=x.$el)},active:v.key===l.value,tab:v,editable:e.editable,onClick:s,onDelete:C},{default:()=>{var x,ne,le;return[(le=(ne=(x=v.slots).title)==null?void 0:ne.call(x))!=null?le:v.title]}})),e.type==="line"&&b.value&&n(tt,{ref:p,activeTabRef:b.value,direction:e.direction,disabled:!1,animation:e.animation},null)])]}),!y.value&&ae()])]}),y.value&&n(se,{type:"next",direction:e.direction,disabled:h.value>=S.value,onClick:j},null),n("div",{class:`${o}-extra`},[y.value&&ae(),(i=t.extra)==null?void 0:i.call(t)])])}}}),G=K({name:"Tabs",props:{activeKey:{type:[String,Number],default:void 0},defaultActiveKey:{type:[String,Number],default:void 0},position:{type:String,default:"top"},size:{type:String},type:{type:String,default:"line"},direction:{type:String,default:"horizontal"},editable:{type:Boolean,default:!1},showAddButton:{type:Boolean,default:!1},destroyOnHide:{type:Boolean,default:!1},lazyLoad:{type:Boolean,default:!1},justify:{type:Boolean,default:!1},animation:{type:Boolean,default:!1},headerPadding:{type:Boolean,default:!0},autoSwitch:{type:Boolean,default:!1},hideContent:{type:Boolean,default:!1},trigger:{type:String,default:"click"}},emits:{"update:activeKey":e=>!0,change:e=>!0,tabClick:(e,a)=>!0,add:e=>!0,delete:(e,a)=>!0},setup(e,{emit:a,slots:t}){const{size:c,lazyLoad:l,destroyOnHide:f,trigger:u}=W(e),o=V("tabs"),{mergedSize:r}=ke(c),d=m(()=>e.direction==="vertical"?"left":e.position),B=m(()=>["left","right"].includes(d.value)?"vertical":"horizontal"),{children:b,components:p}=Qe("TabPane"),_=Q(new Map),y=m(()=>{const s=[];return p.value.forEach(C=>{const j=_.get(C);j&&s.push(j)}),s}),$=m(()=>y.value.map(s=>s.key)),S=(s,C)=>{_.set(s,C)},z=s=>{_.delete(s)},h=g(e.defaultActiveKey),I=m(()=>{var s;const C=(s=e.activeKey)!=null?s:h.value;return re(C)?$.value[0]:C}),A=m(()=>{const s=$.value.indexOf(I.value);return s===-1?0:s});Ne(te,Q({lazyLoad:l,destroyOnHide:f,activeKey:I,addItem:S,removeItem:z,trigger:u}));const k=s=>{s!==I.value&&(h.value=s,a("update:activeKey",s),a("change",s))},R=(s,C)=>{k(s),a("tabClick",s,C)},D=s=>{a("add",s),e.autoSwitch&&M(()=>{const C=$.value[$.value.length-1];k(C)})},L=(s,C)=>{a("delete",s,C)},q=()=>n("div",{class:[`${o}-content`,{[`${o}-content-hide`]:e.hideContent}]},[n("div",{class:[`${o}-content-list`,{[`${o}-content-animation`]:e.animation}],style:{marginLeft:`-${A.value*100}%`}},[b.value])]),J=m(()=>[o,`${o}-${B.value}`,`${o}-${d.value}`,`${o}-type-${e.type}`,`${o}-size-${r.value}`,{[`${o}-justify`]:e.justify}]);return()=>{var s;return b.value=(s=t.default)==null?void 0:s.call(t),n("div",{class:J.value},[d.value==="bottom"&&q(),n(at,{tabs:y.value,activeKey:I.value,activeIndex:A.value,direction:B.value,position:d.value,editable:e.editable,animation:e.animation,showAddButton:e.showAddButton,headerPadding:e.headerPadding,size:r.value,type:e.type,onClick:R,onAdd:D,onDelete:L},{extra:t.extra}),d.value!=="bottom"&&q()])}}});const nt=K({name:"TabPane",props:{title:String,disabled:{type:Boolean,default:!1},closable:{type:Boolean,default:!0},destroyOnHide:{type:Boolean,default:!1}},setup(e,{slots:a}){var t;const{title:c,disabled:l,closable:f}=W(e),u=Ve(),o=V("tabs"),r=ve(te,{}),d=g(),B=m(()=>u==null?void 0:u.vnode.key),b=m(()=>B.value===r.activeKey),p=g(r.lazyLoad?b.value:!0),_=Q({key:B,title:c,disabled:l,closable:f,slots:a});return u!=null&&u.uid&&((t=r.addItem)==null||t.call(r,u.uid,_)),Ee(()=>{var y;u!=null&&u.uid&&((y=r.removeItem)==null||y.call(r,u.uid))}),X(b,y=>{y?p.value||(p.value=!0):(e.destroyOnHide||r.destroyOnHide)&&(p.value=!1)}),{prefixCls:o,active:b,itemRef:d,mounted:p}}});function lt(e,a,t,c,l,f){return T(),N("div",{ref:"itemRef",class:H([`${e.prefixCls}-content-item`,{[`${e.prefixCls}-content-item-active`]:e.active}])},[e.mounted?(T(),N("div",{key:0,class:H(`${e.prefixCls}-pane`)},[ye(e.$slots,"default")],2)):me("v-if",!0)],2)}var U=Y(nt,[["render",lt]]);const ot=Object.assign(G,{TabPane:U,install:(e,a)=>{xe(e,a);const t=Be(a);e.component(t+G.name,G),e.component(t+U.name,U)}});function it(){return"QRCode"in window?window.QRCode:(De.error("\u4E8C\u7EF4\u7801\u751F\u6210\u6A21\u5757\u52A0\u8F7D\u5931\u8D25\uFF01\u8BF7\u5237\u65B0\u91CD\u8BD5\u3002"),null)}function ut(){const e=it();function a(t,c){var f;if(!e||!c)return null;const l=new e(t,{text:c,width:128,height:128,colorDark:"#000000",colorLight:"#ffffff",correctLevel:(f=e==null?void 0:e.CorrectLevel)==null?void 0:f.Q});return new Promise(u=>{setTimeout(()=>{u(l)},0)})}return{QRCode:e,createQRCode:a}}const st=K({__name:"Download",props:{url:{type:String},text:{type:String,default:"\u4E0B\u8F7D"},name:{type:String},fileType:{type:String,default:"png"}},setup(e){const a=e,t=m(()=>`${a.name||Date()}.${a.fileType}`);return(c,l)=>{const f=ce;return T(),P(f,{"w-60":"",size:"small",type:"primary",href:e.url,download:O(t)},{default:w(()=>[be(je(e.text),1)]),_:1},8,["href","download"])}}}),rt={"f-ac":"","pl-10":"","pr-10":"","mb-10":""},ct=E("span",{"mr-10":""},"key: ",-1),dt=E("span",{"ml-30":"","mr-10":""},"value: ",-1),ft={"mt-20":"","f-jc":""},vt=E("div",{id:"qrcode","mb-20":""},null,-1),xt=K({__name:"QRcode",setup(e){const a=()=>({key:"",value:""}),t=g(0),c=g(""),l=g(""),f=Q([a()]),{createQRCode:u}=ut();function o(){f.push(a())}function r(b){f.splice(b,1)}function d(){var _;const b=document.getElementById("qrcode");if(!b)return;b.childNodes.forEach(y=>b.removeChild(y));const p=t.value?B(f):O(l);(_=u(b,p))==null||_.then(()=>{c.value=b.childNodes[1].src})}function B(b){const p={};return b.forEach(_=>_.key&&(p[_.key]=_.value)),JSON.stringify(p)}return(b,p)=>{const _=Se,y=U,$=Le,S=ce,z=ot,h=Te,I=ze,A=we;return T(),P(A,{title:"\u751F\u6210\u4E8C\u7EF4\u7801"},{default:w(()=>[n(I,null,{default:w(()=>[n(h,{span:12,"b-r":"","pr-10":""},{default:w(()=>[n(z,{"active-key":O(t),"onUpdate:activeKey":p[1]||(p[1]=k=>ie(t)?t.value=k:null)},{default:w(()=>[(T(),P(y,{key:0,title:"\u666E\u901A\u94FE\u63A5/\u6587\u672C"},{default:w(()=>[n(_,{modelValue:O(l),"onUpdate:modelValue":p[0]||(p[0]=k=>ie(l)?l.value=k:null),"h-100":""},null,8,["modelValue"])]),_:1})),(T(),P(y,{key:1,title:"JSON\u683C\u5F0F\u6570\u636E"},{default:w(()=>[E("ul",null,[(T(!0),N(He,null,Pe(O(f),(k,R)=>(T(),N("li",rt,[ct,n($,{modelValue:k.key,"onUpdate:modelValue":D=>k.key=D,placeholder:"\u8F93\u5165key\u503C"},null,8,["modelValue","onUpdate:modelValue"]),dt,n($,{modelValue:k.value,"onUpdate:modelValue":D=>k.value=D,placeholder:"\u8F93\u5165value\u503C"},null,8,["modelValue","onUpdate:modelValue"]),n(O(pe),{onClick:D=>r(R),size:"50","ml-10":"","cursor-pointer":""},null,8,["onClick"])]))),256))]),E("div",ft,[n(S,{onClick:o},{icon:w(()=>[n(O(de))]),_:1})])]),_:1}))]),_:1},8,["active-key"]),n(S,{"mt-20":"","w-100":"",onClick:d,type:"primary"},{default:w(()=>[be(" \u751F\u6210\u4E8C\u7EF4\u7801 ")]),_:1})]),_:1}),n(h,{span:12,"pl-10":"","flex-col":"","f-ac-jc":""},{default:w(()=>[vt,n(st,{url:O(c)},null,8,["url"])]),_:1})]),_:1})]),_:1})}}});export{xt as default};
