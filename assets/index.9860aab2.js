import{g as _,i as U,_ as w,c as Q,I as Y,k as x,b as J,l as K}from"./index.be275d6f.js";import{d as b,c as g,o as c,a as v,n as d,e as H,f as I,r as T,u as A,v as F,O as X,g as u,b as S,h as m,i as C,B as h,w as Z,Q as ee,S as se,j as te,$ as M}from"./index.13efb4fa.js";import{a as P,r as j}from"./index.5ceca9a8.js";import{I as ne,n as oe,t as re,v as ie,d as ae,k as le,y as z,x as ce,M as ue}from"./use-popup-manager.35457e0b.js";import{a as de}from"./index.0ecf0cf5.js";const pe=b({name:"IconUp",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:s}){const t=_("icon"),r=g(()=>[t,`${t}-up`,{[`${t}-spin`]:e.spin}]),i=g(()=>{const n={};return e.size&&(n.fontSize=U(e.size)?`${e.size}px`:e.size),e.rotate&&(n.transform=`rotate(${e.rotate}deg)`),n});return{cls:r,innerStyle:i,onClick:n=>{s("click",n)}}}}),fe=["stroke-width","stroke-linecap","stroke-linejoin"],me=I("path",{d:"M39.6 30.557 24.043 15 8.487 30.557"},null,-1),ve=[me];function ge(e,s,t,r,i,o){return c(),v("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:d(e.cls),style:H(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:s[0]||(s[0]=(...n)=>e.onClick&&e.onClick(...n))},ve,14,fe)}var $=w(pe,[["render",ge]]);const Te=Object.assign($,{install:(e,s)=>{var t;const r=(t=s==null?void 0:s.iconPrefix)!=null?t:"";e.component(r+$.name,$)}});function L(e){return Q(e)}function Ae(e,s,t=!1){const r=T({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),i=g(()=>{let n=s;if(L(e.value))for(let a=0;a<P.length;a++){const l=P[a];if((r.value[l]||l==="xs"&&t)&&e.value[l]!==void 0){n=e.value[l];break}}else n=e.value;return n});let o="";return A(()=>{o=j.subscribe(n=>{L(e.value)&&(r.value=n)})}),F(()=>{o&&j.unsubscribe(o)}),i}const he=b({name:"IconPlus",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:s}){const t=_("icon"),r=g(()=>[t,`${t}-plus`,{[`${t}-spin`]:e.spin}]),i=g(()=>{const n={};return e.size&&(n.fontSize=U(e.size)?`${e.size}px`:e.size),e.rotate&&(n.transform=`rotate(${e.rotate}deg)`),n});return{cls:r,innerStyle:i,onClick:n=>{s("click",n)}}}}),ye=["stroke-width","stroke-linecap","stroke-linejoin"],ke=I("path",{d:"M5 24h38M24 5v38"},null,-1),_e=[ke];function be(e,s,t,r,i,o){return c(),v("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:d(e.cls),style:H(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:s[0]||(s[0]=(...n)=>e.onClick&&e.onClick(...n))},_e,14,ye)}var O=w(he,[["render",be]]);const Fe=Object.assign(O,{install:(e,s)=>{var t;const r=(t=s==null?void 0:s.iconPrefix)!=null?t:"";e.component(r+O.name,O)}}),Ce=b({name:"Message",components:{AIconHover:ne,IconInfoCircleFill:de,IconCheckCircleFill:oe,IconExclamationCircleFill:re,IconCloseCircleFill:ie,IconClose:ae,IconLoading:Y},props:{type:{type:String,default:"info"},closable:{type:Boolean,default:!1},showIcon:{type:Boolean,default:!0},duration:{type:Number,default:3e3},resetOnUpdate:{type:Boolean,default:!1},resetOnHover:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:s}){const t=_("message");let r=0;const i=()=>{s("close")},o=()=>{e.duration>0&&(r=window.setTimeout(i,e.duration))},n=()=>{r&&(window.clearTimeout(r),r=0)};return A(()=>{o()}),X(()=>{e.resetOnUpdate&&(n(),o())}),F(()=>{n()}),{handleMouseEnter:()=>{e.resetOnHover&&n()},handleMouseLeave:()=>{e.resetOnHover&&o()},prefixCls:t,handleClose:i}}});function $e(e,s,t,r,i,o){const n=u("icon-info-circle-fill"),a=u("icon-check-circle-fill"),l=u("icon-exclamation-circle-fill"),q=u("icon-close-circle-fill"),D=u("icon-loading"),G=u("icon-close"),R=u("a-icon-hover");return c(),v("li",{role:"alert",class:d([e.prefixCls,`${e.prefixCls}-${e.type}`,{[`${e.prefixCls}-closable`]:e.closable}]),onMouseenter:s[1]||(s[1]=(...f)=>e.handleMouseEnter&&e.handleMouseEnter(...f)),onMouseleave:s[2]||(s[2]=(...f)=>e.handleMouseLeave&&e.handleMouseLeave(...f))},[e.showIcon&&!(e.type==="normal"&&!e.$slots.icon)?(c(),v("span",{key:0,class:d(`${e.prefixCls}-icon`)},[S(e.$slots,"icon",{},()=>[e.type==="info"?(c(),m(n,{key:0})):e.type==="success"?(c(),m(a,{key:1})):e.type==="warning"?(c(),m(l,{key:2})):e.type==="error"?(c(),m(q,{key:3})):e.type==="loading"?(c(),m(D,{key:4})):C("v-if",!0)])],2)):C("v-if",!0),I("span",{class:d(`${e.prefixCls}-content`)},[S(e.$slots,"default")],2),e.closable?(c(),v("span",{key:1,class:d(`${e.prefixCls}-close-btn`),onClick:s[0]||(s[0]=(...f)=>e.handleClose&&e.handleClose(...f))},[h(R,null,{default:Z(()=>[h(G)]),_:1})],2)):C("v-if",!0)],34)}var Oe=w(Ce,[["render",$e]]);function we(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!se(e)}var Ie=b({name:"MessageList",props:{messages:{type:Array,default:()=>[]},position:{type:String,default:"top"}},emits:["close","afterClose"],setup(e,s){const t=_("message-list"),{zIndex:r}=le("message",{runOnMounted:!0});return()=>{let i;return h(ee,{class:[t,`${t}-${e.position}`],name:"fade-message",tag:"ul",style:{zIndex:r.value},onAfterLeave:()=>s.emit("afterClose")},we(i=e.messages.map(o=>{const n={default:z(o.content),icon:z(o.icon)};return h(Oe,{key:o.id,type:o.type,duration:o.duration,closable:o.closable,resetOnUpdate:o.resetOnUpdate,resetOnHover:o.resetOnHover,onClose:()=>s.emit("close",o.id)},n)}))?i:{default:()=>[i]})}}}),Se=Object.defineProperty,Me=Object.defineProperties,Pe=Object.getOwnPropertyDescriptors,B=Object.getOwnPropertySymbols,je=Object.prototype.hasOwnProperty,ze=Object.prototype.propertyIsEnumerable,N=(e,s,t)=>s in e?Se(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,k=(e,s)=>{for(var t in s||(s={}))je.call(s,t)&&N(e,t,s[t]);if(B)for(var t of B(s))ze.call(s,t)&&N(e,t,s[t]);return e},V=(e,s)=>Me(e,Pe(s));class Le{constructor(s,t){this.messageCount=0,this.add=o=>{var n;this.messageCount++;const a=(n=o.id)!=null?n:`__arco_message_${this.messageCount}`;if(this.messageIds.has(a))return this.update(a,o);const l=te(k({id:a},o));return this.messages.value.push(l),this.messageIds.add(a),{close:()=>this.remove(a)}},this.update=(o,n)=>{for(let a=0;a<this.messages.value.length;a++)if(this.messages.value[a].id===o){const l=!J(n.duration);Object.assign(this.messages.value[a],V(k({},n),{id:o,resetOnUpdate:l}));break}return{close:()=>this.remove(o)}},this.remove=o=>{for(let n=0;n<this.messages.value.length;n++){const a=this.messages.value[n];if(a.id===o){K(a.onClose)&&a.onClose(o),this.messages.value.splice(n,1),this.messageIds.delete(o);break}}},this.clear=()=>{this.messages.value.splice(0)},this.destroy=()=>{this.messages.value.length===0&&this.container&&(M(null,this.container),document.body.removeChild(this.container),this.container=null,p[this.position]=void 0)};const{position:r="top"}=s;this.container=ce("message"),this.messageIds=new Set,this.messages=T([]),this.position=r;const i=h(Ie,{messages:this.messages.value,position:r,onClose:this.remove,onAfterClose:this.destroy});(t!=null?t:E._context)&&(i.appContext=t!=null?t:E._context),M(i,this.container),document.body.appendChild(this.container)}}const p={},W=[...ue,"loading","normal"],y=W.reduce((e,s)=>(e[s]=(t,r)=>{x(t)&&(t={content:t});const i=k({type:s},t),{position:o="top"}=i;return p[o]||(p[o]=new Le(i,r)),p[o].add(i)},e),{});y.clear=e=>{var s;e?(s=p[e])==null||s.clear():Object.values(p).forEach(t=>t==null?void 0:t.clear())};const E=V(k({},y),{install:e=>{const s={clear:y.clear};for(const t of W)s[t]=(r,i=e._context)=>y[t](r,i);e.config.globalProperties.$message=s},_context:null});export{Te as I,E as M,Fe as a,Ae as u};
