import{g as N,r as Ie,v as Me,_ as ce,s as fe,a as me,o as Te,b as je,p as Ne,c as T,j as ke}from"./index.cdfcc5d8.js";import{S as ie,R as Ee}from"./index.319e4295.js";import{d as k,t as he,c as h,j as He,p as Oe,B as u,x as ge,u as ee,o as x,a as L,b as pe,n as j,r as g,y as U,R as se,g as K,e as Ae,G as q,i as J,w as ue,f as Fe,m as de}from"./index.4b01108f.js";import{I as Ge,e as Pe,d as ve}from"./use-popup-manager.b89a1cc3.js";import{o as _e,p as De}from"./index.c6a20670.js";import{u as We}from"./index.554646c6.js";const ae=Symbol("ArcoCard");var Q=k({name:"Card",components:{Spin:ie},props:{bordered:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},hoverable:{type:Boolean,default:!1},size:{type:String},headerStyle:{type:Object,default:()=>({})},bodyStyle:{type:Object,default:()=>({})},title:{type:String},extra:{type:String}},setup(e,{slots:a}){const l=N("card"),{size:d}=he(e),{mergedSize:b}=Ie(d),p=h(()=>b.value==="small"||b.value==="mini"?"small":"medium"),c=n=>{const r=Me(n);return u("div",{class:`${l}-actions`},[u("div",{class:`${l}-actions-right`},[r.map((y,C)=>u("span",{key:`action-${C}`,class:`${l}-actions-item`},[y]))])])},m=He({hasMeta:!1,hasGrid:!1,slots:a,renderActions:c});Oe(ae,m);const $=h(()=>[l,`${l}-size-${p.value}`,{[`${l}-loading`]:e.loading,[`${l}-bordered`]:e.bordered,[`${l}-hoverable`]:e.hoverable,[`${l}-contain-grid`]:m.hasGrid}]);return()=>{var n,r,y,C,w,S,v;const z=Boolean((n=a.title)!=null?n:e.title),R=Boolean((r=a.extra)!=null?r:e.extra);return u("div",{class:$.value},[(z||R)&&u("div",{class:[`${l}-header`,{[`${l}-header-no-title`]:!z}],style:e.headerStyle},[z&&u("div",{class:`${l}-header-title`},[(C=(y=a.title)==null?void 0:y.call(a))!=null?C:e.title]),R&&u("div",{class:`${l}-header-extra`},[(S=(w=a.extra)==null?void 0:w.call(a))!=null?S:e.extra])]),a.cover&&u("div",{class:`${l}-cover`},[a.cover()]),u("div",{class:`${l}-body`,style:e.bodyStyle},[e.loading?u(ie,null,null):(v=a.default)==null?void 0:v.call(a),a.actions&&!m.hasMeta&&c(a.actions())])])}}}),X=k({name:"CardMeta",props:{title:{type:String},description:{type:String}},setup(e,{slots:a}){const l=N("card-meta"),d=ge(ae);return ee(()=>{d&&(d.hasMeta=!0)}),()=>{var b,p,c,m,$,n;const r=Boolean((b=a.title)!=null?b:e.title),y=Boolean((p=a.description)!=null?p:e.description);return u("div",{class:l},[(r||y)&&u("div",{class:`${l}-content`},[r&&u("div",{class:`${l}-title`},[(m=(c=a.title)==null?void 0:c.call(a))!=null?m:e.title]),y&&u("div",{class:`${l}-description`},[(n=($=a.description)==null?void 0:$.call(a))!=null?n:e.description])]),(a.avatar||(d==null?void 0:d.slots.actions))&&u("div",{class:[`${l}-footer `,{[`${l}-footer-only-actions`]:!a.avatar}]},[a.avatar&&u("div",{class:`${l}-avatar`},[a.avatar()]),d&&d.slots.actions&&d.renderActions(d.slots.actions())])])}}});const Ue=k({name:"CardGrid",props:{hoverable:{type:Boolean,default:!1}},setup(e){const a=N("card-grid"),l=ge(ae);return ee(()=>{l&&(l.hasGrid=!0)}),{cls:h(()=>[a,{[`${a}-hoverable`]:e.hoverable}])}}});function Ke(e,a,l,d,b,p){return x(),L("div",{class:j(e.cls)},[pe(e.$slots,"default")],2)}var Y=ce(Ue,[["render",Ke]]);const oa=Object.assign(Q,{Meta:X,Grid:Y,install:(e,a)=>{fe(e,a);const l=me(a);e.component(l+Q.name,Q),e.component(l+X.name,X),e.component(l+Y.name,Y)}}),qe=["border-width","box-sizing","font-family","font-weight","font-size","font-variant","letter-spacing","line-height","padding-top","padding-bottom","padding-left","padding-right","text-indent","text-rendering","text-transform","white-space","overflow-wrap","width"],Je=e=>{const a={};return qe.forEach(l=>{a[l]=e.getPropertyValue(l)}),a},Qe=k({name:"Textarea",components:{ResizeObserver:Ee,IconHover:Ge,IconClose:Pe},inheritAttrs:!1,props:{modelValue:String,defaultValue:{type:String,default:""},placeholder:String,disabled:{type:Boolean,default:!1},error:{type:Boolean,default:!1},maxLength:{type:[Number,Object],default:0},showWordLimit:{type:Boolean,default:!1},allowClear:{type:Boolean,default:!1},autoSize:{type:[Boolean,Object],default:!1},wordLength:{type:Function},wordSlice:{type:Function}},emits:{"update:modelValue":e=>!0,input:(e,a)=>!0,change:(e,a)=>!0,clear:e=>!0,focus:e=>!0,blur:e=>!0},setup(e,{emit:a,attrs:l}){const{disabled:d,error:b,modelValue:p}=he(e),c=N("textarea"),{mergedDisabled:m,mergedError:$,eventHandlers:n}=Te({disabled:d,error:b}),r=g(),y=g(),C=g(),w=g(),S=g(e.defaultValue),v=h(()=>{var t;return(t=p.value)!=null?t:S.value}),[z,R]=We(r);U(p,t=>{(je(t)||Ne(t))&&(S.value="")});const V=h(()=>T(e.maxLength)&&Boolean(e.maxLength.errorOnly)),f=h(()=>T(e.maxLength)?e.maxLength.length:e.maxLength),I=t=>{var o;return ke(e.wordLength)?e.wordLength(t):(o=t.length)!=null?o:0},te=h(()=>I(v.value)),ye=h(()=>$.value||Boolean(f.value&&V.value&&te.value>f.value)),B=g(!1),E=g(!1),be=h(()=>e.allowClear&&!m.value&&v.value),H=g(!1),le=g(""),O=()=>{z(),se(()=>{r.value&&v.value!==r.value.value&&(r.value.value=v.value,R())})},M=(t,o=!0)=>{var i,s;f.value&&!V.value&&I(t)>f.value&&(t=(s=(i=e.wordSlice)==null?void 0:i.call(e,t,f.value))!=null?s:t.slice(0,f.value)),S.value=t,o&&a("update:modelValue",t),O()};let A=v.value;const ne=(t,o)=>{var i,s;t!==A&&(A=t,a("change",t,o),(s=(i=n.value)==null?void 0:i.onChange)==null||s.call(i,o))},Ce=t=>{var o,i;E.value=!0,A=v.value,a("focus",t),(i=(o=n.value)==null?void 0:o.onFocus)==null||i.call(o,t)},$e=t=>{var o,i;E.value=!1,a("blur",t),(i=(o=n.value)==null?void 0:o.onBlur)==null||i.call(o,t),ne(v.value,t)},Se=t=>{var o,i;const{value:s}=t.target;if(t.type==="compositionend"){if(H.value=!1,le.value="",f.value&&!V.value&&v.value.length>=f.value&&I(s)>f.value){O();return}a("input",s,t),M(s),(i=(o=n.value)==null?void 0:o.onInput)==null||i.call(o,t)}else H.value=!0},we=t=>{var o,i;const{value:s}=t.target;if(H.value)le.value=s;else{if(f.value&&!V.value&&v.value.length>=f.value&&I(s)>f.value&&t.inputType==="insertText"){O();return}a("input",s,t),M(s),(i=(o=n.value)==null?void 0:o.onInput)==null||i.call(o,t)}},ze=t=>{M(""),ne("",t),a("clear",t)};U(p,t=>{t!==v.value&&M(t!=null?t:"",!1)});const Be=t=>_e(l,ve),xe=t=>De(l,ve),Le=h(()=>[`${c}-wrapper`,{[`${c}-focus`]:E.value,[`${c}-disabled`]:m.value,[`${c}-error`]:ye.value,[`${c}-scroll`]:B.value}]);let oe;const F=g(0),G=g(0),P=h(()=>!T(e.autoSize)||!e.autoSize.minRows?0:e.autoSize.minRows*F.value+G.value),_=h(()=>!T(e.autoSize)||!e.autoSize.maxRows?0:e.autoSize.maxRows*F.value+G.value),D=()=>{const t=Je(oe);F.value=Number.parseInt(t["line-height"]||0,10),G.value=Number.parseInt(t["border-width"]||0,10)*2+Number.parseInt(t["padding-top"]||0,10)+Number.parseInt(t["padding-bottom"]||0,10),w.value=t,se(()=>{var o;const i=(o=C.value)==null?void 0:o.offsetHeight;let s=i!=null?i:0,re="hidden";P.value&&s<P.value&&(s=P.value),_.value&&s>_.value&&(s=_.value,re="auto"),y.value={height:`${s}px`,resize:"none",overflow:re}})};ee(()=>{r.value&&(oe=window.getComputedStyle(r.value),e.autoSize&&D()),W()});const Re=()=>{e.autoSize&&C.value&&D(),W()},Ve=t=>{r.value&&t.target!==r.value&&(t.preventDefault(),r.value.focus())},W=()=>{r.value&&(r.value.scrollHeight>r.value.offsetHeight?B.value||(B.value=!0):B.value&&(B.value=!1))};return U(v,()=>{e.autoSize&&C.value&&D(),W()}),{prefixCls:c,wrapperCls:Le,textareaRef:r,textareaStyle:y,mirrorRef:C,mirrorStyle:w,computedValue:v,showClearBtn:be,valueLength:te,computedMaxLength:f,mergedDisabled:m,getWrapperAttrs:Be,getTextareaAttrs:xe,handleInput:we,handleFocus:Ce,handleBlur:$e,handleComposition:Se,handleClear:ze,handleResize:Re,handleMousedown:Ve}},methods:{focus(){var e;(e=this.$refs.textareaRef)==null||e.focus()},blur(){var e;(e=this.$refs.textareaRef)==null||e.blur()}}}),Xe=["disabled","value","placeholder"];function Ye(e,a,l,d,b,p){const c=K("resize-observer"),m=K("icon-close"),$=K("icon-hover");return x(),L("div",de(e.getWrapperAttrs(e.$attrs),{class:e.wrapperCls,onMousedown:a[7]||(a[7]=(...n)=>e.handleMousedown&&e.handleMousedown(...n))}),[e.autoSize?(x(),L("div",{key:0,ref:"mirrorRef",class:j(`${e.prefixCls}-mirror`),style:Ae(e.mirrorStyle)},q(`${e.computedValue}
`),7)):J("v-if",!0),u(c,{onResize:e.handleResize},{default:ue(()=>[Fe("textarea",de({ref:"textareaRef"},e.getTextareaAttrs(e.$attrs),{disabled:e.mergedDisabled,class:e.prefixCls,style:e.textareaStyle,value:e.computedValue,placeholder:e.placeholder,onInput:a[0]||(a[0]=(...n)=>e.handleInput&&e.handleInput(...n)),onFocus:a[1]||(a[1]=(...n)=>e.handleFocus&&e.handleFocus(...n)),onBlur:a[2]||(a[2]=(...n)=>e.handleBlur&&e.handleBlur(...n)),onCompositionstart:a[3]||(a[3]=(...n)=>e.handleComposition&&e.handleComposition(...n)),onCompositionupdate:a[4]||(a[4]=(...n)=>e.handleComposition&&e.handleComposition(...n)),onCompositionend:a[5]||(a[5]=(...n)=>e.handleComposition&&e.handleComposition(...n))}),null,16,Xe)]),_:1},8,["onResize"]),pe(e.$slots,"suffix"),e.computedMaxLength&&e.showWordLimit?(x(),L("div",{key:1,class:j(`${e.prefixCls}-word-limit`)},q(e.valueLength)+"/"+q(e.computedMaxLength),3)):J("v-if",!0),e.showClearBtn?(x(),L("div",{key:2,class:j(`${e.prefixCls}-clear-btn`),onClick:a[6]||(a[6]=(...n)=>e.handleClear&&e.handleClear(...n))},[u($,null,{default:ue(()=>[u(m)]),_:1})],2)):J("v-if",!0)],16)}var Z=ce(Qe,[["render",Ye]]);const ra=Object.assign(Z,{install:(e,a)=>{fe(e,a);const l=me(a);e.component(l+Z.name,Z)}});export{oa as C,ra as T};
