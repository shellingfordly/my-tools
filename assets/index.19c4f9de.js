import{d as De,e as Ie,f as ye,h as Ne,j as re,g as pe,k as Ve,l as We,m as He,o as ae,n as Xe,b as Ze,s as qe,c as Ge,i as Ue,_ as Ke}from"./index.a953d743.js";import{r as m,y as F,M as G,d as k,x as z,N as U,q as Ye,C as Je,c as S,n as se,D as Qe,H as Re,b as y,T as et,J as tt,O as lt,P as ot,Q as nt,F as rt,R as at,o as st,e as it,A as ut,B as dt,m as ct}from"./index.30cf8f63.js";const ge=typeof window=="undefined"?global:window,ft=ge.requestAnimationFrame,ie=ge.cancelAnimationFrame;function ht(e){let t=0;const l=(...o)=>{t&&ie(t),t=ft(()=>{e(...o),t=0})};return l.cancel=()=>{ie(t),t=0},l}var vt=Object.defineProperty,ue=Object.getOwnPropertySymbols,mt=Object.prototype.hasOwnProperty,bt=Object.prototype.propertyIsEnumerable,de=(e,t,l)=>t in e?vt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,M=(e,t)=>{for(var l in t||(t={}))mt.call(t,l)&&de(e,l,t[l]);if(ue)for(var l of ue(t))bt.call(t,l)&&de(e,l,t[l]);return e};const wt=()=>({width:document.documentElement.clientWidth||window.innerWidth,height:document.documentElement.clientHeight||window.innerHeight}),ce=(e,t)=>{var l,o;const r=e.getBoundingClientRect();return{top:r.top,bottom:r.bottom,left:r.left,right:r.right,scrollTop:r.top-t.top,scrollBottom:r.bottom-t.top,scrollLeft:r.left-t.left,scrollRight:r.right-t.left,width:(l=e.offsetWidth)!=null?l:e.clientWidth,height:(o=e.offsetHeight)!=null?o:e.clientHeight}},yt=e=>{switch(e){case"top":case"tl":case"tr":return"top";case"bottom":case"bl":case"br":return"bottom";case"left":case"lt":case"lb":return"left";case"right":case"rt":case"rb":return"right";default:return"top"}},j=(e,t)=>{switch(t){case"top":switch(e){case"bottom":return"top";case"bl":return"tl";case"br":return"tr";default:return e}case"bottom":switch(e){case"top":return"bottom";case"tl":return"bl";case"tr":return"br";default:return e}case"left":switch(e){case"right":return"left";case"rt":return"lt";case"rb":return"lb";default:return e}case"right":switch(e){case"left":return"right";case"lt":return"rt";case"lb":return"rb";default:return e}default:return e}},pt=(e,t,{containerRect:l,triggerRect:o,popupRect:r,offset:s,translate:a})=>{const d=yt(e),i=wt(),c={top:l.top+t.top,bottom:i.height-(l.top+t.top+r.height),left:l.left+t.left,right:i.width-(l.left+t.left+r.width)};let f=e;if(d==="top"&&c.top<0)if(o.top>r.height)t.top=-l.top;else{const v=x("bottom",o,r,{offset:s,translate:a});i.height-(l.top+v.top+r.height)>0&&(f=j(e,"bottom"),t.top=v.top)}if(d==="bottom"&&c.bottom<0)if(i.height-o.bottom>r.height)t.top=-l.top+(i.height-r.height);else{const v=x("top",o,r,{offset:s,translate:a});l.top+v.top>0&&(f=j(e,"top"),t.top=v.top)}if(d==="left"&&c.left<0)if(o.left>r.width)t.left=-l.left;else{const v=x("right",o,r,{offset:s,translate:a});i.width-(l.left+v.left+r.width)>0&&(f=j(e,"right"),t.left=v.left)}if(d==="right"&&c.right<0)if(i.width-o.right>r.width)t.left=-l.left+(i.width-r.width);else{const v=x("left",o,r,{offset:s,translate:a});l.left+v.left>0&&(f=j(e,"left"),t.left=v.left)}return(d==="top"||d==="bottom")&&(c.left<0?t.left=-l.left:c.right<0&&(t.left=-l.left+(i.width-r.width))),(d==="left"||d==="right")&&(c.top<0?t.top=-l.top:c.bottom<0&&(t.top=-l.top+(i.height-r.height))),{popupPosition:t,position:f}},x=(e,t,l,{offset:o=0,translate:r=[0,0]}={})=>{var s;const a=(s=De(r)?r:r[e])!=null?s:[0,0];switch(e){case"top":return{left:t.scrollLeft+Math.round(t.width/2)-Math.round(l.width/2)+a[0],top:t.scrollTop-l.height-o+a[1]};case"tl":return{left:t.scrollLeft+a[0],top:t.scrollTop-l.height-o+a[1]};case"tr":return{left:t.scrollRight-l.width+a[0],top:t.scrollTop-l.height-o+a[1]};case"bottom":return{left:t.scrollLeft+Math.round(t.width/2)-Math.round(l.width/2)+a[0],top:t.scrollBottom+o+a[1]};case"bl":return{left:t.scrollLeft+a[0],top:t.scrollBottom+o+a[1]};case"br":return{left:t.scrollRight-l.width+a[0],top:t.scrollBottom+o+a[1]};case"left":return{left:t.scrollLeft-l.width-o+a[0],top:t.scrollTop+Math.round(t.height/2)-Math.round(l.height/2)+a[1]};case"lt":return{left:t.scrollLeft-l.width-o+a[0],top:t.scrollTop+a[1]};case"lb":return{left:t.scrollLeft-l.width-o+a[0],top:t.scrollBottom-l.height+a[1]};case"right":return{left:t.scrollRight+o+a[0],top:t.scrollTop+Math.round(t.height/2)-Math.round(l.height/2)+a[1]};case"rt":return{left:t.scrollRight+o+a[0],top:t.scrollTop+a[1]};case"rb":return{left:t.scrollRight+o+a[0],top:t.scrollBottom-l.height+a[1]};default:return{left:0,top:0}}},gt=e=>{let t="0";["top","bottom"].includes(e)?t="50%":["left","lt","lb","tr","br"].includes(e)&&(t="100%");let l="0";return["left","right"].includes(e)?l="50%":["top","tl","tr","lt","rt"].includes(e)&&(l="100%"),`${t} ${l}`},_t=(e,t,l,o,{offset:r=0,translate:s=[0,0],customStyle:a={},autoFitPosition:d=!1}={})=>{let i=e,c=x(e,l,o,{offset:r,translate:s});if(d){const v=pt(e,c,{containerRect:t,popupRect:o,triggerRect:l,offset:r,translate:s});c=v.popupPosition,i=v.position}return{style:M({left:`${c.left}px`,top:`${c.top}px`},a),position:i}},St=(e,t,l,{customStyle:o={}})=>{if(["top","tl","tr","bottom","bl","br"].includes(e)){let s=Math.abs(t.scrollLeft+t.width/2-l.scrollLeft);return s>l.width-8&&(t.width>l.width?s=l.width/2:s=l.width-8),["top","tl","tr"].includes(e)?M({left:`${s}px`,bottom:"0",transform:"translate(-50%,50%) rotate(45deg)"},o):M({left:`${s}px`,top:"0",transform:"translate(-50%,-50%) rotate(45deg)"},o)}let r=Math.abs(t.scrollTop+t.height/2-l.scrollTop);return r>l.height-8&&(t.height>l.height?r=l.height/2:r=l.height-8),["left","lt","lb"].includes(e)?M({top:`${r}px`,right:"0",transform:"translate(50%,-50%) rotate(45deg)"},o):M({top:`${r}px`,left:"0",transform:"translate(-50%,-50%) rotate(45deg)"},o)},Ot=e=>e.scrollHeight>e.offsetHeight||e.scrollWidth>e.offsetWidth,fe=e=>{var t;const l=[];let o=e;for(;o&&o!==document.documentElement;)Ot(o)&&l.push(o),o=(t=o.parentElement)!=null?t:void 0;return l},_e=()=>{const e={},t=m(),l=()=>{const o=Ie(e.value);o!==t.value&&(t.value=o)};return F(()=>l()),G(()=>l()),{children:e,firstElement:t}};var he=k({name:"ResizeObserver",props:{watchOnUpdated:Boolean},emits:["resize"],setup(e,{emit:t,slots:l}){const{children:o,firstElement:r}=_e();let s;const a=i=>{!i||(s=new ye(c=>{const f=c[0];t("resize",f)}),s.observe(i))},d=()=>{s&&(s.disconnect(),s=null)};return z(r,i=>{s&&d(),i&&a(i)}),U(()=>{s&&d()}),()=>{var i;return o.value=(i=l.default)==null?void 0:i.call(l),o.value}}});function Ct(e,t){const l=m(e[t]);return G(()=>{const o=e[t];l.value!==o&&(l.value=o)}),l}const ve=Symbol("ArcoTrigger"),Pt=1e3,Et=5e3,me=1;class Bt{constructor(){this.popupStack={popup:new Set,dialog:new Set,message:new Set},this.getNextZIndex=t=>t==="message"?Et+this.popupStack.message.size*me:Pt+this.popupStack.popup.size*me,this.add=(t,l)=>(this.popupStack[l].add(t),l==="dialog"&&this.popupStack.popup.add(t),this.getNextZIndex(l)),this.delete=(t,l)=>{this.popupStack[l].delete(t),l==="dialog"&&this.popupStack.popup.delete(t)},this.isLastDialog=t=>{if(this.popupStack.dialog.size>1){const l=Array.from(this.popupStack.dialog);return t===l[l.length-1]}return!0}}}const X=new Bt;function Tt(e,{visible:t,runOnMounted:l}={}){var o,r;const s=(r=(o=Ye())==null?void 0:o.uid)!=null?r:Date.now(),a=m(0),d=()=>{a.value=X.add(s,e)},i=()=>{X.delete(s,e)},c=()=>e==="dialog"?X.isLastDialog(s):!1;return z(()=>t==null?void 0:t.value,f=>{f?d():i()},{immediate:!0}),l&&(F(()=>{d()}),U(()=>{i()})),{id:s,zIndex:a,open:d,close:i,isLastDialog:c}}const Mt=({elementRef:e,onResize:t})=>{let l;return{createResizeObserver:()=>{!e.value||(l=new ye(s=>{const a=s[0];Ne(t)&&t(a)}),l.observe(e.value))},destroyResizeObserver:()=>{l&&(l.disconnect(),l=null)}}};var xt=k({name:"ClientOnly",setup(e,{slots:t}){const l=m(!1);return F(()=>l.value=!0),()=>{var o;return l.value?(o=t.default)==null?void 0:o.call(t):null}}});const zt=({popupContainer:e,visible:t,defaultContainer:l="body",documentContainer:o})=>{const r=m(e.value),s=m(),a=()=>{const d=re(e.value),i=d?e.value:l,c=d!=null?d:o?document.documentElement:re(l);i!==r.value&&(r.value=i),c!==s.value&&(s.value=c)};return F(()=>a()),z(t,d=>{r.value!==e.value&&d&&a()}),{teleportContainer:r,containerRef:s}};var Ft=Object.defineProperty,kt=Object.defineProperties,$t=Object.getOwnPropertyDescriptors,be=Object.getOwnPropertySymbols,Lt=Object.prototype.hasOwnProperty,At=Object.prototype.propertyIsEnumerable,we=(e,t,l)=>t in e?Ft(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,jt=(e,t)=>{for(var l in t||(t={}))Lt.call(t,l)&&we(e,l,t[l]);if(be)for(var l of be(t))At.call(t,l)&&we(e,l,t[l]);return e},Dt=(e,t)=>kt(e,$t(t));const It=["onClick","onMouseenter","onMouseleave","onFocusin","onFocusout","onContextmenu"];var Z=k({name:"Trigger",inheritAttrs:!1,props:{popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},trigger:{type:[String,Array],default:"hover"},position:{type:String,default:"bottom"},disabled:{type:Boolean,default:!1},popupOffset:{type:Number,default:0},popupTranslate:{type:[Array,Object]},showArrow:{type:Boolean,default:!1},alignPoint:{type:Boolean,default:!1},popupHoverStay:{type:Boolean,default:!0},blurToClose:{type:Boolean,default:!0},clickToClose:{type:Boolean,default:!0},clickOutsideToClose:{type:Boolean,default:!0},unmountOnClose:{type:Boolean,default:!0},contentClass:{type:[String,Array,Object]},contentStyle:{type:Object},arrowClass:{type:[String,Array,Object]},arrowStyle:{type:Object},popupStyle:{type:Object},animationName:{type:String,default:"fade-in"},duration:{type:[Number,Object]},mouseEnterDelay:{type:Number,default:100},mouseLeaveDelay:{type:Number,default:100},focusDelay:{type:Number,default:0},autoFitPopupWidth:{type:Boolean,default:!1},autoFitPopupMinWidth:{type:Boolean,default:!1},autoFixPosition:{type:Boolean,default:!0},popupContainer:{type:[String,Object]},updateAtScroll:{type:Boolean,default:!1},autoFitTransformOrigin:{type:Boolean,default:!1},hideEmpty:{type:Boolean,default:!1},openedClass:{type:[String,Array,Object]},autoFitPosition:{type:Boolean,default:!0},renderToBody:{type:Boolean,default:!0},preventFocus:{type:Boolean,default:!1}},emits:{"update:popupVisible":e=>!0,popupVisibleChange:e=>!0,show:()=>!0,hide:()=>!0,resize:()=>!0},setup(e,{emit:t,slots:l,attrs:o}){const{popupContainer:r}=Je(e),s=pe("trigger"),a=S(()=>Ve(o,It)),d=se(We,void 0),i=S(()=>[].concat(e.trigger)),c=new Set,f=se(ve,void 0),{children:v,firstElement:B}=_e(),O=m(),K=m(e.defaultPopupVisible),$=m(e.position),Y=m({}),J=m({}),Q=m({}),Se=m(),p=m({top:0,left:0}),h=S(()=>{var n;return(n=e.popupVisible)!=null?n:K.value}),{teleportContainer:Oe,containerRef:D}=zt({popupContainer:r,visible:h,documentContainer:!0}),{zIndex:Ce}=Tt("popup",{visible:h});let T=0,_=!1;const Pe=()=>{T&&(window.clearTimeout(T),T=0)},I=n=>{if(e.alignPoint){const{pageX:u,pageY:b}=n;p.value={top:b,left:u}}},C=()=>{if(!B.value||!O.value||!D.value)return;const n=D.value.getBoundingClientRect(),u=e.alignPoint?{top:p.value.top,bottom:p.value.top,left:p.value.left,right:p.value.left,scrollTop:p.value.top,scrollBottom:p.value.top,scrollLeft:p.value.left,scrollRight:p.value.left,width:0,height:0}:ce(B.value,n),b=ce(O.value,n),{style:P,position:E}=_t(e.position,n,u,b,{offset:e.popupOffset,translate:e.popupTranslate,customStyle:e.popupStyle,autoFitPosition:e.autoFitPosition});e.autoFitTransformOrigin&&(J.value={transformOrigin:gt(E)}),e.autoFitPopupMinWidth?P.minWidth=`${u.width}px`:e.autoFitPopupWidth&&(P.width=`${u.width}px`),$.value!==E&&($.value=E),Y.value=P,e.showArrow&&(Q.value=St(E,u,b,{customStyle:e.arrowStyle}))},g=(n,u)=>{if(n===h.value&&T===0)return;const b=()=>{K.value=n,t("update:popupVisible",n),t("popupVisibleChange",n),n&&at(()=>{C()})};u?(Pe(),n!==h.value&&(T=window.setTimeout(b,u))):b()},Ee=n=>{var u;(u=o.onClick)==null||u.call(o,n),!(e.disabled||h.value&&!e.clickToClose)&&(i.value.includes("click")?(I(n),g(!h.value)):i.value.includes("contextMenu")&&h.value&&g(!1))},R=n=>{var u;(u=o.onMouseenter)==null||u.call(o,n),!(e.disabled||!i.value.includes("hover"))&&(I(n),g(!0,e.mouseEnterDelay))},ee=n=>{f==null||f.onMouseenter(n),R(n)},te=n=>{var u;(u=o.onMouseleave)==null||u.call(o,n),!(e.disabled||!i.value.includes("hover"))&&g(!1,e.mouseLeaveDelay)},le=n=>{f==null||f.onMouseleave(n),te(n)},Be=n=>{var u;(u=o.onFocusin)==null||u.call(o,n),!(e.disabled||!i.value.includes("focus"))&&g(!0,e.focusDelay)},Te=n=>{var u;(u=o.onFocusout)==null||u.call(o,n),!(e.disabled||!i.value.includes("focus"))&&(!e.blurToClose||g(!1))},Me=n=>{var u;(u=o.onContextmenu)==null||u.call(o,n),!(e.disabled||!i.value.includes("contextMenu")||h.value&&!e.clickToClose)&&(I(n),g(!h.value),n.preventDefault())};Qe(ve,Re({onMouseenter:ee,onMouseleave:le,addChildRef:n=>{c.add(n),f==null||f.addChildRef(n)},removeChildRef:n=>{c.delete(n),f==null||f.removeChildRef(n)}}));const N=()=>{Ze(document.documentElement,"mousedown",V),_=!1},oe=Ct(l,"content"),xe=S(()=>{var n;return e.hideEmpty&&He((n=oe.value)==null?void 0:n.call(oe))}),V=n=>{var u,b,P;if(!(((u=B.value)==null?void 0:u.contains(n.target))||((b=O.value)==null?void 0:b.contains(n.target)))){for(const E of c)if((P=E.value)!=null&&P.contains(n.target))return;N(),g(!1)}},L=ht(()=>{h.value&&C()}),W=()=>{h.value&&C()},ze=()=>{W(),t("resize")},Fe=n=>{e.preventFocus&&n.preventDefault()};f==null||f.addChildRef(O);const ke=S(()=>h.value?e.openedClass:void 0);let w;z(h,n=>{if(e.clickOutsideToClose&&(!n&&_?N():n&&!_&&(ae(document.documentElement,"mousedown",V),_=!0)),e.updateAtScroll||(d==null?void 0:d.updateAtScroll)){if(n){w=fe(B.value);for(const u of w)u.addEventListener("scroll",L)}else if(w){for(const u of w)u.removeEventListener("scroll",L);w=void 0}}n&&(H.value=!0)}),z(()=>[e.autoFitPopupWidth,e.autoFitPopupMinWidth],()=>{h.value&&C()});const{createResizeObserver:$e,destroyResizeObserver:Le}=Mt({elementRef:D,onResize:W});F(()=>{if($e(),h.value&&(C(),e.clickOutsideToClose&&!_&&(ae(document.documentElement,"mousedown",V),_=!0),e.updateAtScroll||(d==null?void 0:d.updateAtScroll))){w=fe(B.value);for(const n of w)n.addEventListener("scroll",L)}}),G(()=>{h.value&&C()}),U(()=>{if(f==null||f.removeChildRef(O),Le(),_&&N(),w){for(const n of w)n.removeEventListener("scroll",L);w=void 0}});const H=m(h.value),A=m(!1),ne=()=>{A.value=!0},Ae=()=>{A.value=!1,h.value&&t("show")},je=()=>{A.value=!1,h.value||(H.value=!1,t("hide"))};return()=>{var n,u;return v.value=(u=(n=l.default)==null?void 0:n.call(l))!=null?u:[],Xe(v.value,{class:ke.value,onClick:Ee,onMouseenter:R,onMouseleave:te,onFocusin:Be,onFocusout:Te,onContextmenu:Me}),y(rt,null,[e.autoFixPosition?y(he,{onResize:ze},{default:()=>[v.value]}):v.value,y(xt,null,{default:()=>[y(et,{to:Oe.value,disabled:!e.renderToBody},{default:()=>[(!e.unmountOnClose||h.value||H.value)&&!xe.value&&y(he,{onResize:W},{default:()=>[y("div",tt({ref:O,class:[`${s}-popup`,`${s}-position-${$.value}`],style:Dt(jt({},Y.value),{zIndex:Ce.value,pointerEvents:A.value?"none":"auto"}),"trigger-placement":$.value,onMouseenter:ee,onMouseleave:le,onMousedown:Fe},a.value),[y(lt,{name:e.animationName,duration:e.duration,appear:!0,onBeforeEnter:ne,onAfterEnter:Ae,onBeforeLeave:ne,onAfterLeave:je},{default:()=>{var b;return[ot(y("div",{class:`${s}-popup-wrapper`,style:J.value},[y("div",{class:[`${s}-content`,e.contentClass],style:e.contentStyle},[(b=l.content)==null?void 0:b.call(l)]),e.showArrow&&y("div",{ref:Se,class:[`${s}-arrow`,e.arrowClass],style:Q.value},null)]),[[nt,h.value]])]}})])]})]})]})])}}});const Kt=Object.assign(Z,{install:(e,t)=>{qe(e,t);const l=Ge(t);e.component(l+Z.name,Z)}}),Nt=k({name:"IconDown",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=pe("icon"),l=S(()=>[t,`${t}-down`,{[`${t}-spin`]:e.spin}]),o=S(()=>{if(e.size)return{fontSize:Ue(e.size)?`${e.size}px`:e.size}});return{cls:l,sizeStyle:o}}}),Vt=["stroke-width","stroke-linecap","stroke-linejoin"],Wt=ct("path",{d:"M39.6 17.443 24.043 33 8.487 17.443"},null,-1),Ht=[Wt];function Xt(e,t,l,o,r,s){return st(),it("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:ut(e.cls),style:dt(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},Ht,14,Vt)}var q=Ke(Nt,[["render",Xt]]);const Yt=Object.assign(q,{install:(e,t)=>{var l;const o=(l=t==null?void 0:t.iconPrefix)!=null?l:"";e.component(o+q.name,q)}});var Jt=k({name:"RenderFunction",props:{renderFunc:{type:Function,required:!0}},render(){return this.renderFunc(this.$attrs)}});export{xt as C,Yt as I,Jt as R,Kt as T,zt as a,Tt as b,ie as c,ft as r,ht as t,Ct as u};
