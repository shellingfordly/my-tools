import{g as oe,i as ce,_ as be,c as tt,s as Re,b as Ee,l as Ce,d as jl,m as ge,f as se,n as at,h as Rl,e as Be,p as El,t as nt,u as ot,q as dl,r as vl,T as fl}from"./index.c381f74d.js";import{u as rt,I as Te,a as ke,g as ut,K as He,E as Hl,b as Ne,c as Me,p as zl,d as ol,e as Al,F as Dl,f as it,h as st}from"./index.cc387772.js";import{d as te,c as f,o as G,a as ae,n as J,e as rl,f as Oe,s as ul,D as O,r as B,g as fe,h as Ve,b as ee,i as ie,O as Fl,P as Ml,t as le,x as Q,Q as he,p as Ll,j as ue,u as Nl,L as ct,M as dt,I as vt,w as we,y as ll,z as tl,q as Kl,m as ne,U as ft,V as pt,F as Gl,W as Ul,J as mt,v as gt,K as ht}from"./index.f7405401.js";import{S as bt,R as Wl}from"./index.5c85659f.js";import{I as yt,R as _t}from"./index.23eb16a0.js";const $t=te({name:"IconEmpty",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const l=oe("icon"),t=f(()=>[l,`${l}-empty`,{[`${l}-spin`]:e.spin}]),a=f(()=>{if(e.size)return{fontSize:ce(e.size)?`${e.size}px`:e.size}});return{cls:t,sizeStyle:a}}}),It=["stroke-width","stroke-linecap","stroke-linejoin"],St=Oe("path",{d:"M24 5v6m7 1 4-4m-18 4-4-4m28.5 22H28s-1 3-4 3-4-3-4-3H6.5M40 41H8a2 2 0 0 1-2-2v-8.46a2 2 0 0 1 .272-1.007l6.15-10.54A2 2 0 0 1 14.148 18H33.85a2 2 0 0 1 1.728.992l6.149 10.541A2 2 0 0 1 42 30.541V39a2 2 0 0 1-2 2Z"},null,-1),Ct=[St];function wt(e,l,t,a,o,n){return G(),ae("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:J(e.cls),style:rl(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},Ct,14,It)}var Ue=be($t,[["render",wt]]);const Ot=Object.assign(Ue,{install:(e,l)=>{var t;const a=(t=l==null?void 0:l.iconPrefix)!=null?t:"";e.component(a+Ue.name,Ue)}});var We=te({name:"Empty",props:{description:String,imgSrc:String},setup(e,{slots:l}){const t=oe("empty"),{t:a}=rt(),o=ul(tt,void 0);return()=>{var n,s,r,m;return o!=null&&o.slots.empty?o.slots.empty():O("div",{class:t},[O("div",{class:`${t}-image`},[(s=(n=l.image)==null?void 0:n.call(l))!=null?s:e.imgSrc?O("img",{src:e.imgSrc,alt:e.description||"empty"},null):O(Ot,null,null)]),O("div",{class:`${t}-description`},[(m=(r=l.default)==null?void 0:r.call(l))!=null?m:e.description||a("empty.description")])])}}});const Vt=Object.assign(We,{install:(e,l)=>{Re(e,l);const t=Ee(l);e.component(t+We.name,We)}}),kt=te({name:"SelectDropdown",components:{Empty:Vt,Spin:bt},props:{loading:Boolean,empty:Boolean,virtualList:Boolean,bottomOffset:{type:Number,default:0},onScroll:{type:[Function,Array]},onReachBottom:{type:[Function,Array]}},emits:["scroll","reachBottom"],setup(e,{emit:l,slots:t}){const a=oe("select-dropdown"),o=B(),n=r=>{const{scrollTop:m,scrollHeight:c,offsetHeight:v}=r.target;c-(m+v)<=e.bottomOffset&&l("reachBottom",r),l("scroll",r)},s=f(()=>[a,{[`${a}-has-footer`]:Boolean(t.footer)}]);return{prefixCls:a,cls:s,wrapperRef:o,handleScroll:n}}});function xt(e,l,t,a,o,n){const s=fe("spin"),r=fe("empty");return G(),ae("div",{class:J(e.cls)},[e.loading?(G(),Ve(s,{key:0,class:J(`${e.prefixCls}-loading`)},null,8,["class"])):e.empty?(G(),ae("div",{key:1,class:J(`${e.prefixCls}-empty`)},[ee(e.$slots,"empty",{},()=>[O(r)])],2)):ie("v-if",!0),e.virtualList&&!e.loading&&!e.empty?ee(e.$slots,"virtual-list",{key:2}):ie("v-if",!0),e.virtualList?ie("v-if",!0):Fl((G(),ae("div",{key:3,ref:"wrapperRef",class:J(`${e.prefixCls}-list-wrapper`),onScroll:l[0]||(l[0]=(...m)=>e.handleScroll&&e.handleScroll(...m))},[Oe("ul",{class:J(`${e.prefixCls}-list`)},[ee(e.$slots,"default")],2)],34)),[[Ml,!e.loading&&!e.empty]]),e.$slots.footer&&!e.empty?(G(),ae("div",{key:4,class:J(`${e.prefixCls}-footer`)},[ee(e.$slots,"footer")],2)):ie("v-if",!0)],2)}var Pt=be(kt,[["render",xt]]),pl=te({name:"IconCheck",render(){return O("svg",{"aria-hidden":"true",focusable:"false",viewBox:"0 0 1024 1024",width:"200",height:"200",fill:"currentColor"},[O("path",{d:"M877.44815445 206.10060629a64.72691371 64.72691371 0 0 0-95.14856334 4.01306852L380.73381888 685.46812814 235.22771741 533.48933518a64.72691371 64.72691371 0 0 0-92.43003222-1.03563036l-45.82665557 45.82665443a64.72691371 64.72691371 0 0 0-0.90617629 90.61767965l239.61903446 250.10479331a64.72691371 64.72691371 0 0 0 71.19960405 15.14609778 64.33855261 64.33855261 0 0 0 35.08198741-21.23042702l36.24707186-42.71976334 40.5190474-40.77795556-3.36579926-3.49525333 411.40426297-486.74638962a64.72691371 64.72691371 0 0 0-3.88361443-87.64024149l-45.3088404-45.43829334z","p-id":"840"},null)])}});const ql=Symbol("ArcoCheckboxGroup");var Ae=te({name:"Checkbox",components:{IconCheck:pl,IconHover:Te},props:{modelValue:{type:[Boolean,Array],default:void 0},defaultChecked:{type:Boolean,default:!1},value:{type:[String,Number]},disabled:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},uninjectGroupContext:{type:Boolean,default:!1}},emits:{"update:modelValue":e=>!0,change:(e,l)=>!0},setup(e,{emit:l,slots:t}){const{disabled:a}=le(e),o=oe("checkbox"),n=B(),s=e.uninjectGroupContext?void 0:ul(ql,void 0),r=(s==null?void 0:s.name)==="ArcoCheckboxGroup",{mergedDisabled:m,eventHandlers:c}=ke({disabled:a}),v=f(()=>(s==null?void 0:s.disabled)||(m==null?void 0:m.value)),_=B(e.defaultChecked),I=f(()=>{var d;return r?s==null?void 0:s.computedValue:(d=e.modelValue)!=null?d:_.value}),p=f(()=>{var d;return Ce(I.value)?I.value.includes((d=e.value)!=null?d:!0):I.value}),b=d=>{d.stopPropagation()},$=d=>{var h,S,i,y;const{checked:k}=d.target;let H=k;if(Ce(I.value)){const P=new Set(I.value);k?P.add((h=e.value)!=null?h:!0):P.delete((S=e.value)!=null?S:!0),H=Array.from(P)}_.value=k,r&&Ce(H)?s==null||s.handleChange(H,d):(l("update:modelValue",H),l("change",H,d),(y=(i=c.value)==null?void 0:i.onChange)==null||y.call(i,d)),he(()=>{n.value&&n.value.checked!==p.value&&(n.value.checked=p.value)})},R=f(()=>[o,{[`${o}-checked`]:p.value,[`${o}-indeterminate`]:e.indeterminate,[`${o}-disabled`]:v.value}]),E=d=>{var h,S;(S=(h=c.value)==null?void 0:h.onFocus)==null||S.call(h,d)},D=d=>{var h,S;(S=(h=c.value)==null?void 0:h.onBlur)==null||S.call(h,d)};return Q(I,d=>{var h;let S;Ce(d)?S=d.includes((h=e.value)!=null?h:!0):S=d,_.value!==S&&(_.value=S),n.value&&n.value.checked!==S&&(n.value.checked=S)}),()=>{var d,h,S,i,y;return O("label",{"aria-disabled":v.value,class:R.value},[O("input",{ref:n,type:"checkbox",checked:p.value,value:e.value,class:`${o}-target`,disabled:v.value,onClick:b,onChange:$,onFocus:E,onBlur:D},null),(y=(i=(d=t.checkbox)==null?void 0:d.call(t,{checked:p.value,disabled:v.value}))!=null?i:(S=s==null?void 0:(h=s.slots).checkbox)==null?void 0:S.call(h,{checked:p.value,disabled:v.value}))!=null?y:O(Te,{class:`${o}-icon-hover`,disabled:v.value||p.value},{default:()=>[O("div",{class:`${o}-icon`},[p.value&&O(pl,{class:`${o}-icon-check`},null)])]}),t.default&&O("span",{class:`${o}-label`},[t.default()])])}}}),qe=te({name:"CheckboxGroup",props:{modelValue:{type:Array,default:void 0},defaultValue:{type:Array,default:()=>[]},options:{type:Array},direction:{type:String,default:"horizontal"},disabled:{type:Boolean,default:!1}},emits:{"update:modelValue":e=>!0,change:(e,l)=>!0},setup(e,{emit:l,slots:t}){const{disabled:a}=le(e),o=oe("checkbox-group"),{mergedDisabled:n,eventHandlers:s}=ke({disabled:a}),r=B(e.defaultValue),m=f(()=>{var p;return(p=e.modelValue)!=null?p:r.value}),c=f(()=>{var p;return((p=e.options)!=null?p:[]).map(b=>jl(b)||ce(b)?{label:b,value:b}:b)});Ll(ql,ue({name:"ArcoCheckboxGroup",computedValue:m,disabled:n,slots:t,handleChange:(p,b)=>{var $,R;r.value=p,l("update:modelValue",p),l("change",p,b),(R=($=s.value)==null?void 0:$.onChange)==null||R.call($,b)}}));const _=f(()=>[o,`${o}-direction-${e.direction}`]);Q(()=>e.modelValue,p=>{p&&(r.value=[...p])});const I=()=>c.value.map((p,b)=>O(Ae,{key:p.value,value:p.value,disabled:p.disabled,indeterminate:p.indeterminate,modelValue:m.value.includes(p.value)},{default:()=>[t.label?t.label({data:p}):ge(p.label)?p.label():p.label]}));return()=>{var p;return O("span",{class:_.value},[c.value.length>0?I():(p=t.default)==null?void 0:p.call(t)])}}});const Bt=Object.assign(Ae,{Group:qe,install:(e,l)=>{Re(e,l);const t=Ee(l);e.component(t+Ae.name,Ae),e.component(t+qe.name,qe)}}),Yl=Symbol("ArcoSelectContext");var Tt=Object.defineProperty,jt=Object.defineProperties,Rt=Object.getOwnPropertyDescriptors,ml=Object.getOwnPropertySymbols,Et=Object.prototype.hasOwnProperty,Ht=Object.prototype.propertyIsEnumerable,gl=(e,l,t)=>l in e?Tt(e,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[l]=t,il=(e,l)=>{for(var t in l||(l={}))Et.call(l,t)&&gl(e,t,l[t]);if(ml)for(var t of ml(l))Ht.call(l,t)&&gl(e,t,l[t]);return e},Jl=(e,l)=>jt(e,Rt(l));const zt=e=>se(e)&&"isGroup"in e,Ql=e=>se(e)&&"isGroup"in e,At=(e,l="value")=>String(se(e)?e[l]:e),je=(e,l="value")=>se(e)?`__arco__option__object__${e[l]}`:e||ce(e)?`__arco__option__${typeof e}-${e}`:"",Dt=(e,{valueKey:l,fieldNames:t,origin:a,index:o=-1})=>{var n;if(se(e)){const r=e[t.value];return{raw:e,index:o,key:je(r,l),origin:a,value:r,label:(n=e[t.label])!=null?n:At(r,l),render:e[t.render],disabled:Boolean(e[t.disabled]),tagProps:e[t.tagProps]}}const s={value:e,label:String(e),disabled:!1};return il({raw:s,index:o,key:je(e,l),origin:a},s)},al=(e,{valueKey:l,fieldNames:t,origin:a,optionInfoMap:o})=>{var n;const s=[];for(const r of e)if(zt(r)){const m=al((n=r.options)!=null?n:[],{valueKey:l,fieldNames:t,origin:a,optionInfoMap:o});m.length>0&&s.push(Jl(il({},r),{key:`__arco__group__${r.label}`,options:m}))}else{const m=Dt(r,{valueKey:l,fieldNames:t,origin:a});s.push(m),o.get(m.key)||o.set(m.key,m)}return s},hl=(e,{inputValue:l,filterOption:t})=>{const a=o=>{var n;const s=[];for(const r of o)if(Ql(r)){const m=a((n=r.options)!=null?n:[]);m.length>0&&s.push(Jl(il({},r),{options:m}))}else Ke(r,{inputValue:l,filterOption:t})&&s.push(r);return s};return a(e)},Ke=(e,{inputValue:l,filterOption:t})=>ge(t)?!l||t(l,e.raw):t?e.label.toLowerCase().includes((l!=null?l:"").toLowerCase()):!0,Ft=(e,l)=>{if(!e||!l||e.length!==l.length)return!1;for(const t of Object.keys(e))if(!sl(e[t],l[t]))return!1;return!0},Mt=(e,l)=>{if(!e||!l)return!1;const{length:t}=e;if(t!==l.length)return!1;for(let a=0;a<t;a++)if(!sl(e[a],l[a]))return!1;return!0},sl=(e,l)=>{const t=Object.prototype.toString.call(e);return t!==Object.prototype.toString.call(l)?!1:t==="[object Object]"?Ft(e,l):t==="[object Array]"?Mt(e,l):t==="[object Function]"?e===l?!0:e.toString()===l.toString():e===l},Lt=te({name:"Option",components:{Checkbox:Bt},props:{value:[String,Number,Object],label:String,disabled:Boolean,tagProps:{type:Object},extra:{type:Object},index:{type:Number},internal:Boolean},setup(e){const{disabled:l,tagProps:t,index:a}=le(e),o=oe("select-option"),n=ul(Yl,void 0),s=vt(),r=B(),m=B(t.value);Q(t,(i,y)=>{sl(i,y)||(m.value=i)});const c=B(""),v=f(()=>{var i,y;return(y=(i=e.value)!=null?i:e.label)!=null?y:c.value}),_=f(()=>{var i;return(i=e.label)!=null?i:c.value}),I=f(()=>je(v.value,n==null?void 0:n.valueKey)),p=f(()=>{var i;return(i=n==null?void 0:n.component)!=null?i:"li"}),b=()=>{var i;if(!e.label&&r.value){const y=(i=r.value.textContent)!=null?i:"";c.value!==y&&(c.value=y)}};Nl(()=>b()),ct(()=>b());const $=f(()=>{var i;return(i=n==null?void 0:n.valueKeys.includes(I.value))!=null?i:!1}),R=f(()=>(n==null?void 0:n.activeKey)===I.value);let E=B(!0);if(!e.internal){const i=ue({raw:{value:v,label:_,disabled:l,tagProps:m},ref:r,index:a,key:I,origin:"slot",value:v,label:_,disabled:l,tagProps:m});E=f(()=>Ke(i,{inputValue:n==null?void 0:n.inputValue,filterOption:n==null?void 0:n.filterOption})),s&&(n==null||n.addSlotOptionInfo(s.uid,i)),dt(()=>{s&&(n==null||n.removeSlotOptionInfo(s.uid))})}const D=i=>{e.disabled||n==null||n.onSelect(I.value,i)},d=()=>{e.disabled||n==null||n.setActiveKey(I.value)},h=()=>{e.disabled||n==null||n.setActiveKey()},S=f(()=>[o,{[`${o}-disabled`]:e.disabled,[`${o}-active`]:R.value,[`${o}-multiple`]:n==null?void 0:n.multiple}]);return{prefixCls:o,cls:S,selectCtx:n,itemRef:r,component:p,isSelected:$,isValid:E,handleClick:D,handleMouseEnter:d,handleMouseLeave:h}}});function Nt(e,l,t,a,o,n){const s=fe("checkbox");return Fl((G(),Ve(Kl(e.component),{ref:"itemRef",class:J([e.cls,{[`${e.prefixCls}-has-suffix`]:Boolean(e.$slots.suffix)}]),onClick:e.handleClick,onMouseenter:e.handleMouseEnter,onMouseleave:e.handleMouseLeave},{default:we(()=>[e.$slots.icon?(G(),ae("span",{key:0,class:J(`${e.prefixCls}-icon`)},[ee(e.$slots,"icon")],2)):ie("v-if",!0),e.selectCtx&&e.selectCtx.multiple?(G(),Ve(s,{key:1,class:J(`${e.prefixCls}-checkbox`),"model-value":e.isSelected,disabled:e.disabled,"uninject-group-context":""},{default:we(()=>[ee(e.$slots,"default",{},()=>[ll(tl(e.label),1)])]),_:3},8,["class","model-value","disabled"])):(G(),ae("span",{key:2,class:J(`${e.prefixCls}-content`)},[ee(e.$slots,"default",{},()=>[ll(tl(e.label),1)])],2)),e.$slots.suffix?(G(),ae("span",{key:3,class:J(`${e.prefixCls}-suffix`)},[ee(e.$slots,"suffix")],2)):ie("v-if",!0)]),_:3},8,["class","onClick","onMouseenter","onMouseleave"])),[[Ml,e.isValid]])}var De=be(Lt,[["render",Nt]]),Kt=Object.defineProperty,Gt=Object.defineProperties,Ut=Object.getOwnPropertyDescriptors,bl=Object.getOwnPropertySymbols,Wt=Object.prototype.hasOwnProperty,qt=Object.prototype.propertyIsEnumerable,yl=(e,l,t)=>l in e?Kt(e,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[l]=t,Ye=(e,l)=>{for(var t in l||(l={}))Wt.call(l,t)&&yl(e,t,l[t]);if(bl)for(var t of bl(l))qt.call(l,t)&&yl(e,t,l[t]);return e},Yt=(e,l)=>Gt(e,Ut(l));const Jt={value:"value",label:"label",disabled:"disabled",tagProps:"tagProps",render:"render"},Qt=({options:e,extraOptions:l,inputValue:t,filterOption:a,showExtraOptions:o,valueKey:n,fieldNames:s})=>{const r=f(()=>Ye(Ye({},Jt),s==null?void 0:s.value)),m=ue(new Map),c=B([]);Q(m,d=>{c.value=Array.from(d.values()).sort((h,S)=>ce(h.index)&&ce(S.index)?h.index-S.index:0)},{deep:!0});const v=f(()=>{var d,h;const S=new Map;return{optionInfos:al((d=e==null?void 0:e.value)!=null?d:[],{valueKey:(h=n==null?void 0:n.value)!=null?h:"value",fieldNames:r.value,origin:"options",optionInfoMap:S}),optionInfoMap:S}}),_=f(()=>{var d,h;const S=new Map;return{optionInfos:al((d=l==null?void 0:l.value)!=null?d:[],{valueKey:(h=n==null?void 0:n.value)!=null?h:"value",fieldNames:r.value,origin:"extraOptions",optionInfoMap:S}),optionInfoMap:S}}),I=ue(new Map);Q([m,e!=null?e:B([]),l!=null?l:B([]),n!=null?n:B("value")],()=>{I.clear(),c.value.forEach((d,h)=>{I.set(d.key,Yt(Ye({},d),{index:h}))}),v.value.optionInfoMap.forEach(d=>{I.has(d.key)||(d.index=I.size,I.set(d.key,d))}),_.value.optionInfoMap.forEach(d=>{I.has(d.key)||(d.index=I.size,I.set(d.key,d))})},{immediate:!0,deep:!0});const p=f(()=>{var d;const h=hl(v.value.optionInfos,{inputValue:t==null?void 0:t.value,filterOption:a==null?void 0:a.value});return((d=o==null?void 0:o.value)==null||d)&&h.push(...hl(_.value.optionInfos,{inputValue:t==null?void 0:t.value,filterOption:a==null?void 0:a.value})),h}),b=f(()=>Array.from(I.values()).filter(d=>d.origin==="extraOptions"&&(o==null?void 0:o.value)===!1?!1:Ke(d,{inputValue:t==null?void 0:t.value,filterOption:a==null?void 0:a.value}))),$=f(()=>b.value.filter(d=>!d.disabled).map(d=>d.key));return{validOptions:p,optionInfoMap:I,validOptionInfos:b,enabledOptionKeys:$,getNextSlotOptionIndex:()=>m.size,addSlotOptionInfo:(d,h)=>{m.set(d,h)},removeSlotOptionInfo:d=>{m.delete(d)}}},Xt=({multiple:e,options:l,extraOptions:t,inputValue:a,filterOption:o,showExtraOptions:n,component:s,valueKey:r,fieldNames:m,loading:c,popupVisible:v,valueKeys:_,dropdownRef:I,optionRefs:p,virtualListRef:b,onSelect:$,onPopupVisibleChange:R})=>{const{validOptions:E,optionInfoMap:D,validOptionInfos:d,enabledOptionKeys:h,getNextSlotOptionIndex:S,addSlotOptionInfo:i,removeSlotOptionInfo:y}=Qt({options:l,extraOptions:t,inputValue:a,filterOption:o,showExtraOptions:n,valueKey:r,fieldNames:m}),k=B();Q(h,V=>{(!k.value||!V.includes(k.value))&&(k.value=V[0])});const H=V=>{k.value=V},P=V=>{const C=h.value.length;if(C===0)return;if(!k.value)return V==="down"?h.value[0]:h.value[C-1];const U=h.value.indexOf(k.value),W=(C+U+(V==="up"?-1:1))%C;return h.value[W]},T=V=>{var C,U,W;b!=null&&b.value&&b.value.scrollTo({key:V});const q=D.get(V),z=(U=(C=I==null?void 0:I.value)==null?void 0:C.$refs)==null?void 0:U.wrapperRef,X=(W=p==null?void 0:p.value[V])!=null?W:q==null?void 0:q.ref;if(!z||!X||z.scrollHeight===z.offsetHeight)return;const Z=at(X,z),Y=z.scrollTop;Z.top<0?z.scrollTo(0,Y+Z.top):Z.bottom<0&&z.scrollTo(0,Y-Z.bottom)};Q(v,V=>{if(V){const C=_.value[_.value.length-1],U=h.value.includes(C)?C:h.value[0];U!==k.value&&(k.value=U),he(()=>{k.value&&T(k.value)})}});const M=ut(new Map([[He.ENTER,V=>{c!=null&&c.value||(v.value?k.value&&$(k.value,V):R(!0)),V.preventDefault()}],[He.ESC,V=>{R(!1),V.preventDefault()}],[He.ARROW_DOWN,V=>{const C=P("down");C&&(k.value=C,T(C)),V.preventDefault()}],[He.ARROW_UP,V=>{const C=P("up");C&&(k.value=C,T(C)),V.preventDefault()}]]));return Ll(Yl,ue({multiple:e,valueKey:r,inputValue:a,filterOption:o,component:s,valueKeys:_,activeKey:k,setActiveKey:H,onSelect:$,getNextSlotOptionIndex:S,addSlotOptionInfo:i,removeSlotOptionInfo:y})),{validOptions:E,optionInfoMap:D,validOptionInfos:d,enabledOptionKeys:h,activeKey:k,setActiveKey:H,addSlotOptionInfo:i,removeSlotOptionInfo:y,getNextActiveKey:P,scrollIntoView:T,handleKeyDown:M}},Zt=({defaultValue:e,modelValue:l,emit:t,eventName:a="input",updateEventName:o="update:modelValue",eventHandlers:n})=>{var s;const r=B(),m=B((s=e==null?void 0:e.value)!=null?s:""),c=B(!1),v=B(!1),_=B("");let I;const p=f(()=>{var i;return(i=l==null?void 0:l.value)!=null?i:m.value}),b=(i,y)=>{m.value=i,t(o,i),t(a,i,y)},$=i=>{const{value:y}=i.target;v.value||(b(y,i),he(()=>{r.value&&p.value!==r.value.value&&(r.value.value=p.value)}))},R=i=>{a==="input"&&p.value!==I&&(I=p.value,t("change",p.value,i))},E=i=>{var y;const{value:k}=i.target;i.type==="compositionend"?(v.value=!1,_.value="",b(k,i),he(()=>{r.value&&p.value!==r.value.value&&(r.value.value=p.value)})):(v.value=!0,_.value=p.value+((y=i.data)!=null?y:""))},D=i=>{var y,k;c.value=!0,I=p.value,t("focus",i),(k=(y=n==null?void 0:n.value)==null?void 0:y.onFocus)==null||k.call(y,i)},d=i=>{var y,k;c.value=!1,t("blur",i),(k=(y=n==null?void 0:n.value)==null?void 0:y.onBlur)==null||k.call(y,i),R(i)},h=i=>{const y=i.key||i.code;!v.value&&y===Hl.key&&(t("pressEnter",i),R(i))},S=i=>{r.value&&i.target!==r.value&&(i.preventDefault(),r.value.focus())};return Q(p,i=>{r.value&&i!==r.value.value&&(r.value.value=i)}),{inputRef:r,_value:m,_focused:c,isComposition:v,compositionValue:_,computedValue:p,handleInput:$,handleComposition:E,handleFocus:D,handleBlur:d,handleKeyDown:h,handleMousedown:S}};var ea=te({name:"InputLabel",inheritAttrs:!1,props:{modelValue:Object,inputValue:{type:String,default:""},enabledInput:Boolean,formatLabel:Function,placeholder:String,retainInputValue:Boolean,disabled:Boolean,baseCls:String,size:String,error:Boolean,focused:Boolean,uninjectFormItemContext:Boolean},emits:["update:inputValue","inputValueChange","focus","blur"],setup(e,{attrs:l,emit:t,slots:a}){var o;const{size:n,disabled:s,error:r,inputValue:m,uninjectFormItemContext:c}=le(e),v=(o=e.baseCls)!=null?o:oe("input-label"),{mergedSize:_,mergedDisabled:I,mergedError:p,eventHandlers:b}=ke({size:n,disabled:s,error:r,uninject:c==null?void 0:c.value}),{mergedSize:$}=Ne(_),{inputRef:R,_focused:E,computedValue:D,handleInput:d,handleComposition:h,handleFocus:S,handleBlur:i,handleMousedown:y}=Zt({modelValue:m,emit:t,eventName:"inputValueChange",updateEventName:"update:inputValue",eventHandlers:b}),k=f(()=>{var W;return(W=e.focused)!=null?W:E.value}),H=f(()=>e.enabledInput&&E.value||!e.modelValue),P=f(()=>e.enabledInput&&e.modelValue?e.modelValue.label:e.placeholder),T=()=>{var W,q,z,X,Z;return e.modelValue?(Z=(z=(W=a.default)==null?void 0:W.call(a,{data:e.modelValue}))!=null?z:(q=e.formatLabel)==null?void 0:q.call(e,e.modelValue))!=null?Z:(X=e.modelValue)==null?void 0:X.label:null},M=f(()=>[v,`${v}-size-${$.value}`,{[`${v}-search`]:e.enabledInput,[`${v}-focus`]:k.value,[`${v}-disabled`]:I.value,[`${v}-error`]:p.value}]),V=f(()=>Rl(l,Me)),C=f(()=>zl(l,Me));return{inputRef:R,render:()=>O("span",ne(V.value,{class:M.value,onMousedown:y}),[a.prefix&&O("span",{class:`${v}-prefix`},[a.prefix()]),O("input",ne(C.value,{ref:R,class:[`${v}-input`,{[`${v}-input-hidden`]:!H.value}],value:D.value,readonly:!e.enabledInput,placeholder:P.value,disabled:I.value,onInput:d,onFocus:S,onBlur:i,onCompositionstart:h,onCompositionupdate:h,onCompositionend:h}),null),O("span",{class:[`${v}-value`,{[`${v}-value-hidden`]:H.value}]},[T()]),a.suffix&&O("span",{class:`${v}-suffix`},[a.suffix()])])}},methods:{focus(){var e;(e=this.inputRef)==null||e.focus()},blur(){var e;(e=this.inputRef)==null||e.blur()}},render(){return this.render()}}),la=Object.defineProperty,_l=Object.getOwnPropertySymbols,ta=Object.prototype.hasOwnProperty,aa=Object.prototype.propertyIsEnumerable,$l=(e,l,t)=>l in e?la(e,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[l]=t,na=(e,l)=>{for(var t in l||(l={}))ta.call(l,t)&&$l(e,t,l[t]);if(_l)for(var t of _l(l))aa.call(l,t)&&$l(e,t,l[t]);return e};const oa=(e,l)=>{const t=[];for(const a of e)if(se(a))t.push({raw:a,value:a[l.value],label:a[l.label],closable:a[l.closable],tagProps:a[l.tagProps]});else if(e||ce(e)){const o={value:a,label:String(a),closable:!0};t.push(na({raw:o},o))}return t},Il=["red","orangered","orange","gold","lime","green","cyan","blue","arcoblue","purple","pinkpurple","magenta","gray"],ra=te({name:"Tag",components:{IconHover:Te,IconClose:ol,IconLoading:Al},props:{color:{type:String},size:{type:String},bordered:{type:Boolean,default:!1},visible:{type:Boolean,default:void 0},defaultVisible:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},closable:{type:Boolean,default:!1},checkable:{type:Boolean,default:!1},checked:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,default:!0}},emits:{"update:visible":e=>!0,"update:checked":e=>!0,close:e=>!0,check:(e,l)=>!0},setup(e,{emit:l}){const{size:t}=le(e),a=oe("tag"),o=f(()=>e.color&&Il.includes(e.color)),n=f(()=>e.color&&!Il.includes(e.color)),s=B(e.defaultVisible),r=B(e.defaultChecked),m=f(()=>{var R;return(R=e.visible)!=null?R:s.value}),c=f(()=>{var R;return e.checkable?(R=e.checked)!=null?R:r.value:!0}),{mergedSize:v}=Ne(t),_=f(()=>v.value==="mini"?"small":v.value),I=R=>{s.value=!1,l("update:visible",!1),l("close",R)},p=R=>{if(e.checkable){const E=!c.value;r.value=E,l("update:checked",E),l("check",E,R)}},b=f(()=>[a,`${a}-size-${_.value}`,{[`${a}-loading`]:e.loading,[`${a}-hide`]:!m.value,[`${a}-${e.color}`]:o.value,[`${a}-bordered`]:e.bordered,[`${a}-checkable`]:e.checkable,[`${a}-checked`]:c.value,[`${a}-custom-color`]:n.value}]),$=f(()=>{if(n.value)return{backgroundColor:e.color}});return{prefixCls:a,cls:b,style:$,computedVisible:m,computedChecked:c,handleClick:p,handleClose:I}}});function ua(e,l,t,a,o,n){const s=fe("icon-close"),r=fe("icon-hover"),m=fe("icon-loading");return e.computedVisible?(G(),ae("span",{key:0,class:J(e.cls),style:rl(e.style),onClick:l[0]||(l[0]=(...c)=>e.handleClick&&e.handleClick(...c))},[e.$slots.icon?(G(),ae("span",{key:0,class:J(`${e.prefixCls}-icon`)},[ee(e.$slots,"icon")],2)):ie("v-if",!0),ee(e.$slots,"default"),e.closable?(G(),Ve(r,{key:1,role:"button","aria-label":"Close",prefix:e.prefixCls,class:J(`${e.prefixCls}-close-btn`),onClick:ft(e.handleClose,["stop"])},{default:we(()=>[ee(e.$slots,"close-icon",{},()=>[O(s)])]),_:3},8,["prefix","class","onClick"])):ie("v-if",!0),e.loading?(G(),ae("span",{key:2,class:J(`${e.prefixCls}-loading-icon`)},[O(m)],2)):ie("v-if",!0)],6)):ie("v-if",!0)}var Je=be(ra,[["render",ua]]);const ia=Object.assign(Je,{install:(e,l)=>{Re(e,l);const t=Ee(l);e.component(t+Je.name,Je)}});var sa=Object.defineProperty,Sl=Object.getOwnPropertySymbols,ca=Object.prototype.hasOwnProperty,da=Object.prototype.propertyIsEnumerable,Cl=(e,l,t)=>l in e?sa(e,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[l]=t,ze=(e,l)=>{for(var t in l||(l={}))ca.call(l,t)&&Cl(e,t,l[t]);if(Sl)for(var t of Sl(l))da.call(l,t)&&Cl(e,t,l[t]);return e};const va={value:"value",label:"label",closable:"closable",tagProps:"tagProps"};var Qe=te({name:"InputTag",inheritAttrs:!1,props:{modelValue:{type:Array},defaultValue:{type:Array,default:()=>[]},inputValue:String,defaultInputValue:{type:String,default:""},placeholder:String,disabled:{type:Boolean,default:!1},error:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},allowClear:{type:Boolean,default:!1},size:{type:String},maxTagCount:{type:Number,default:0},retainInputValue:{type:[Boolean,Object],default:!1},formatTag:{type:Function},uniqueValue:{type:Boolean,default:!1},fieldNames:{type:Object},baseCls:String,focused:Boolean,disabledInput:Boolean,uninjectFormItemContext:Boolean},emits:{"update:modelValue":e=>!0,"update:inputValue":e=>!0,change:(e,l)=>!0,inputValueChange:(e,l)=>!0,pressEnter:(e,l)=>!0,remove:(e,l)=>!0,clear:e=>!0,focus:e=>!0,blur:e=>!0},setup(e,{emit:l,slots:t,attrs:a}){const{size:o,disabled:n,error:s,uninjectFormItemContext:r,modelValue:m}=le(e),c=e.baseCls||oe("input-tag"),v=B(),_=B(),{mergedSize:I,mergedDisabled:p,mergedError:b,feedback:$,eventHandlers:R}=ke({size:o,disabled:n,error:s,uninject:r==null?void 0:r.value}),{mergedSize:E}=Ne(I),D=f(()=>ze(ze({},va),e.fieldNames)),d=B(!1),h=B(e.defaultValue),S=B(e.defaultInputValue),i=B(!1),y=B(""),k=f(()=>se(e.retainInputValue)?ze({create:!1,blur:!1},e.retainInputValue):{create:e.retainInputValue,blur:e.retainInputValue}),H=ue({width:"12px"}),P=f(()=>e.focused||d.value),T=(g,j)=>{S.value=g,l("update:inputValue",g),l("inputValueChange",g,j)},M=g=>{var j;const{value:N}=g.target;g.type==="compositionend"?(i.value=!1,y.value="",T(N,g),he(()=>{v.value&&C.value!==v.value.value&&(v.value.value=C.value)})):(i.value=!0,y.value=C.value+((j=g.data)!=null?j:""))},V=f(()=>{var g;return(g=e.modelValue)!=null?g:h.value}),C=f(()=>{var g;return(g=e.inputValue)!=null?g:S.value});Q(m,g=>{(Be(g)||El(g))&&(h.value=[])});const U=g=>{v.value&&g.target!==v.value&&(g.preventDefault(),v.value.focus())},W=g=>{const{value:j}=g.target;i.value||(T(j,g),he(()=>{v.value&&C.value!==v.value.value&&(v.value.value=C.value)}))},q=f(()=>oa(V.value,D.value)),z=f(()=>{if(e.maxTagCount>0){const g=q.value.length-e.maxTagCount;if(g>0){const j=q.value.slice(0,e.maxTagCount),N={value:"__arco__more",label:`+${g}...`,closable:!1};return j.push(ze({raw:N},N)),j}}return q.value}),X=(g,j)=>{var N,re;h.value=g,l("update:modelValue",g),l("change",g,j),(re=(N=R.value)==null?void 0:N.onChange)==null||re.call(N,j)},Z=(g,j,N)=>{var re;const Se=(re=V.value)==null?void 0:re.filter((Pe,me)=>me!==j);X(Se,N),l("remove",g,N)},Y=g=>{X([],g),l("clear",g)},$e=f(()=>!p.value&&!e.readonly&&e.allowClear&&Boolean(V.value.length)),de=g=>{var j;if(C.value){if(g.preventDefault(),e.uniqueValue&&((j=V.value)==null?void 0:j.includes(C.value))){l("pressEnter",C.value,g);return}const N=V.value.concat(C.value);X(N,g),l("pressEnter",C.value,g),k.value.create||T("",g)}},ve=g=>{var j,N;d.value=!0,l("focus",g),(N=(j=R.value)==null?void 0:j.onFocus)==null||N.call(j,g)},xe=g=>{var j,N;d.value=!1,!k.value.blur&&C.value&&T("",g),l("blur",g),(N=(j=R.value)==null?void 0:j.onBlur)==null||N.call(j,g)},L=g=>{const j=g.key||g.code;if(!i.value&&C.value&&j===Hl.key&&de(g),!i.value&&z.value.length>0&&!C.value&&j===it.key){const N=q.value.length-1;Z(q.value[N].value,N,g)}},F=g=>{g>12?H.width=`${g}px`:H.width="12px"};Nl(()=>{_.value&&F(_.value.offsetWidth)});const K=()=>{_.value&&F(_.value.offsetWidth)};Q(C,g=>{v.value&&!i.value&&g!==v.value.value&&(v.value.value=g)});const pe=f(()=>[c,`${c}-size-${E.value}`,{[`${c}-disabled`]:p.value,[`${c}-disabled-input`]:e.disabledInput,[`${c}-error`]:b.value,[`${c}-focus`]:P.value,[`${c}-readonly`]:e.readonly,[`${c}-has-tag`]:z.value.length>0,[`${c}-has-prefix`]:Boolean(t.prefix),[`${c}-has-suffix`]:Boolean(t.suffix)||$e.value||$.value,[`${c}-has-placeholder`]:!V.value.length}]),Ie=f(()=>Rl(a,Me)),ye=f(()=>zl(a,Me));return{inputRef:v,render:()=>{var g;return O("span",ne({class:pe.value,onMousedown:U},Ie.value),[O(Wl,{onResize:K},{default:()=>[O("span",{ref:_,class:`${c}-mirror`},[z.value.length>0?y.value||C.value:y.value||C.value||e.placeholder])]}),t.prefix&&O("span",{class:`${c}-prefix`},[t.prefix()]),O(pt,{tag:"span",name:"input-tag-zoom",class:`${c}-inner`},{default:()=>[z.value.map((j,N)=>O(ia,ne({key:`tag-${j.value}`,class:`${c}-tag`,closable:!p.value&&!e.readonly&&j.closable,visible:!0},j.tagProps,{onClose:re=>Z(j.value,N,re)}),{default:()=>{var re,Se,Pe,me;return[(me=(Pe=(re=t.tag)==null?void 0:re.call(t,{data:j.raw}))!=null?Pe:(Se=e.formatTag)==null?void 0:Se.call(e,j.raw))!=null?me:j.label]}})),O("input",ne(ye.value,{ref:v,key:"input-tag-input",class:`${c}-input`,style:H,placeholder:z.value.length===0?e.placeholder:void 0,disabled:p.value,readonly:e.readonly||e.disabledInput,onInput:W,onKeydown:L,onFocus:ve,onBlur:xe,onCompositionstart:M,onCompositionupdate:M,onCompositionend:M}),null)]}),$e.value&&O(Te,{class:`${c}-clear-btn`,onClick:Y,onMousedown:j=>j.stopPropagation()},{default:()=>[O(ol,null,null)]}),(t.suffix||Boolean($.value))&&O("span",{class:`${c}-suffix`},[(g=t.suffix)==null?void 0:g.call(t),Boolean($.value)&&O(Dl,{type:$.value},null)])])}}},methods:{focus(){var e;(e=this.inputRef)==null||e.focus()},blur(){var e;(e=this.inputRef)==null||e.blur()}},render(){return this.render()}});const fa=Object.assign(Qe,{install:(e,l)=>{Re(e,l);const t=Ee(l);e.component(t+Qe.name,Qe)}}),pa=te({name:"IconExpand",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const l=oe("icon"),t=f(()=>[l,`${l}-expand`,{[`${l}-spin`]:e.spin}]),a=f(()=>{if(e.size)return{fontSize:ce(e.size)?`${e.size}px`:e.size}});return{cls:t,sizeStyle:a}}}),ma=["stroke-width","stroke-linecap","stroke-linejoin"],ga=Oe("path",{d:"M7 26v14c0 .552.444 1 .996 1H22m19-19V8c0-.552-.444-1-.996-1H26"},null,-1),ha=[ga];function ba(e,l,t,a,o,n){return G(),ae("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:J(e.cls),style:rl(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},ha,14,ma)}var Xe=be(pa,[["render",ba]]);const ya=Object.assign(Xe,{install:(e,l)=>{var t;const a=(t=l==null?void 0:l.iconPrefix)!=null?t:"";e.component(a+Xe.name,Xe)}});var wl=te({name:"SelectView",props:{modelValue:{type:Array,required:!0},inputValue:String,placeholder:String,disabled:{type:Boolean,default:!1},error:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},opened:{type:Boolean,default:!1},size:{type:String},bordered:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},allowClear:{type:Boolean,default:!1},allowCreate:{type:Boolean,default:!1},allowSearch:{type:Boolean,default:e=>Ce(e.modelValue)},maxTagCount:{type:Number,default:0},retainInputValue:{type:Boolean,default:!1}},emits:["remove","clear","focus","blur"],setup(e,{emit:l,slots:t}){const{size:a,disabled:o,error:n}=le(e),s=oe("select-view"),{feedback:r,eventHandlers:m,mergedDisabled:c,mergedSize:v,mergedError:_}=ke({size:a,disabled:o,error:n}),{mergedSize:I}=Ne(v),{opened:p}=le(e),b=B(),$=f(()=>{var T;return(T=b.value)==null?void 0:T.inputRef}),R=f(()=>e.modelValue.length===0),E=f(()=>e.allowSearch||e.allowCreate),D=f(()=>e.allowClear&&!e.disabled&&!R.value),d=T=>{var M,V;l("focus",T),(V=(M=m.value)==null?void 0:M.onFocus)==null||V.call(M,T)},h=T=>{var M,V;l("blur",T),(V=(M=m.value)==null?void 0:M.onBlur)==null||V.call(M,T)},S=T=>{l("remove",T)},i=T=>{l("clear",T)},y=()=>{var T,M,V,C;return e.loading?(M=(T=t["loading-icon"])==null?void 0:T.call(t))!=null?M:O(Al,null,null):e.allowSearch&&e.opened?(C=(V=t["search-icon"])==null?void 0:V.call(t))!=null?C:O(st,null,null):t["arrow-icon"]?t["arrow-icon"]():e.multiple||E.value?O(ya,{style:{transform:"rotate(-45deg)"}},null):O(yt,{class:`${s}-arrow-icon`},null)},k=()=>O(Gl,null,[D.value&&O(Te,{class:`${s}-clear-btn`,onClick:i,onMousedown:T=>T.stopPropagation()},{default:()=>[O(ol,null,null)]}),O("span",{class:`${s}-icon`},[y()]),Boolean(r.value)&&O(Dl,{type:r.value},null)]);Q(p,T=>{!T&&$.value&&$.value.isSameNode(document.activeElement)&&$.value.blur()});const H=f(()=>[`${s}-${e.multiple?"multiple":"single"}`,{[`${s}-opened`]:e.opened,[`${s}-borderless`]:!e.bordered}]);return{inputRef:$,handleFocus:d,handleBlur:h,render:()=>e.multiple?O(fa,{ref:b,baseCls:s,class:H.value,modelValue:e.modelValue,inputValue:e.inputValue,focused:e.opened,placeholder:e.placeholder,disabled:c.value,size:I.value,error:_.value,maxTagCount:e.maxTagCount,disabledInput:!e.allowSearch&&!e.allowCreate,retainInputValue:!0,uninjectFormItemContext:!0,onRemove:S,onFocus:d,onBlur:h},{prefix:t.prefix,suffix:k,tag:t.label}):O(ea,{ref:b,baseCls:s,class:H.value,modelValue:e.modelValue[0],inputValue:e.inputValue,focused:e.opened,placeholder:e.placeholder,disabled:c.value,size:I.value,error:_.value,enabledInput:E.value,uninjectFormItemContext:!0,onFocus:d,onBlur:h},{default:t.label,prefix:t.prefix,suffix:k})}},methods:{focus(){this.inputRef&&this.inputRef.focus()},blur(){this.inputRef&&this.inputRef.blur()}},render(){return this.render()}});const Ol=typeof window=="undefined"?global:window;function _a(e,l){let t=0;return(...a)=>{t&&Ol.clearTimeout(t),t=Ol.setTimeout(()=>{t=0,e(...a)},l)}}const $a=({popupVisible:e,defaultPopupVisible:l,emit:t})=>{var a;const o=B((a=l==null?void 0:l.value)!=null?a:!1),n=f(()=>{var r;return(r=e==null?void 0:e.value)!=null?r:o.value}),s=r=>{r!==n.value&&(o.value=r,t("update:popupVisible",r),t("popupVisibleChange",r))};return Q(n,r=>{o.value!==r&&(o.value=r)}),{computedPopupVisible:n,handlePopupVisibleChange:s}},Ia=te({name:"Optgroup",props:{label:{type:String}},setup(){return{prefixCls:oe("select-group")}}});function Sa(e,l,t,a,o,n){return G(),ae(Gl,null,[Oe("li",{class:J(`${e.prefixCls}-title`)},[ee(e.$slots,"label",{},()=>[ll(tl(e.label),1)])],2),ee(e.$slots,"default")],64)}var Fe=be(Ia,[["render",Sa]]),Ca=Object.defineProperty,wa=Object.defineProperties,Oa=Object.getOwnPropertyDescriptors,Vl=Object.getOwnPropertySymbols,Va=Object.prototype.hasOwnProperty,ka=Object.prototype.propertyIsEnumerable,kl=(e,l,t)=>l in e?Ca(e,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[l]=t,xa=(e,l)=>{for(var t in l||(l={}))Va.call(l,t)&&kl(e,t,l[t]);if(Vl)for(var t of Vl(l))ka.call(l,t)&&kl(e,t,l[t]);return e},Pa=(e,l)=>wa(e,Oa(l));const Ba=te({name:"VirtualListFiller",props:{height:{type:Number},offset:{type:Number},disabled:{type:Boolean},type:String,outerAttrs:Object,innerAttrs:Object},setup(e){const{height:l,offset:t}=le(e),a=f(()=>t.value!==void 0?{height:`${l.value}px`,position:"relative",zIndex:0}:{}),o=f(()=>{const n={display:"flex",flexDirection:"column"};return t.value!==void 0?Pa(xa({},n),{transform:`translateY(${t.value}px)`,position:"absolute",left:0,right:0,top:0}):n});return{outerStyle:a,innerStyle:o}}});function Ta(e,l,t,a,o,n){return e.type==="table"?(G(),ae("table",ne({key:0,style:e.outerStyle,cellpadding:"0",cellspacing:"0"},e.outerAttrs),[Oe("tbody",ne({style:e.innerStyle},e.innerAttrs),[ee(e.$slots,"default")],16)],16)):e.disabled?ee(e.$slots,"default",{key:2}):(G(),ae("div",ne({key:1,style:e.outerStyle},e.outerAttrs),[Oe("div",ne({style:e.innerStyle},e.innerAttrs),[ee(e.$slots,"default")],16)],16))}var ja=be(Ba,[["render",Ta]]);const Ra=200;function Ea(e){const{height:l}=le(e),t=B(Ra),a=o=>{t.value=o};return Ul(()=>{ce(l.value)&&(t.value=l.value)}),{viewportHeight:t,setViewportHeight:a,needMeasureViewportHeight:f(()=>!ce(l.value))}}const xl=32;function Ha(e){const{estimatedItemHeight:l,data:t}=le(e),a=B(new Map),o=B(l==null?void 0:l.value),n=f(()=>a.value.size);Q(n,()=>{n.value&&!o.value&&(o.value=[...a.value.entries()].reduce((b,[,$])=>b+$,0)/n.value)});const s=f(()=>o.value||xl),r=f(()=>Math.min(s.value,xl)),m=f(()=>s.value*t.value.length);function c(b,$){a.value.set(b,$)}function v(b){return a.value.get(b)}function _(b){return a.value.get(b)||s.value}function I(b){const{key:$}=t.value[b];return a.value.get($)}function p(b){return I(b)||s.value}return{itemHeight:s,minItemHeight:r,estimatedItemHeight:o,totalHeight:m,setItemHeight:c,getItemHeight:v,getItemHeightOrDefault:_,getItemHeightByIndex:I,getItemHeightOrDefaultByIndex:p}}const za=e=>{var l;let t=(l=e==null?void 0:e.$el)!=null?l:e;for(;t&&!t.tagName;)t=t.nextSibling;return t};function Aa(e,l={}){const{internalData:t,visibleData:a,itemRender:o}=le(e),n=new Map,s=()=>a.value.map(({item:r,index:m,key:c})=>{if(!n.has(c)){const[v]=o.value({item:r,index:m});let _;const I=()=>{var p;_&&((p=l.onItemResize)==null||p.call(l,_,c))};n.set(c,mt(v,{key:c,ref:p=>{_||(_=za(p))},onVnodeMounted(){I()},onVnodeUpdated(){I()}}))}return n.get(c)});return Q([t,o],()=>{n.clear()}),s}var Pl=Object.getOwnPropertySymbols,Da=Object.prototype.hasOwnProperty,Fa=Object.prototype.propertyIsEnumerable,Ma=(e,l)=>{var t={};for(var a in e)Da.call(e,a)&&l.indexOf(a)<0&&(t[a]=e[a]);if(e!=null&&Pl)for(var a of Pl(e))l.indexOf(a)<0&&Fa.call(e,a)&&(t[a]=e[a]);return t};function Xl(e,l){return e<0?0:e>l?l:e}function Le({scrollTop:e,scrollHeight:l,clientHeight:t}){const a=l-t;return a?Xl(e,a)/a:0}function La(e,l){const t=Math.floor(e*l),a=t/l,o=(e-a)/(1/l);return{index:t,offsetPtg:Number.isNaN(o)?0:o}}function Zl(e,l,t){const{index:a,offsetPtg:o}=La(e,l),n=Math.ceil(e*t),s=Math.ceil((1-e)*t);return{itemIndex:a,itemOffsetPtg:o,startIndex:Math.max(0,a-n),endIndex:Math.min(l-1,a+s)}}function nl({itemHeight:e,itemOffsetPtg:l,scrollPtg:t,clientHeight:a}){return t===1?a-e:a*t-e*l}function Na(e){var l=e,{scrollTop:t}=l,a=Ma(l,["scrollTop"]);return t+nl(a)}function Ka({locatedItemRelativeTop:e,locatedItemIndex:l,compareItemIndex:t,startIndex:a,endIndex:o,getItemKeyByIndex:n,getItemHeightOrDefault:s}){let r=e;const m=n(t);if(t<=l)for(let c=l;c>=a&&n(c)!==m;c-=1){const _=n(c-1);r-=s(_)}else for(let c=l;c<=o;c+=1){const v=n(c);if(v===m)break;r+=s(v)}return r}function Ga(e){const{viewportRef:l,visibleCount:t,itemCount:a}=le(e),o=ue({itemIndex:0,itemOffsetPtg:0,startIndex:0,endIndex:t.value});return{rangeState:o,updateRangeState:nt(()=>{if(!l.value)return;const{scrollTop:s,clientHeight:r,scrollHeight:m}=l.value,c=Le({scrollTop:s,clientHeight:r,scrollHeight:m}),{itemIndex:v,itemOffsetPtg:_,startIndex:I,endIndex:p}=Zl(c,a.value,t.value);o.itemIndex=Math.min(a.value-1,v),o.itemOffsetPtg=_,o.startIndex=I,o.endIndex=p})}}function Ua(e,l,t,a){const o=t-e,n=l-t,s=Math.min(o,n)*2;if(a<=s){const r=Math.floor(a/2);return a%2?t+r+1:t-r}return o>n?t-(a-n):t+(a-o)}function Wa(e){const{isVirtual:l,isStaticItemHeight:t,data:a,rangeState:o,viewportRef:n,scrollTop:s,visibleCount:r,getItemHeightOrDefault:m,getItemHeightOrDefaultByIndex:c}=le(e),v=f(()=>a.value.length),_=b=>{var $;return($=a.value[b])==null?void 0:$.key};return{fixScrollTo:b=>{if(!n.value)return null;const{itemIndex:$,relativeTop:R}=b,{scrollHeight:E,clientHeight:D}=n.value,d=s.value,h=E-D;let S=Number.MAX_VALUE,i=-1,y=-1,k=-1,H=-1,P=-1,T=0;for(let M=0;M<h;M++){const V=Ua(0,h,d,M),C=Le({scrollTop:V,scrollHeight:E,clientHeight:D}),{itemIndex:U,itemOffsetPtg:W,startIndex:q,endIndex:z}=Zl(C,v.value,r.value);if(q<=$&&$<=z){const X=nl({itemHeight:c.value(U),itemOffsetPtg:W,clientHeight:D,scrollPtg:C}),Z=Ka({locatedItemRelativeTop:X,locatedItemIndex:U,compareItemIndex:$,startIndex:q,endIndex:z,getItemKeyByIndex:_,getItemHeightOrDefault:m.value}),Y=Math.abs(Z-R);Y<S?(S=Y,i=V,y=U,k=W,H=q,P=z,T=0):T+=1}if(T>10)break}return i===-1?null:{scrollTop:i,itemIndex:y,itemOffsetPtg:k,startIndex:H,endIndex:P}},prepareScrollTo:b=>{if(!n.value)return null;if(typeof b=="number")return n.value.scrollTop=b,null;const $="index"in b?b.index:"key"in b?a.value.findIndex(y=>y.key===b.key):0;if(!a.value[$])return null;let E=b.align||"auto";const{clientHeight:D,scrollTop:d}=n.value;if(l.value&&!t.value){if(E==="auto"){const{itemIndex:y,itemOffsetPtg:k}=o.value;if(Math.abs(y-$)<r.value){let H=nl({itemHeight:c.value($),itemOffsetPtg:k,clientHeight:D,scrollPtg:Le(n.value)});if($<y)for(let P=$;P<y;P++)H-=c.value(P);else for(let P=y;P<$;P++)H+=c.value(P);if(H<0||H>D)E=H<0?"top":"bottom";else return null}else E=$<y?"top":"bottom"}return{itemIndex:$,relativeTop:E==="top"?0:D-c.value($),startIndex:Math.max(0,$-r.value),endIndex:Math.min(v.value-1,$+r.value)}}const h=c.value($);let S=0;for(let y=0;y<$;y++)S+=c.value(y);const i=S+h;return E==="auto"&&(S<d?E="top":i>d+D&&(E="bottom")),E==="top"?n.value.scrollTop=S:E==="bottom"&&(n.value.scrollTop=S-(D-h)),null}}}var qa=te({name:"VirtualList",components:{ResizeObserver:Wl,Filler:ja,RenderFunction:_t},inheritAttrs:!1,props:{height:{type:[Number,String],default:200},threshold:{type:[Number,Object]},isStaticItemHeight:{type:Boolean},estimatedItemHeight:{type:Number},data:{type:Array,default:()=>[]},itemKey:{type:[String,Function],default:"key"},component:{type:String,default:"div"},type:String,outerAttrs:Object,innerAttrs:Object},emits:["scroll","resize"],setup(e,{slots:l,emit:t}){const{height:a,itemKey:o,data:n,estimatedItemHeight:s,isStaticItemHeight:r,threshold:m}=le(e);function c(L,F){let K;return jl(o.value)?K=L[o.value]:ge(o.value)&&(K=o.value(L)),K!=null?K:F}const v=f(()=>(n.value||[]).map((L,F)=>({key:c(L,F),index:F,item:L}))),_=B(),{viewportHeight:I,setViewportHeight:p,needMeasureViewportHeight:b}=Ea(ue({height:a})),{itemHeight:$,minItemHeight:R,totalHeight:E,setItemHeight:D,getItemHeight:d,getItemHeightOrDefault:h,getItemHeightOrDefaultByIndex:S}=Ha(ue({estimatedItemHeight:s,data:v})),i=f(()=>v.value.length),y=f(()=>Math.ceil(I.value/R.value)),k=B(0),H=B(0),{rangeState:P,updateRangeState:T}=Ga(ue({viewportRef:_,itemCount:i,visibleCount:y})),M=f(()=>{const L=P.startIndex,F=Math.min(P.endIndex+1,i.value);return v.value.slice(L,F)}),V=f(()=>(m==null?void 0:m.value)!==null&&((m==null?void 0:m.value)===void 0||i.value>=m.value)&&E.value>I.value),C=f(()=>{if(!Be(_.value)){const L=_.value,F=K=>+window.getComputedStyle(L)[K].replace(/\D/g,"");return{top:F("paddingTop"),bottom:F("paddingBottom")}}return{top:0,bottom:0}}),U=ot(l,"item"),W=Aa(ue({internalData:v,visibleData:M,itemRender:U}),{onItemResize(L,F){if(L&&Be(d(F)))if(r.value)D(F,$.value);else{const K=L.offsetHeight;K&&D(F,K)}}}),q=()=>{if(!_.value||!V.value)return;const{scrollTop:L,clientHeight:F,scrollHeight:K}=_.value,pe=Le({scrollTop:L,clientHeight:F,scrollHeight:K});let Ie=Na({scrollPtg:pe,clientHeight:F,scrollTop:L-(C.value.top+C.value.bottom)*pe,itemHeight:S(P.itemIndex),itemOffsetPtg:P.itemOffsetPtg});for(let ye=P.itemIndex-1;ye>=P.startIndex;ye--)Ie-=S(ye);H.value=Ie},z=B();gt(()=>{z.value&&dl(z.value)});const X=B(!1),{fixScrollTo:Z,prepareScrollTo:Y}=Wa(ue({isVirtual:V,isStaticItemHeight:r,rangeState:P,data:v,viewportRef:_,scrollTop:k,visibleCount:y,getItemHeightOrDefault:h,getItemHeightOrDefaultByIndex:S})),$e=L=>{de(L),t("resize",L)},de=L=>{b.value&&p(L.clientHeight)},ve=L=>{if(!_.value)return;const{scrollTop:F,clientHeight:K,scrollHeight:pe}=_.value;k.value=Xl(F,pe-K),t("scroll",L)},xe=L=>{z.value&&dl(z.value),z.value=vl(()=>{const F=Y(L);F&&(P.startIndex=F.startIndex,P.endIndex=F.endIndex,he(()=>{if(!_.value)return;const K=Z({itemIndex:F.itemIndex,relativeTop:F.relativeTop});K&&(X.value=!0,_.value.scrollTop=K.scrollTop,P.itemIndex=K.itemIndex,P.itemOffsetPtg=K.itemOffsetPtg,P.startIndex=K.startIndex,P.endIndex=K.endIndex),z.value=vl(()=>{X.value=!1})}))})};return Q([$,y,k,n],()=>{X.value||T()}),Q(P,()=>{q()}),{viewportRef:_,viewportHeight:I,totalHeight:E,startOffset:H,isVirtual:V,renderChildren:W,handleResize:$e,handleScroll:ve,scrollTo:xe}}});function Ya(e,l,t,a,o,n){const s=fe("RenderFunction"),r=fe("Filler"),m=fe("ResizeObserver");return G(),Ve(m,{onResize:e.handleResize},{default:we(()=>[(G(),Ve(Kl(e.component),ne(e.$attrs,{ref:"viewportRef",style:{overflowY:"auto",overflowAnchor:"none",maxHeight:`${e.viewportHeight}px`},onScroll:e.handleScroll}),{default:we(()=>[O(r,{height:e.isVirtual?e.totalHeight:e.viewportHeight,offset:e.isVirtual?e.startOffset:void 0,type:e.type,"outer-attrs":e.outerAttrs,"inner-attrs":e.innerAttrs},{default:we(()=>[O(s,{"render-func":e.renderChildren},null,8,["render-func"])]),_:1},8,["height","offset","type","outer-attrs","inner-attrs"])]),_:1},16,["style","onScroll"]))]),_:1},8,["onResize"])}var Ja=be(qa,[["render",Ya]]),Qa=Object.defineProperty,Xa=Object.defineProperties,Za=Object.getOwnPropertyDescriptors,Bl=Object.getOwnPropertySymbols,en=Object.prototype.hasOwnProperty,ln=Object.prototype.propertyIsEnumerable,Tl=(e,l,t)=>l in e?Qa(e,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[l]=t,Ze=(e,l)=>{for(var t in l||(l={}))en.call(l,t)&&Tl(e,t,l[t]);if(Bl)for(var t of Bl(l))ln.call(l,t)&&Tl(e,t,l[t]);return e},tn=(e,l)=>Xa(e,Za(l));function an(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!ht(e)}const nn={value:"value",label:"label",disabled:"disabled",tagProps:"tagProps",render:"render"};var el=te({name:"Select",components:{Trigger:fl,SelectView:wl},inheritAttrs:!1,props:{multiple:{type:Boolean,default:!1},modelValue:{type:[String,Number,Object,Array]},defaultValue:{type:[String,Number,Object,Array],default:e=>Be(e.multiple)?"":[]},inputValue:{type:String},defaultInputValue:{type:String,default:""},size:{type:String},placeholder:String,loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},error:{type:Boolean,default:!1},allowClear:{type:Boolean,default:!1},allowSearch:{type:[Boolean,Object],default:e=>Boolean(e.multiple)},allowCreate:{type:Boolean,default:!1},maxTagCount:{type:Number,default:0},popupContainer:{type:[String,Object]},bordered:{type:Boolean,default:!0},defaultActiveFirstOption:{type:Boolean,default:!0},popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},unmountOnClose:{type:Boolean,default:!1},filterOption:{type:[Boolean,Function],default:!0},options:{type:Array,default:()=>[]},virtualListProps:{type:Object},triggerProps:{type:Object},formatLabel:{type:Function},fallbackOption:{type:[Boolean,Function],default:!0},showExtraOptions:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},searchDelay:{type:Number,default:500},limit:{type:Number,default:0},fieldNames:{type:Object}},emits:{"update:modelValue":e=>!0,"update:inputValue":e=>!0,"update:popupVisible":e=>!0,change:e=>!0,inputValueChange:e=>!0,popupVisibleChange:e=>!0,clear:e=>!0,remove:e=>!0,search:e=>!0,dropdownScroll:e=>!0,dropdownReachBottom:e=>!0,exceedLimit:(e,l)=>!0},setup(e,{slots:l,emit:t,attrs:a}){const{size:o,disabled:n,error:s,options:r,filterOption:m,valueKey:c,multiple:v,popupVisible:_,showExtraOptions:I,modelValue:p,fieldNames:b,loading:$}=le(e),R=oe("select"),{mergedSize:E,mergedDisabled:D,mergedError:d,eventHandlers:h}=ke({size:o,disabled:n,error:s}),S=f(()=>e.virtualListProps?"div":"li"),i=f(()=>se(e.allowSearch)&&Boolean(e.allowSearch.retainInputValue));f(()=>{if(ge(e.formatLabel))return u=>{const w=g.get(u.value);return e.formatLabel(w)}});const y=B(),k=B({}),H=B(),{computedPopupVisible:P,handlePopupVisibleChange:T}=$a({popupVisible:_,emit:t}),M=B(e.defaultValue),V=f(()=>{var u;const w=(u=e.modelValue)!=null?u:M.value;return(Ce(w)?w:w||ce(w)?[w]:[]).map(A=>({value:A,key:je(A,e.valueKey)}))});Q(p,u=>{(Be(u)||El(u))&&(M.value=v.value?[]:"")});const C=f(()=>V.value.map(u=>u.key)),U=f(()=>Ze(Ze({},nn),b==null?void 0:b.value)),W=u=>ge(e.fallbackOption)?e.fallbackOption(u):{[U.value.value]:u,[U.value.label]:String(se(u)?u[c==null?void 0:c.value]:u)},q=()=>{const u=[],w=[];if(e.allowCreate||e.fallbackOption){for(const x of V.value)if(!w.includes(x.key)){const A=g.get(x.key);(!A||A.origin==="extraOptions")&&(u.push(x),w.push(x.key))}}if(e.allowCreate&&Y.value){const x=je(Y.value);if(!w.includes(x)){const A=g.get(x);(!A||A.origin==="extraOptions")&&u.push({value:Y.value,key:x})}}return u},z=B([]),X=f(()=>z.value.map(u=>W(u.value)));he(()=>{Ul(()=>{var u;const w=q();if(w.length!==z.value.length)z.value=w;else if(w.length>0){for(let x=0;x<w.length;x++)if(w[x].key!==((u=z.value[x])==null?void 0:u.key)){z.value=w;break}}})});const Z=B(""),Y=f(()=>{var u;return(u=e.inputValue)!=null?u:Z.value});Q(P,u=>{!u&&!i.value&&Y.value&&ve("")});const $e=u=>{var w,x;return e.multiple?u.map(A=>{var _e,cl;return(cl=(_e=g.get(A))==null?void 0:_e.value)!=null?cl:""}):(x=(w=g.get(u[0]))==null?void 0:w.value)!=null?x:""},de=u=>{var w,x;const A=$e(u);M.value=A,t("update:modelValue",A),t("change",A),(x=(w=h.value)==null?void 0:w.onChange)==null||x.call(w)},ve=u=>{Z.value=u,t("update:inputValue",u),t("inputValueChange",u)},xe=(u,w)=>{if(e.multiple){if(C.value.includes(u)){const x=C.value.filter(A=>A!==u);de(x)}else if(N.value.includes(u))if(e.limit>0&&C.value.length>=e.limit){const x=g.get(u);t("exceedLimit",x==null?void 0:x.value,w)}else{const x=C.value.concat(u);de(x)}i.value||ve("")}else{if(u!==C.value[0]&&de([u]),i.value){const x=g.get(u);x&&ve(x.label)}T(!1)}},L=_a(u=>{t("search",u)},e.searchDelay),F=u=>{u!==Y.value&&(P.value||T(!0),ve(u),e.allowSearch&&L(u))},K=u=>{const w=g.get(u),x=C.value.filter(A=>A!==u);de(x),t("remove",w==null?void 0:w.value)},pe=u=>{u==null||u.stopPropagation();const w=C.value.filter(x=>{var A;return(A=g.get(x))==null?void 0:A.disabled});de(w),ve(""),t("clear",u)},Ie=u=>{t("dropdownScroll",u)},ye=u=>{t("dropdownReachBottom",u)},{validOptions:Ge,optionInfoMap:g,validOptionInfos:j,enabledOptionKeys:N,handleKeyDown:re}=Xt({multiple:v,options:r,extraOptions:X,inputValue:Y,filterOption:m,showExtraOptions:I,component:S,valueKey:c,fieldNames:b,loading:$,popupVisible:P,valueKeys:C,dropdownRef:y,optionRefs:k,virtualListRef:H,onSelect:xe,onPopupVisibleChange:T}),Se=f(()=>{var u;const w=[];for(const x of V.value){const A=g.get(x.key);A&&w.push(tn(Ze({},A),{value:x.key,label:(u=A==null?void 0:A.label)!=null?u:String(se(x.value)?x.value[c==null?void 0:c.value]:x.value),closable:!(A!=null&&A.disabled),tagProps:A==null?void 0:A.tagProps}))}return w}),Pe=u=>{if(ge(l.option)){const w=l.option;return()=>w({data:u})}return ge(u.render)?u.render:()=>u.label},me=u=>{if(Ql(u)){let w;return O(Fe,{key:u.key,label:u.label},an(w=u.options.map(x=>me(x)))?w:{default:()=>[w]})}return Ke(u,{inputValue:Y.value,filterOption:m==null?void 0:m.value})?O(De,{ref:w=>{w!=null&&w.$el&&(k.value[u.key]=w.$el)},key:u.key,value:u.value,label:u.label,disabled:u.disabled,internal:!0},{default:Pe(u)}):null},et=()=>O(Pt,{ref:y,loading:e.loading,empty:j.value.length===0,virtualList:Boolean(e.virtualListProps),onScroll:Ie,onReachBottom:ye},{default:()=>{var u,w;return[...(w=(u=l.default)==null?void 0:u.call(l))!=null?w:[],...Ge.value.map(me)]},"virtual-list":()=>O(Ja,ne(e.virtualListProps,{ref:H,data:Ge.value}),{item:({item:u})=>me(u)}),empty:l.empty,footer:l.footer}),lt=({data:u})=>{var w,x,A;if(l.label||ge(e.formatLabel)){const _e=g.get(u.value);if(_e!=null&&_e.raw)return(A=(w=l.label)==null?void 0:w.call(l,{data:_e.raw}))!=null?A:(x=e.formatLabel)==null?void 0:x.call(e,_e.raw)}return u.label};return()=>O(fl,ne({trigger:"click",position:"bl",popupOffset:4,animationName:"slide-dynamic-origin",hideEmpty:!0,preventFocus:!0,autoFitPopupWidth:!0,autoFitTransformOrigin:!0,disabled:D.value,popupVisible:P.value,unmountOnClose:e.unmountOnClose,clickToClose:!(e.allowSearch||e.allowCreate),popupContainer:e.popupContainer,onPopupVisibleChange:T},e.triggerProps),{default:()=>{var u,w;return[(w=(u=l.trigger)==null?void 0:u.call(l))!=null?w:O(wl,ne({class:R,modelValue:Se.value,inputValue:Y.value,multiple:e.multiple,disabled:D.value,error:d.value,loading:e.loading,allowClear:e.allowClear,allowCreate:e.allowCreate,allowSearch:Boolean(e.allowSearch),opened:P.value,maxTagCount:e.maxTagCount,placeholder:e.placeholder,bordered:e.bordered,size:E.value,onInputValueChange:F,onRemove:K,onClear:pe,onKeydown:re},a),{label:lt,prefix:l.prefix,"arrow-icon":l["arrow-icon"],"loading-icon":l["loading-icon"],"search-icon":l["search-icon"]})]},content:et})}});const dn=Object.assign(el,{Option:De,OptGroup:Fe,install:(e,l)=>{Re(e,l);const t=Ee(l);e.component(t+el.name,el),e.component(t+De.name,De),e.component(t+Fe.name,Fe)}});export{De as O,dn as S};
