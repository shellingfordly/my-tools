import{g as y,i as N,_ as w,f as H,r as K,E as O,d as Y,e as J,l as Q,D as X}from"./index.d66503d3.js";import{d as b,c as h,o as c,a as m,n as d,e as x,f as I,r as E,u as T,v as A,R as Z,g as u,b as S,h as f,i as k,D as g,w as ee,U as se,K as te,j as ne,$ as P}from"./index.51e79113.js";import{a as j,r as z}from"./responsive-observe.34f7bf0c.js";import{I as oe,g as ie,h as re,i as ae,c as le,d as ce,M as ue}from"./index.112b9d80.js";import{a as de}from"./index.de7ee226.js";const pe=b({name:"IconUp",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const s=y("icon"),t=h(()=>[s,`${s}-up`,{[`${s}-spin`]:e.spin}]),o=h(()=>{if(e.size)return{fontSize:N(e.size)?`${e.size}px`:e.size}});return{cls:t,sizeStyle:o}}}),fe=["stroke-width","stroke-linecap","stroke-linejoin"],me=I("path",{d:"M39.6 30.557 24.043 15 8.487 30.557"},null,-1),he=[me];function ge(e,s,t,o,i,n){return c(),m("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:d(e.cls),style:x(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},he,14,fe)}var C=w(pe,[["render",ge]]);const Te=Object.assign(C,{install:(e,s)=>{var t;const o=(t=s==null?void 0:s.iconPrefix)!=null?t:"";e.component(o+C.name,C)}});function M(e){return H(e)}function Ae(e,s,t=!1){const o=E({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),i=h(()=>{let r=s;if(M(e.value))for(let a=0;a<j.length;a++){const l=j[a];if((o.value[l]||l==="xs"&&t)&&e.value[l]!==void 0){r=e.value[l];break}}else r=e.value;return r});let n="";return T(()=>{n=z.subscribe(r=>{M(e.value)&&(o.value=r)})}),A(()=>{n&&z.unsubscribe(n)}),i}const ve=b({name:"IconPlus",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const s=y("icon"),t=h(()=>[s,`${s}-plus`,{[`${s}-spin`]:e.spin}]),o=h(()=>{if(e.size)return{fontSize:N(e.size)?`${e.size}px`:e.size}});return{cls:t,sizeStyle:o}}}),_e=["stroke-width","stroke-linecap","stroke-linejoin"],ye=I("path",{d:"M5 24h38M24 5v38"},null,-1),be=[ye];function ke(e,s,t,o,i,n){return c(),m("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:d(e.cls),style:x(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},be,14,_e)}var $=w(ve,[["render",ke]]);const Fe=Object.assign($,{install:(e,s)=>{var t;const o=(t=s==null?void 0:s.iconPrefix)!=null?t:"";e.component(o+$.name,$)}}),Ce=b({name:"Message",components:{AIconHover:oe,IconInfoCircleFill:de,IconCheckCircleFill:ie,IconExclamationCircleFill:re,IconCloseCircleFill:ae,IconClose:le,IconLoading:ce},props:{type:{type:String,default:"info"},closable:{type:Boolean,default:!1},showIcon:{type:Boolean,default:!0},duration:{type:Number,default:3e3},resetOnUpdate:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:s}){const t=y("message");let o=0;const i=()=>{s("close")};return T(()=>{e.duration>0&&(o=window.setTimeout(i,e.duration))}),Z(()=>{e.resetOnUpdate&&(o&&(window.clearTimeout(o),o=0),e.duration>0&&(o=window.setTimeout(i,e.duration)))}),A(()=>{o&&window.clearTimeout(o)}),{prefixCls:t,handleClose:i}}});function $e(e,s,t,o,i,n){const r=u("icon-info-circle-fill"),a=u("icon-check-circle-fill"),l=u("icon-exclamation-circle-fill"),D=u("icon-close-circle-fill"),W=u("icon-loading"),R=u("icon-close"),q=u("a-icon-hover");return c(),m("li",{role:"alert",class:d([e.prefixCls,`${e.prefixCls}-${e.type}`,{[`${e.prefixCls}-closable`]:e.closable}])},[e.showIcon?(c(),m("span",{key:0,class:d(`${e.prefixCls}-icon`)},[S(e.$slots,"icon",{},()=>[e.type==="info"?(c(),f(r,{key:0})):e.type==="success"?(c(),f(a,{key:1})):e.type==="warning"?(c(),f(l,{key:2})):e.type==="error"?(c(),f(D,{key:3})):e.type==="loading"?(c(),f(W,{key:4})):k("v-if",!0)])],2)):k("v-if",!0),I("span",{class:d(`${e.prefixCls}-content`)},[S(e.$slots,"default")],2),e.closable?(c(),m("span",{key:1,class:d(`${e.prefixCls}-close-btn`),onClick:s[0]||(s[0]=(...G)=>e.handleClose&&e.handleClose(...G))},[g(q,null,{default:ee(()=>[g(R)]),_:1})],2)):k("v-if",!0)],2)}var we=w(Ce,[["render",$e]]);function Ie(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!te(e)}var Oe=b({name:"MessageList",props:{messages:{type:Array,default:()=>[]},position:{type:String,default:"top"}},emits:["close","afterClose"],setup(e,s){const t=y("message-list"),{zIndex:o}=K("message",{runOnMounted:!0});return()=>{let i;return g(se,{class:[t,`${t}-${e.position}`],name:"fade-message",tag:"ul",style:{zIndex:o.value},onAfterLeave:()=>s.emit("afterClose")},Ie(i=e.messages.map(n=>{const r={default:O(n.content),icon:O(n.icon)};return g(we,{key:n.id,type:n.type,duration:n.duration,closable:n.closable,resetOnUpdate:n.resetOnUpdate,onClose:()=>s.emit("close",n.id)},r)}))?i:{default:()=>[i]})}}}),Se=Object.defineProperty,Pe=Object.defineProperties,je=Object.getOwnPropertyDescriptors,L=Object.getOwnPropertySymbols,ze=Object.prototype.hasOwnProperty,Me=Object.prototype.propertyIsEnumerable,U=(e,s,t)=>s in e?Se(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,_=(e,s)=>{for(var t in s||(s={}))ze.call(s,t)&&U(e,t,s[t]);if(L)for(var t of L(s))Me.call(s,t)&&U(e,t,s[t]);return e},F=(e,s)=>Pe(e,je(s));class Le{constructor(s,t){this.messageCount=0,this.add=n=>{var r;this.messageCount++;const a=(r=n.id)!=null?r:`__arco_message_${this.messageCount}`;if(this.messageIds.has(a))return this.update(a,n);const l=ne(_({id:a},n));return this.messages.value.push(l),this.messageIds.add(a),{close:()=>this.remove(a)}},this.update=(n,r)=>{for(let a=0;a<this.messages.value.length;a++)if(this.messages.value[a].id===n){const l=!J(r.duration);Object.assign(this.messages.value[a],F(_({},r),{id:n,resetOnUpdate:l}));break}return{close:()=>this.remove(n)}},this.remove=n=>{for(let r=0;r<this.messages.value.length;r++){const a=this.messages.value[r];if(a.id===n){Q(a.onClose)&&a.onClose(n),this.messages.value.splice(r,1),this.messageIds.delete(n);break}}},this.clear=()=>{this.messages.value.splice(0)},this.destroy=()=>{this.messages.value.length===0&&this.container&&(P(null,this.container),document.body.removeChild(this.container),this.container=null,p[this.position]=void 0)};const{position:o="top"}=s;this.container=X("message"),this.messageIds=new Set,this.messages=E([]),this.position=o;const i=g(Oe,{messages:this.messages.value,position:o,onClose:this.remove,onAfterClose:this.destroy});(t!=null?t:B._context)&&(i.appContext=t!=null?t:B._context),P(i,this.container),document.body.appendChild(this.container)}}const p={},V=[...ue,"loading"],v=V.reduce((e,s)=>(e[s]=(t,o)=>{Y(t)&&(t={content:t});const i=_({type:s},t),{position:n="top"}=i;return p[n]||(p[n]=new Le(i,o)),p[n].add(i)},e),{});v.clear=e=>{var s;e?(s=p[e])==null||s.clear():Object.values(p).forEach(t=>t==null?void 0:t.clear())};const B=F(_({},v),{install:e=>{const s={clear:v.clear};for(const t of V)s[t]=(o,i=e._context)=>v[t](o,i);e.config.globalProperties.$message=s},_context:null});export{Te as I,B as M,Fe as a,Ae as u};
