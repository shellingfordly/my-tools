import{b as de,g as E,i as ee,_ as q,r as Vt,c as Qe,v as Et,C as Dt,j as re,s as wt,a as _t,e as Rt,I as Ut,f as Ct,w as xt,B as St,o as Wt,n as qt}from"./index.cdfcc5d8.js";import{M as Zt}from"./index.29f530db.js";import{a as $e,b as Pe,t as Ht,K as pe}from"./index.147dbbd6.js";import{i as Kt,a as Gt,P as Xt,u as Yt,f as Jt,I as Qt}from"./utils.59c47cd3.js";import{g as en}from"./getVideoInfo.ecd0ef5d.js";import"./index.c6a20670.js";import{r as R,c as g,y as ye,u as nt,N as It,d as j,o as P,a as B,n as V,e as G,a3 as tn,t as ue,j as Q,p as lt,B as a,M as Ce,F as se,x as Le,O as Pt,z as nn,b as we,g as ae,f as w,m as fe,k as et,h as be,w as ce,V as Lt,R as zt,a4 as ge,C as ln,D as on,T as it,i as oe,G as rn,Y as an,S as sn,Q as un,l as cn,U as dn,I as M,_ as fn,E as rt}from"./index.4b01108f.js";import{u as vn,a as at}from"./index.f4d01a67.js";import{a as mn,I as pn}from"./index.554646c6.js";import{o as Se,a as Ie,q as gn,e as yn,u as kn,N as je,h as hn,I as bn}from"./use-popup-manager.b89a1cc3.js";import{u as tt}from"./use-merge-state.05facaed.js";import{I as $n,a as wn}from"./index.9ce4d6d1.js";import{R as _n}from"./render-function.8d6dbe3d.js";import"./index.45f5c73b.js";import"./responsive-observe.d27ca9a6.js";import"./handleFile.719ba7a4.js";import"./index.91270f9d.js";const Cn=({itemRef:e,selector:t,index:n,parentClassName:i})=>{const l=R(-1),r=g(()=>{var y;return(y=n==null?void 0:n.value)!=null?y:l.value}),o=R(),d=()=>{var y,c,u;let m=(c=(y=e.value)==null?void 0:y.parentElement)!=null?c:void 0;if(i)for(;m&&!m.className.includes(i);)m=(u=m.parentElement)!=null?u:void 0;return m},s=()=>{if(de(n==null?void 0:n.value)&&o.value&&e.value){const y=Array.from(o.value.querySelectorAll(t)).indexOf(e.value);y!==l.value&&(l.value=y)}};return ye(e,()=>{e.value&&!o.value&&(o.value=d())}),nt(()=>{e.value&&(o.value=d()),s()}),It(()=>s()),{computedIndex:r}},Sn=j({name:"IconImageClose",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=E("icon"),i=g(()=>[n,`${n}-image-close`,{[`${n}-spin`]:e.spin}]),l=g(()=>{const o={};return e.size&&(o.fontSize=ee(e.size)?`${e.size}px`:e.size),e.rotate&&(o.transform=`rotate(${e.rotate}deg)`),o});return{cls:i,innerStyle:l,onClick:o=>{t("click",o)}}}}),In=["stroke-width","stroke-linecap","stroke-linejoin"],Pn=tn('<path d="M41 26V9a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v30a2 2 0 0 0 2 2h17"></path><path d="m24 33 9-8.5V27s-2 1-3.5 2.5C27.841 31.159 27 33 27 33h-3Zm0 0-3.5-4.5L17 33h7Z"></path><path d="M20.5 28.5 17 33h7l-3.5-4.5ZM33 24.5 24 33h3s.841-1.841 2.5-3.5C31 28 33 27 33 27v-2.5Z" fill="currentColor" stroke="none"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M46 38a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm-4.95-4.782 1.74 1.74-3.045 3.046 3.046 3.046-1.74 1.74-3.047-3.045-3.046 3.046-1.74-1.74 3.046-3.047-3.046-3.046 1.74-1.74 3.046 3.046 3.046-3.046Z" fill="currentColor" stroke="none"></path><path d="M17 15h-2v2h2v-2Z"></path>',5),Ln=[Pn];function zn(e,t,n,i,l,r){return P(),B("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:V(e.cls),style:G(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...o)=>e.onClick&&e.onClick(...o))},Ln,14,In)}var Oe=q(Sn,[["render",zn]]);const Bn=Object.assign(Oe,{install:(e,t)=>{var n;const i=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(i+Oe.name,Oe)}}),Bt=Symbol("ArcoDescriptions");var jn=Object.defineProperty,st=Object.getOwnPropertySymbols,On=Object.prototype.hasOwnProperty,Fn=Object.prototype.propertyIsEnumerable,ut=(e,t,n)=>t in e?jn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ct=(e,t)=>{for(var n in t||(t={}))On.call(t,n)&&ut(e,n,t[n]);if(st)for(var n of st(t))Fn.call(t,n)&&ut(e,n,t[n]);return e};const dt=e=>e?e.reduce((t,n)=>t+n.span,0):0;var Fe=j({name:"Descriptions",props:{data:{type:Array,default:()=>[]},column:{type:[Number,Object],default:3},title:String,layout:{type:String,default:"horizontal"},align:{type:[String,Object],default:"left"},size:{type:String},bordered:{type:Boolean,default:!1},labelStyle:{type:Object},valueStyle:{type:Object},tableLayout:{type:String,default:"auto"}},setup(e,{slots:t}){const{column:n,size:i}=ue(e),l=E("descriptions"),{mergedSize:r}=Vt(i),o=vn(n,3,!0),d=g(()=>{var f;return(f=Qe(e.align)?e.align.label:e.align)!=null?f:"left"}),s=g(()=>{var f;return(f=Qe(e.align)?e.align.value:e.align)!=null?f:"left"}),y=g(()=>ct({textAlign:d.value},e.labelStyle)),c=g(()=>ct({textAlign:s.value},e.valueStyle)),u=Q(new Map),m=g(()=>Array.from(u.values()).sort((f,v)=>f.index-v.index).map(f=>f.span));lt(Bt,Q({addItem:(f,v)=>{u.set(f,v)},removeItem:f=>{u.delete(f)}}));const L=f=>{const v=[];if(f.forEach(($,O)=>{var F;const D=Math.min((F=Ce($)?m.value[O]:$.span)!=null?F:1,o.value),N=v[v.length-1],W=dt(N);W===0||W>=o.value?v.push([{data:$,span:D}]):N.push({data:$,span:D+W>o.value?o.value-W:D})}),v.length){const $=v[v.length-1],O=dt($);O<o.value&&($[$.length-1].span+=o.value-O)}return v},_=g(()=>{var f;return L((f=e.data)!=null?f:[])}),h=(f,v)=>{var $,O,F,D,N;return Ce(f)?Dt(f,f.children)&&((O=($=f.children).label)==null?void 0:O.call($))||((F=f.props)==null?void 0:F.label):(N=(D=t.label)==null?void 0:D.call(t,{label:f.label,index:v,data:f}))!=null?N:re(f.label)?f.label():f.label},I=(f,v)=>{var $,O;return Ce(f)?f:(O=($=t.value)==null?void 0:$.call(t,{value:f.value,index:v,data:f}))!=null?O:re(f.value)?f.value():f.value},C=f=>a(se,null,[a("tr",{class:`${l}-row`},[f.map((v,$)=>a("td",{key:`label-${$}`,class:[`${l}-item-label`,`${l}-item-label-block`],style:y.value,colspan:v.span},[h(v.data,$)]))]),a("tr",{class:`${l}-row`},[f.map((v,$)=>a("td",{key:`value-${$}`,class:[`${l}-item-value`,`${l}-item-value-block`],style:c.value,colspan:v.span},[I(v.data,$)]))])]),X=(f,v)=>a("tr",{class:`${l}-row`,key:`tr-${v}`},[f.map($=>a(se,null,[a("td",{class:[`${l}-item-label`,`${l}-item-label-block`],style:y.value},[h($.data,v)]),a("td",{class:[`${l}-item-value`,`${l}-item-value-block`],style:c.value,colspan:$.span*2-1},[I($.data,v)])]))]),Z=(f,v)=>a("tr",{class:`${l}-row`,key:`inline-${v}`},[f.map(($,O)=>a("td",{key:`item-${O}`,class:`${l}-item`,colspan:$.span},[a("div",{class:[`${l}-item-label`,`${l}-item-label-inline`],style:y.value},[h($.data,O)]),a("div",{class:[`${l}-item-value`,`${l}-item-value-inline`],style:c.value},[I($.data,O)])]))]),A=(f,v)=>["inline-horizontal","inline-vertical"].includes(e.layout)?Z(f,v):e.layout==="vertical"?C(f):X(f,v),H=g(()=>[l,`${l}-layout-${e.layout}`,`${l}-size-${r.value}`,{[`${l}-border`]:e.bordered},{[`${l}-table-layout-fixed`]:e.tableLayout==="fixed"}]),x=()=>{var f,v;const $=(v=(f=t.title)==null?void 0:f.call(t))!=null?v:e.title;return $?a("div",{class:`${l}-title`},[$]):null};return()=>{const f=t.default?L(Et(t.default())):_.value;return a("div",{class:H.value},[x(),a("div",{class:`${l}-body`},[a("table",{class:`${l}-table`},[a("tbody",null,[f.map((v,$)=>A(v,$))])])])])}}});const Nn=j({name:"DescriptionsItem",props:{span:{type:Number,default:1},label:String},setup(e){var t;const{span:n}=ue(e),i=E("descriptions"),l=Le(Bt,{}),r=nn(),o=R(),{computedIndex:d}=Cn({itemRef:o,selector:`.${i}-item-value`,parentClassName:`${i}-table`}),s=Q({index:d,span:n});r!=null&&r.uid&&((t=l.addItem)==null||t.call(l,r.uid,s));const y=()=>{var c;const u=((c=r==null?void 0:r.proxy)==null?void 0:c.$el).parentElement;u&&u!==o.value&&(o.value=u)};return nt(()=>y()),It(()=>y()),Pt(()=>{var c;r!=null&&r.uid&&((c=l.removeItem)==null||c.call(l,r.uid))}),{prefixCls:i}}});function Mn(e,t,n,i,l,r){return we(e.$slots,"default")}var Ne=q(Nn,[["render",Mn]]);const An=Object.assign(Fe,{DescriptionsItem:Ne,install:(e,t)=>{wt(e,t);const n=_t(t);e.component(n+Fe.name,Fe),e.component(n+Ne.name,Ne)}}),Tn=j({name:"ImagePreviewArrow",components:{IconLeft:$n,IconRight:wn},props:{onPrev:{type:Function},onNext:{type:Function}},setup(){return{prefixCls:E("image-preview-arrow")}}});function Vn(e,t,n,i,l,r){const o=ae("icon-left"),d=ae("icon-right");return P(),B("div",{class:V(e.prefixCls)},[w("div",{class:V([`${e.prefixCls}-left`,{[`${e.prefixCls}-disabled`]:!e.onPrev}]),onClick:t[0]||(t[0]=s=>{s.preventDefault(),e.onPrev&&e.onPrev()})},[a(o)],2),w("div",{class:V([`${e.prefixCls}-right`,{[`${e.prefixCls}-disabled`]:!e.onNext}]),onClick:t[1]||(t[1]=s=>{s.preventDefault(),e.onNext&&e.onNext()})},[a(d)],2)],2)}var En=q(Tn,[["render",Vn]]);function Dn(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Ce(e)}var Rn=j({name:"ImagePreviewAction",components:{Tooltip:$e},inheritAttrs:!1,props:{name:{type:String},disabled:{type:Boolean}},setup(e,{slots:t,attrs:n}){const i=E("image-preview-toolbar-action");return()=>{var l;const{name:r,disabled:o}=e,d=(l=t.default)==null?void 0:l.call(t);if(!d||!d.length)return null;const s=a("div",fe({class:[`${i}`,{[`${i}-disabled`]:o}],onMousedown:y=>{y.preventDefault()}},n),[a("span",{class:`${i}-content`},[d])]);return r?a($e,{class:`${i}-tooltip`,content:r},Dn(s)?s:{default:()=>[s]}):s}}}),Un=j({name:"ImagePreviewToolbar",components:{RenderFunction:_n,PreviewAction:Rn},props:{actions:{type:Array,default:()=>[]},actionsLayout:{type:Array,default:()=>[]}},setup(e){const{actions:t,actionsLayout:n}=ue(e),i=E("image-preview-toolbar"),l=g(()=>{const r=new Set(n.value),o=s=>r.has(s.key);return t.value.filter(o).sort((s,y)=>{const c=n.value.indexOf(s.key),u=n.value.indexOf(y.key);return c>u?1:-1})});return{prefixCls:i,resultActions:l}}});function xn(e,t,n,i,l,r){const o=ae("RenderFunction"),d=ae("PreviewAction");return P(),B("div",{class:V(e.prefixCls)},[(P(!0),B(se,null,et(e.resultActions,s=>(P(),be(d,{key:s.key,name:s.name,disabled:s.disabled,onClick:s.onClick},{default:ce(()=>[a(o,{"render-func":s.content},null,8,["render-func"])]),_:2},1032,["name","disabled","onClick"]))),128)),we(e.$slots,"default")],2)}var Wn=q(Un,[["render",xn]]);function qn(e){const t=R(e||"beforeLoad"),n=g(()=>t.value==="beforeLoad"),i=g(()=>t.value==="loading"),l=g(()=>t.value==="error"),r=g(()=>t.value==="loaded");return{status:t,isBeforeLoad:n,isLoading:i,isError:l,isLoaded:r,setLoadStatus:o=>{t.value=o}}}function Zn(e,t,n,i,l){let r=n,o=i;return n&&(e.width>t.width?r=0:(t.left>e.left&&(r-=Math.abs(e.left-t.left)/l),t.right<e.right&&(r+=Math.abs(e.right-t.right)/l))),i&&(e.height>t.height?o=0:(t.top>e.top&&(o-=Math.abs(e.top-t.top)/l),t.bottom<e.bottom&&(o+=Math.abs(e.bottom-t.bottom)/l))),[r,o]}function Hn(e){const{wrapperEl:t,imageEl:n,scale:i}=ue(e),l=R([0,0]),r=R(!1);let o=0,d=0,s=[0,0];const y=()=>{if(!t.value||!n.value)return;const p=t.value.getBoundingClientRect(),L=n.value.getBoundingClientRect(),[_,h]=Zn(p,L,l.value[0],l.value[1],i.value);(_!==l.value[0]||h!==l.value[1])&&(l.value=[_,h])},c=p=>{p.preventDefault&&p.preventDefault();const L=s[0]+(p.pageX-o)/i.value,_=s[1]+(p.pageY-d)/i.value;l.value=[L,_]},u=p=>{p.preventDefault&&p.preventDefault(),r.value=!1,y(),k()},m=p=>{p.target===p.currentTarget&&(p.preventDefault&&p.preventDefault(),r.value=!0,o=p.pageX,d=p.pageY,s=[...l.value],Se(window,"mousemove",c,!1),Se(window,"mouseup",u,!1))};function k(){Ie(window,"mousemove",c,!1),Ie(window,"mouseup",u,!1)}return Lt(p=>{n.value&&Se(n.value,"mousedown",m),p(()=>{n.value&&Ie(n.value,"mousedown",m),k()})}),ye([i],()=>{zt(()=>y())}),{translate:l,moving:r,resetTranslate(){l.value=[0,0]}}}const Kn=j({name:"IconZoomOut",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=E("icon"),i=g(()=>[n,`${n}-zoom-out`,{[`${n}-spin`]:e.spin}]),l=g(()=>{const o={};return e.size&&(o.fontSize=ee(e.size)?`${e.size}px`:e.size),e.rotate&&(o.transform=`rotate(${e.rotate}deg)`),o});return{cls:i,innerStyle:l,onClick:o=>{t("click",o)}}}}),Gn=["stroke-width","stroke-linecap","stroke-linejoin"],Xn=w("path",{d:"M32.607 32.607A14.953 14.953 0 0 0 37 22c0-8.284-6.716-15-15-15-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15 4.142 0 7.892-1.679 10.607-4.393Zm0 0L41.5 41.5M29 22H15"},null,-1),Yn=[Xn];function Jn(e,t,n,i,l,r){return P(),B("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:V(e.cls),style:G(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...o)=>e.onClick&&e.onClick(...o))},Yn,14,Gn)}var Me=q(Kn,[["render",Jn]]);const Qn=Object.assign(Me,{install:(e,t)=>{var n;const i=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(i+Me.name,Me)}}),el=j({name:"IconZoomIn",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=E("icon"),i=g(()=>[n,`${n}-zoom-in`,{[`${n}-spin`]:e.spin}]),l=g(()=>{const o={};return e.size&&(o.fontSize=ee(e.size)?`${e.size}px`:e.size),e.rotate&&(o.transform=`rotate(${e.rotate}deg)`),o});return{cls:i,innerStyle:l,onClick:o=>{t("click",o)}}}}),tl=["stroke-width","stroke-linecap","stroke-linejoin"],nl=w("path",{d:"M32.607 32.607A14.953 14.953 0 0 0 37 22c0-8.284-6.716-15-15-15-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15 4.142 0 7.892-1.679 10.607-4.393Zm0 0L41.5 41.5M29 22H15m7 7V15"},null,-1),ll=[nl];function ol(e,t,n,i,l,r){return P(),B("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:V(e.cls),style:G(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...o)=>e.onClick&&e.onClick(...o))},ll,14,tl)}var Ae=q(el,[["render",ol]]);const il=Object.assign(Ae,{install:(e,t)=>{var n;const i=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(i+Ae.name,Ae)}}),rl=j({name:"IconFullscreen",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=E("icon"),i=g(()=>[n,`${n}-fullscreen`,{[`${n}-spin`]:e.spin}]),l=g(()=>{const o={};return e.size&&(o.fontSize=ee(e.size)?`${e.size}px`:e.size),e.rotate&&(o.transform=`rotate(${e.rotate}deg)`),o});return{cls:i,innerStyle:l,onClick:o=>{t("click",o)}}}}),al=["stroke-width","stroke-linecap","stroke-linejoin"],sl=w("path",{d:"M42 17V9a1 1 0 0 0-1-1h-8M6 17V9a1 1 0 0 1 1-1h8m27 23v8a1 1 0 0 1-1 1h-8M6 31v8a1 1 0 0 0 1 1h8"},null,-1),ul=[sl];function cl(e,t,n,i,l,r){return P(),B("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:V(e.cls),style:G(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...o)=>e.onClick&&e.onClick(...o))},ul,14,al)}var Te=q(rl,[["render",cl]]);const dl=Object.assign(Te,{install:(e,t)=>{var n;const i=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(i+Te.name,Te)}}),fl=j({name:"IconRotateLeft",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=E("icon"),i=g(()=>[n,`${n}-rotate-left`,{[`${n}-spin`]:e.spin}]),l=g(()=>{const o={};return e.size&&(o.fontSize=ee(e.size)?`${e.size}px`:e.size),e.rotate&&(o.transform=`rotate(${e.rotate}deg)`),o});return{cls:i,innerStyle:l,onClick:o=>{t("click",o)}}}}),vl=["stroke-width","stroke-linecap","stroke-linejoin"],ml=w("path",{d:"M10 22a1 1 0 0 1 1-1h20a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H11a1 1 0 0 1-1-1V22ZM23 11h11a6 6 0 0 1 6 6v6M22.5 12.893 19.587 11 22.5 9.107v3.786Z"},null,-1),pl=[ml];function gl(e,t,n,i,l,r){return P(),B("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:V(e.cls),style:G(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...o)=>e.onClick&&e.onClick(...o))},pl,14,vl)}var Ve=q(fl,[["render",gl]]);const yl=Object.assign(Ve,{install:(e,t)=>{var n;const i=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(i+Ve.name,Ve)}}),kl=j({name:"IconRotateRight",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=E("icon"),i=g(()=>[n,`${n}-rotate-right`,{[`${n}-spin`]:e.spin}]),l=g(()=>{const o={};return e.size&&(o.fontSize=ee(e.size)?`${e.size}px`:e.size),e.rotate&&(o.transform=`rotate(${e.rotate}deg)`),o});return{cls:i,innerStyle:l,onClick:o=>{t("click",o)}}}}),hl=["stroke-width","stroke-linecap","stroke-linejoin"],bl=w("path",{d:"M38 22a1 1 0 0 0-1-1H17a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h20a1 1 0 0 0 1-1V22ZM25 11H14a6 6 0 0 0-6 6v6M25.5 12.893 28.413 11 25.5 9.107v3.786Z"},null,-1),$l=[bl];function wl(e,t,n,i,l,r){return P(),B("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:V(e.cls),style:G(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...o)=>e.onClick&&e.onClick(...o))},$l,14,hl)}var Ee=q(kl,[["render",wl]]);const _l=Object.assign(Ee,{install:(e,t)=>{var n;const i=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(i+Ee.name,Ee)}}),Cl=j({name:"IconOriginalSize",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=E("icon"),i=g(()=>[n,`${n}-original-size`,{[`${n}-spin`]:e.spin}]),l=g(()=>{const o={};return e.size&&(o.fontSize=ee(e.size)?`${e.size}px`:e.size),e.rotate&&(o.transform=`rotate(${e.rotate}deg)`),o});return{cls:i,innerStyle:l,onClick:o=>{t("click",o)}}}}),Sl=["stroke-width","stroke-linecap","stroke-linejoin"],Il=w("path",{d:"m5.5 11.5 5-2.5h1v32M34 11.5 39 9h1v32"},null,-1),Pl=w("path",{d:"M24 17h1v1h-1v-1ZM24 30h1v1h-1v-1Z",fill:"currentColor",stroke:"none"},null,-1),Ll=w("path",{d:"M24 17h1v1h-1v-1ZM24 30h1v1h-1v-1Z"},null,-1),zl=[Il,Pl,Ll];function Bl(e,t,n,i,l,r){return P(),B("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:V(e.cls),style:G(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...o)=>e.onClick&&e.onClick(...o))},zl,14,Sl)}var De=q(Cl,[["render",Bl]]);const jl=Object.assign(De,{install:(e,t)=>{var n;const i=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(i+De.name,De)}});function Ol(e){const{container:t,hidden:n}=ue(e);let i=!1,l={};const r=s=>s.tagName==="BODY"?window.innerWidth-(document.body.clientWidth||document.documentElement.clientWidth):s.offsetWidth-s.clientWidth,o=()=>{if(t.value&&t.value.style.overflow!=="hidden"){const s=t.value.style;i=!0;const y=r(t.value);y&&(l.width=s.width,t.value.style.width=`calc(${t.value.style.width||"100%"} - ${y}px)`),l.overflow=s.overflow,t.value.style.overflow="hidden"}},d=()=>{if(t.value&&i){const s=l;Object.keys(s).forEach(y=>{t.value.style[y]=s[y]})}i=!1,l={}};return Lt(s=>{n.value?o():d(),s(()=>{d()})}),[d,o]}function Fl(e,t){const{popupContainer:n}=ue(t);return g(()=>(Rt(n.value)?gn(n.value):n.value)||e)}const ie=[25,33,50,67,75,80,90,100,110,125,150,175,200,250,300,400,500].map(e=>+(e/100).toFixed(2)),jt=ie[0],Ot=ie[ie.length-1];function Nl(e=1,t="zoomIn"){let n=ie.indexOf(e);return n===-1&&(n=Al(e)),t==="zoomIn"?n===ie.length-1?e:ie[n+1]:n===0?e:ie[n-1]}function Ml(e,t=1.1,n="zoomIn"){const i=n==="zoomIn"?t:1/t,l=Number.parseFloat((e*i).toFixed(3));return Math.min(Ot,Math.max(jt,l))}function Al(e){let t=ie.length-1;for(let n=0;n<ie.length;n++){const i=ie[n];if(e===i){t=n;break}if(e<i){const l=ie[n-1];t=l===void 0||Math.abs(l-e)<=Math.abs(i-e)?n-1:n;break}}return t}var Tl=Object.defineProperty,ft=Object.getOwnPropertySymbols,Vl=Object.prototype.hasOwnProperty,El=Object.prototype.propertyIsEnumerable,vt=(e,t,n)=>t in e?Tl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Dl=(e,t)=>{for(var n in t||(t={}))Vl.call(t,n)&&vt(e,n,t[n]);if(ft)for(var n of ft(t))El.call(t,n)&&vt(e,n,t[n]);return e};const Re=90;var Rl=j({name:"ImagePreview",components:{PreviewArrow:En,PreviewToolbar:Wn,IconLoading:Ut,IconClose:yn},props:{renderToBody:{type:Boolean,default:!0},src:{type:String},visible:{type:Boolean,default:void 0},defaultVisible:{type:Boolean,default:!1},maskClosable:{type:Boolean,default:!0},closable:{type:Boolean,default:!0},actionsLayout:{type:Array,default:()=>["fullScreen","rotateRight","rotateLeft","zoomIn","zoomOut","originalSize"]},popupContainer:{type:[Object,String]},inGroup:{type:Boolean,default:!1},groupArrowProps:{type:Object,default:()=>({})},escToClose:{type:Boolean,default:!0},wheelZoom:{type:Boolean,default:!0},keyboard:{type:Boolean,default:!0},defaultScale:{type:Number,default:1},zoomRate:{type:Number,default:1.1}},emits:["close","update:visible"],setup(e,{emit:t}){const{t:n}=Pe(),{src:i,popupContainer:l,visible:r,defaultVisible:o,maskClosable:d,actionsLayout:s,defaultScale:y,zoomRate:c}=ue(e),u=R(),m=R(),k=E("image-preview"),[p,L]=tt(o.value,Q({value:r})),_=g(()=>[k,{[`${k}-hide`]:!p.value}]),h=Fl(document.body,Q({popupContainer:l})),I=g(()=>h.value===document.body),{zIndex:C}=kn("dialog",{visible:p}),X=g(()=>{const z=I.value?{zIndex:C.value,position:"fixed"}:{zIndex:"inherit",position:"absolute"};return Dl({},z)}),{isLoading:Z,isLoaded:A,setLoadStatus:H}=qn(),x=R(0),f=R(y.value),{translate:v,moving:$,resetTranslate:O}=Hn(Q({wrapperEl:u,imageEl:m,visible:p,scale:f})),F=R(!1);let D=null;const N=()=>{!F.value&&(F.value=!0),D&&clearTimeout(D),D=setTimeout(()=>{F.value=!1},1e3)};Ol(Q({container:h,hidden:p}));function W(){x.value=0,f.value=y.value,O()}const J=z=>s.value.includes(z),te=z=>{switch(z.stopPropagation(),z.preventDefault(),z.key){case pe.ESC:e.escToClose&&_e();break;case pe.ARROW_LEFT:e.groupArrowProps.onPrev&&e.groupArrowProps.onPrev();break;case pe.ARROW_RIGHT:e.groupArrowProps.onNext&&e.groupArrowProps.onNext();break;case pe.ARROW_UP:J("zoomIn")&&ne("zoomIn");break;case pe.ARROW_DOWN:J("zoomOut")&&ne("zoomOut");break;case pe.SPACE:J("originalSize")&&S(1);break}},ke=Ht(z=>{if(z.preventDefault(),z.stopPropagation(),!e.wheelZoom)return;const T=(z.deltaY||z.deltaX)>0?"zoomOut":"zoomIn",le=Ml(f.value,c.value,T);S(le)});let ve=!1;const Be=()=>{zt(()=>{var z;(z=u==null?void 0:u.value)==null||z.focus()}),e.keyboard&&!ve&&(ve=!0,Se(h.value,"keydown",te))},me=()=>{ve&&(ve=!1,Ie(h.value,"keydown",te))};ye([i,p],()=>{p.value?(W(),H("loading"),Be()):me()});function _e(){p.value&&(t("close"),t("update:visible",!1),L(!1))}function b(z){var K;(K=u==null?void 0:u.value)==null||K.focus(),d.value&&z.target===z.currentTarget&&_e()}function S(z){f.value!==z&&(f.value=z,N())}function U(){const z=u.value.getBoundingClientRect(),K=m.value.getBoundingClientRect(),T=z.height/(K.height/f.value),le=z.width/(K.width/f.value),Tt=Math.max(T,le);S(Tt)}function Y(z){const T=z==="clockwise"?(x.value+Re)%360:x.value===0?360-Re:x.value-Re;x.value=T}function ne(z){const K=Nl(f.value,z);S(K)}return Pt(()=>{me()}),{prefixCls:k,classNames:_,container:h,wrapperStyles:X,scale:f,translate:v,rotate:x,moving:$,mergedVisible:p,isLoading:Z,isLoaded:A,scaleValueVisible:F,refWrapper:u,refImage:m,onWheel:ke,onMaskClick:b,onCloseClick:_e,onImgLoad(){H("loaded")},onImgError(){H("error")},actions:g(()=>[{key:"fullScreen",name:n("imagePreview.fullScreen"),content:()=>ge(dl),onClick:()=>U()},{key:"rotateRight",name:n("imagePreview.rotateRight"),content:()=>ge(_l),onClick:()=>Y("clockwise")},{key:"rotateLeft",name:n("imagePreview.rotateLeft"),content:()=>ge(yl),onClick:()=>Y("counterclockwise")},{key:"zoomIn",name:n("imagePreview.zoomIn"),content:()=>ge(il),onClick:()=>ne("zoomIn"),disabled:f.value===Ot},{key:"zoomOut",name:n("imagePreview.zoomOut"),content:()=>ge(Qn),onClick:()=>ne("zoomOut"),disabled:f.value===jt},{key:"originalSize",name:n("imagePreview.originalSize"),content:()=>ge(jl),onClick:()=>S(1)}])}}});const Ul=["src"];function xl(e,t,n,i,l,r){const o=ae("IconLoading"),d=ae("PreviewToolbar"),s=ae("IconClose"),y=ae("PreviewArrow");return P(),be(un,{to:e.container,disabled:!e.renderToBody},[w("div",{class:V(e.classNames),style:G(e.wrapperStyles)},[a(it,{name:"image-fade",onBeforeEnter:t[0]||(t[0]=c=>c.parentElement&&(c.parentElement.style.display="block")),onAfterLeave:t[1]||(t[1]=c=>c.parentElement&&(c.parentElement.style.display=""))},{default:ce(()=>[ln(w("div",{class:V(`${e.prefixCls}-mask`)},null,2),[[on,e.mergedVisible]])]),_:1}),e.mergedVisible?(P(),B("div",{key:0,ref:"refWrapper",tabindex:"0",class:V(`${e.prefixCls}-wrapper`),onClick:t[6]||(t[6]=(...c)=>e.onMaskClick&&e.onMaskClick(...c)),onWheel:t[7]||(t[7]=sn((...c)=>e.onWheel&&e.onWheel(...c),["prevent","stop"]))},[oe(" img "),w("div",{class:V(`${e.prefixCls}-img-container`),style:G({transform:`scale(${e.scale}, ${e.scale})`}),onClick:t[4]||(t[4]=(...c)=>e.onMaskClick&&e.onMaskClick(...c))},[(P(),B("img",{ref:"refImage",key:e.src,src:e.src,class:V([`${e.prefixCls}-img`,{[`${e.prefixCls}-img-moving`]:e.moving}]),style:G({transform:`translate(${e.translate[0]}px, ${e.translate[1]}px) rotate(${e.rotate}deg)`}),onLoad:t[2]||(t[2]=(...c)=>e.onImgLoad&&e.onImgLoad(...c)),onError:t[3]||(t[3]=(...c)=>e.onImgError&&e.onImgError(...c))},null,46,Ul))],6),oe(" loading "),e.isLoading?(P(),B("div",{key:0,class:V(`${e.prefixCls}-loading`)},[a(o)],2)):oe("v-if",!0),oe(" scale value "),a(it,{name:"image-fade"},{default:ce(()=>[e.scaleValueVisible?(P(),B("div",{key:0,class:V(`${e.prefixCls}-scale-value`)},rn((e.scale*100).toFixed(0))+"% ",3)):oe("v-if",!0)]),_:1}),oe(" toolbar "),e.isLoaded&&e.actionsLayout.length?(P(),be(d,{key:1,actions:e.actions,"actions-layout":e.actionsLayout},{default:ce(()=>[we(e.$slots,"actions")]),_:3},8,["actions","actions-layout"])):oe("v-if",!0),oe(" close btn "),e.closable?(P(),B("div",{key:2,class:V(`${e.prefixCls}-close-btn`),onClick:t[5]||(t[5]=(...c)=>e.onCloseClick&&e.onCloseClick(...c))},[a(s)],2)):oe("v-if",!0),oe(" group arrow "),e.inGroup?(P(),be(y,an(fe({key:3},e.groupArrowProps)),null,16)):oe("v-if",!0)],34)):oe("v-if",!0)],6)],8,["to","disabled"])}var Wl=q(Rl,[["render",xl]]);const ql=Symbol("PreviewGroupInjectionKey");var Zl=j({name:"ImagePreviewGroup",components:{ImagePreview:Wl},inheritAttrs:!1,props:{renderToBody:{type:Boolean,default:!0},srcList:{type:Array},current:{type:Number},defaultCurrent:{type:Number,default:0},infinite:{type:Boolean,default:!1},visible:{type:Boolean,default:void 0},defaultVisible:{type:Boolean,default:!1},maskClosable:{type:Boolean,default:!0},closable:{type:Boolean,default:!0},actionsLayout:{type:Array,default:()=>["fullScreen","rotateRight","rotateLeft","zoomIn","zoomOut","originalSize"]},popupContainer:{type:[Object,String]}},emits:["change","update:current","visible-change","update:visible"],setup(e,{emit:t}){const{srcList:n,visible:i,defaultVisible:l,current:r,defaultCurrent:o,infinite:d}=ue(e),[s,y]=tt(l.value,Q({value:i})),c=v=>{v!==s.value&&(t("visible-change",v),t("update:visible",v),y(v))},u=g(()=>new Map(Ct(n==null?void 0:n.value)?n==null?void 0:n.value.map((v,$)=>[$,{url:v,canPreview:!0}]):[])),m=R(new Map(u.value||[])),k=g(()=>Array.from(m.value.keys())),p=g(()=>k.value.length);function L(v,$,O){return u.value.has(v)||m.value.set(v,{url:$,canPreview:O}),function(){u.value.has(v)||m.value.delete(v)}}ye(u,()=>{m.value=new Map(u.value||[])});const[_,h]=tt(o.value,Q({value:r})),I=v=>{v!==_.value&&(t("change",v),t("update:current",v),h(v))},C=g(()=>k.value[_.value]),X=v=>{const $=k.value.indexOf(v);$!==_.value&&I($)},Z=g(()=>{var v;return(v=m.value.get(C.value))==null?void 0:v.url});lt(ql,Q({registerImageUrl:L,preview:v=>{c(!0),X(v)}}));const A=g(()=>{const v=(O,F)=>{var D;for(let N=O;N<=F;N++){const W=k.value[N];if((D=m.value.get(W))!=null&&D.canPreview)return N}},$=v(_.value+1,p.value-1);return de($)&&d.value?v(0,_.value-1):$}),H=g(()=>{const v=(O,F)=>{var D;for(let N=O;N>=F;N--){const W=k.value[N];if((D=m.value.get(W))!=null&&D.canPreview)return N}},$=v(_.value-1,0);return de($)&&d.value?v(p.value-1,_.value+1):$}),x=g(()=>de(H.value)?void 0:()=>{!de(H.value)&&I(H.value)}),f=g(()=>de(A.value)?void 0:()=>{!de(A.value)&&I(A.value)});return{mergedVisible:s,currentUrl:Z,prevIndex:H,nextIndex:A,onClose(){c(!1)},groupArrowProps:Q({onPrev:x,onNext:f})}}}),Hl=Object.defineProperty,Kl=Object.defineProperties,Gl=Object.getOwnPropertyDescriptors,mt=Object.getOwnPropertySymbols,Xl=Object.prototype.hasOwnProperty,Yl=Object.prototype.propertyIsEnumerable,pt=(e,t,n)=>t in e?Hl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Jl=(e,t)=>{for(var n in t||(t={}))Xl.call(t,n)&&pt(e,n,t[n]);if(mt)for(var n of mt(t))Yl.call(t,n)&&pt(e,n,t[n]);return e},Ql=(e,t)=>Kl(e,Gl(t));function eo(e,t,n,i,l,r){const o=ae("ImagePreview");return P(),B(se,null,[we(e.$slots,"default"),a(o,fe(Ql(Jl({},e.$attrs),{groupArrowProps:e.groupArrowProps}),{"in-group":"",src:e.currentUrl,visible:e.mergedVisible,"mask-closable":e.maskClosable,closable:e.closable,"actions-layout":e.actionsLayout,"popup-container":e.popupContainer,"render-to-body":e.renderToBody,onClose:e.onClose}),cn({_:2},[e.$slots.actions?{name:"actions",fn:ce(()=>[we(e.$slots,"actions",{url:e.currentUrl})])}:void 0]),1040,["src","visible","mask-closable","closable","actions-layout","popup-container","render-to-body","onClose"])],64)}var to=q(Zl,[["render",eo]]);const no=j({name:"IconDelete",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=E("icon"),i=g(()=>[n,`${n}-delete`,{[`${n}-spin`]:e.spin}]),l=g(()=>{const o={};return e.size&&(o.fontSize=ee(e.size)?`${e.size}px`:e.size),e.rotate&&(o.transform=`rotate(${e.rotate}deg)`),o});return{cls:i,innerStyle:l,onClick:o=>{t("click",o)}}}}),lo=["stroke-width","stroke-linecap","stroke-linejoin"],oo=w("path",{d:"M5 11h5.5m0 0v29a1 1 0 0 0 1 1h25a1 1 0 0 0 1-1V11m-27 0H16m21.5 0H43m-5.5 0H32m-16 0V7h16v4m-16 0h16M20 18v15m8-15v15"},null,-1),io=[oo];function ro(e,t,n,i,l,r){return P(),B("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:V(e.cls),style:G(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...o)=>e.onClick&&e.onClick(...o))},io,14,lo)}var Ue=q(no,[["render",ro]]);const Ft=Object.assign(Ue,{install:(e,t)=>{var n;const i=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(i+Ue.name,Ue)}}),ao=j({name:"IconFile",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=E("icon"),i=g(()=>[n,`${n}-file`,{[`${n}-spin`]:e.spin}]),l=g(()=>{const o={};return e.size&&(o.fontSize=ee(e.size)?`${e.size}px`:e.size),e.rotate&&(o.transform=`rotate(${e.rotate}deg)`),o});return{cls:i,innerStyle:l,onClick:o=>{t("click",o)}}}}),so=["stroke-width","stroke-linecap","stroke-linejoin"],uo=w("path",{d:"M16 21h16m-16 8h10m11 13H11a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h21l7 7v27a2 2 0 0 1-2 2Z"},null,-1),co=[uo];function fo(e,t,n,i,l,r){return P(),B("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:V(e.cls),style:G(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...o)=>e.onClick&&e.onClick(...o))},co,14,so)}var xe=q(ao,[["render",fo]]);const vo=Object.assign(xe,{install:(e,t)=>{var n;const i=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(i+xe.name,xe)}}),gt=e=>{const t=e.responseText||e.response;if(!t)return;const n=e.getResponseHeader("Content-Type");if(n&&n.includes("json"))try{return JSON.parse(t)}catch{return t}return t},mo=e=>{switch(e){case"done":return"success";case"error":return"danger";default:return"normal"}},yt=(e,t)=>re(e)?e(t):e,po=({fileItem:e,action:t,name:n,data:i,headers:l={},withCredentials:r=!1,onProgress:o=je,onSuccess:d=je,onError:s=je})=>{const y=yt(n,e)||"file",c=yt(i,e),u=new XMLHttpRequest;r&&(u.withCredentials=!0),u.upload.onprogress=k=>{const p=k.total>0?Kt.round(k.loaded/k.total,2):0;o(p,k)},u.onerror=function(p){s(p)},u.onload=()=>{if(u.status<200||u.status>=300){s(gt(u));return}d(gt(u))};const m=new FormData;if(c)for(const k of Object.keys(c))m.append(k,c[k]);e.file&&m.append(y,e.file),u.open("post",t!=null?t:"",!0);for(const k of Object.keys(l))u.setRequestHeader(k,l[k]);return u.send(m),{abort(){u.abort()}}},Nt=(e,t)=>{if(t&&e){const n=Ct(t)?t:t.split(",").map(l=>l.trim()).filter(l=>l),i=(e.name.indexOf(".")>-1?`.${e.name.split(".").pop()}`:"").toLowerCase();return n.some(l=>{const r=l&&l.toLowerCase(),o=(e.type||"").toLowerCase(),d=o.split("/")[0];if(r===o||`${d}${i.replace(".","/")}`===r||/^\*(\/\*)?$/.test(r))return!0;if(/\/\*/.test(r))return o.replace(/\/.*$/,"")===r.replace(/\/.*$/,"");if(/\..*/.test(r)){let s=[r];return(r===".jpg"||r===".jpeg")&&(s=[".jpg",".jpeg"]),s.indexOf(i)>-1}return!1})}return!!e},go=(e,t,n)=>{const i=[];let l=0;const r=()=>{!l&&n(i)},o=d=>{if(l+=1,d!=null&&d.isFile){d.file(s=>{l-=1,Nt(s,t)&&(Object.defineProperty(s,"webkitRelativePath",{value:d.fullPath.replace(/^\//,"")}),i.push(s)),r()});return}if(d!=null&&d.isDirectory){const s=d.createReader();let y=!1;const c=()=>{s.readEntries(u=>{y||(l-=1,y=!0),u.length===0?r():(c(),u.forEach(o))})};c();return}l-=1,r()};[].slice.call(e).forEach(d=>d.webkitGetAsEntry&&o(d.webkitGetAsEntry()))},yo=e=>{var t;return(t=e.type)==null?void 0:t.includes("image")},We=(e,t)=>{if(!e)return[];const n=Array.from(e);return t?n.filter(i=>Nt(i,t)):n},ko=j({name:"IconUpload",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=E("icon"),i=g(()=>[n,`${n}-upload`,{[`${n}-spin`]:e.spin}]),l=g(()=>{const o={};return e.size&&(o.fontSize=ee(e.size)?`${e.size}px`:e.size),e.rotate&&(o.transform=`rotate(${e.rotate}deg)`),o});return{cls:i,innerStyle:l,onClick:o=>{t("click",o)}}}}),ho=["stroke-width","stroke-linecap","stroke-linejoin"],bo=w("path",{d:"M14.93 17.071 24.001 8l9.071 9.071m-9.07 16.071v-25M40 35v6H8v-6"},null,-1),$o=[bo];function wo(e,t,n,i,l,r){return P(),B("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:V(e.cls),style:G(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...o)=>e.onClick&&e.onClick(...o))},$o,14,ho)}var qe=q(ko,[["render",wo]]);const ot=Object.assign(qe,{install:(e,t)=>{var n;const i=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(i+qe.name,qe)}});var _o=j({name:"UploadButton",props:{disabled:{type:Boolean,default:!1},directory:{type:Boolean,default:!1},accept:String,listType:{type:String},tip:String,draggable:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},uploadFiles:{type:Function,required:!0},hide:Boolean,onButtonClick:{type:Function}},setup(e,{slots:t}){const n=E("upload"),{t:i}=Pe(),l=R(!1),r=R(null),o=R(null),d=R(0),s=_=>{_==="subtract"?d.value-=1:_==="add"?d.value+=1:_==="reset"&&(d.value=0)},y=_=>{if(!e.disabled){if(re(e.onButtonClick)){const h=e.onButtonClick(_);if(xt(h)){h.then(I=>{e.uploadFiles(We(I))});return}}r.value&&r.value.click()}},c=_=>{const h=_.target;h.files&&e.uploadFiles(We(h.files)),h.value=""},u=_=>{var h,I;if(_.preventDefault(),l.value=!1,s("reset"),!e.disabled)if(e.directory&&((h=_.dataTransfer)==null?void 0:h.items))go(_.dataTransfer.items,e.accept,C=>{e.uploadFiles(C)});else{const C=We((I=_.dataTransfer)==null?void 0:I.files,e.accept);e.uploadFiles(e.multiple?C:C.slice(0,1))}},m=_=>{_.preventDefault(),s("subtract"),d.value===0&&(l.value=!1,s("reset"))},k=_=>{_.preventDefault(),!e.disabled&&!l.value&&(l.value=!0)},p=()=>t.default?a("span",null,[t.default()]):e.listType==="picture-card"?a("div",{class:`${n}-picture-card`},[a("div",{class:`${n}-picture-card-text`},[a(at,null,null)]),e.tip&&a("div",{class:`${n}-tip`},[e.tip])]):e.draggable?a("div",{class:[`${n}-drag`,{[`${n}-drag-active`]:l.value}]},[a("div",null,[a(at,null,null)]),a("div",{class:`${n}-drag-text`},[l.value?i("upload.dragHover"):i("upload.drag")]),e.tip&&a("div",{class:`${n}-tip`},[e.tip])]):a(St,{type:"primary",disabled:e.disabled},{default:()=>[i("upload.buttonText")],icon:()=>a(ot,null,null)}),L=g(()=>[n,{[`${n}-type-picture-card`]:e.listType==="picture-card",[`${n}-draggable`]:e.draggable,[`${n}-disabled`]:e.disabled,[`${n}-hide`]:e.hide}]);return()=>a("span",{ref:o,class:L.value,onClick:y,onDragenter:()=>{s("add")},onDrop:u,onDragover:k,onDragleave:m},[a("input",fe({ref:r,type:"file",style:{display:"none"},disabled:e.disabled,accept:e.accept,multiple:e.multiple},e.directory?{webkitdirectory:"webkitdirectory"}:{},{onChange:c}),null),p()])}});const Co=j({name:"IconPause",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=E("icon"),i=g(()=>[n,`${n}-pause`,{[`${n}-spin`]:e.spin}]),l=g(()=>{const o={};return e.size&&(o.fontSize=ee(e.size)?`${e.size}px`:e.size),e.rotate&&(o.transform=`rotate(${e.rotate}deg)`),o});return{cls:i,innerStyle:l,onClick:o=>{t("click",o)}}}}),So=["stroke-width","stroke-linecap","stroke-linejoin"],Io=w("path",{d:"M14 12h4v24h-4zM30 12h4v24h-4z"},null,-1),Po=w("path",{fill:"currentColor",stroke:"none",d:"M14 12h4v24h-4zM30 12h4v24h-4z"},null,-1),Lo=[Io,Po];function zo(e,t,n,i,l,r){return P(),B("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:V(e.cls),style:G(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...o)=>e.onClick&&e.onClick(...o))},Lo,14,So)}var Ze=q(Co,[["render",zo]]);const Bo=Object.assign(Ze,{install:(e,t)=>{var n;const i=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(i+Ze.name,Ze)}}),jo=j({name:"IconPlayArrowFill",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=E("icon"),i=g(()=>[n,`${n}-play-arrow-fill`,{[`${n}-spin`]:e.spin}]),l=g(()=>{const o={};return e.size&&(o.fontSize=ee(e.size)?`${e.size}px`:e.size),e.rotate&&(o.transform=`rotate(${e.rotate}deg)`),o});return{cls:i,innerStyle:l,onClick:o=>{t("click",o)}}}}),Oo=["stroke-width","stroke-linecap","stroke-linejoin"],Fo=w("path",{d:"M17.533 10.974a1 1 0 0 0-1.537.844v24.356a1 1 0 0 0 1.537.844L36.67 24.84a1 1 0 0 0 0-1.688L17.533 10.974Z",fill:"currentColor",stroke:"none"},null,-1),No=[Fo];function Mo(e,t,n,i,l,r){return P(),B("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:V(e.cls),style:G(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...o)=>e.onClick&&e.onClick(...o))},No,14,Oo)}var He=q(jo,[["render",Mo]]);const Ao=Object.assign(He,{install:(e,t)=>{var n;const i=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(i+He.name,He)}}),ze=Symbol("ArcoUpload");var Mt=j({name:"UploadProgress",props:{file:{type:Object,required:!0},listType:{type:String,required:!0}},setup(e){const t=E("upload-progress"),{t:n}=Pe(),i=Le(ze,void 0),l=()=>{var o,d,s,y,c,u,m,k,p,L,_;return e.file.status==="error"?a("span",{class:[i==null?void 0:i.iconCls,`${i==null?void 0:i.iconCls}-upload`],onClick:()=>i==null?void 0:i.onUpload(e.file)},[(i==null?void 0:i.showRetryButton)&&((c=(d=i==null?void 0:(o=i.slots)["retry-icon"])==null?void 0:d.call(o))!=null?c:(y=(s=i==null?void 0:i.customIcon)==null?void 0:s.retryIcon)==null?void 0:y.call(s))||e.listType==="picture-card"?a(ot,null,null):n("upload.retry")]):e.file.status==="done"?a("span",{class:[i==null?void 0:i.iconCls,`${i==null?void 0:i.iconCls}-success`]},[(_=(L=(m=i==null?void 0:(u=i.slots)["success-icon"])==null?void 0:m.call(u))!=null?L:(p=(k=i==null?void 0:i.customIcon)==null?void 0:k.successIcon)==null?void 0:p.call(k))!=null?_:a(Gt,null,null)]):e.file.status==="init"?a($e,{content:n("upload.start")},{default:()=>{var h,I,C,X,Z,A;return[a("span",{class:[i==null?void 0:i.iconCls,`${i==null?void 0:i.iconCls}-start`],onClick:()=>i==null?void 0:i.onUpload(e.file)},[(A=(Z=(I=i==null?void 0:(h=i.slots)["start-icon"])==null?void 0:I.call(h))!=null?Z:(X=(C=i==null?void 0:i.customIcon)==null?void 0:C.startIcon)==null?void 0:X.call(C))!=null?A:a(Ao,null,null)])]}}):(i==null?void 0:i.showCancelButton)&&a($e,{content:n("upload.cancel")},{default:()=>{var h,I,C,X,Z,A;return[a("span",{class:[i==null?void 0:i.iconCls,`${i==null?void 0:i.iconCls}-cancel`],onClick:()=>i==null?void 0:i.onAbort(e.file)},[(A=(Z=(I=i==null?void 0:(h=i.slots)["cancel-icon"])==null?void 0:I.call(h))!=null?Z:(X=(C=i==null?void 0:i.customIcon)==null?void 0:C.cancelIcon)==null?void 0:X.call(C))!=null?A:a(Bo,null,null)])]}})},r=()=>{var o;if(["init","uploading"].includes((o=e.file.status)!=null?o:"")){const d=mo(e.file.status);return a(Xt,{type:"circle",size:"mini",showText:!1,status:d,percent:e.file.percent},null)}return null};return()=>a("span",{class:t},[r(),l()])}});const To=j({name:"IconFilePdf",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=E("icon"),i=g(()=>[n,`${n}-file-pdf`,{[`${n}-spin`]:e.spin}]),l=g(()=>{const o={};return e.size&&(o.fontSize=ee(e.size)?`${e.size}px`:e.size),e.rotate&&(o.transform=`rotate(${e.rotate}deg)`),o});return{cls:i,innerStyle:l,onClick:o=>{t("click",o)}}}}),Vo=["stroke-width","stroke-linecap","stroke-linejoin"],Eo=w("path",{d:"M11 42h26a2 2 0 0 0 2-2V13.828a2 2 0 0 0-.586-1.414l-5.828-5.828A2 2 0 0 0 31.172 6H11a2 2 0 0 0-2 2v32a2 2 0 0 0 2 2Z"},null,-1),Do=w("path",{d:"M22.305 21.028c.874 1.939 3.506 6.265 4.903 8.055 1.747 2.237 3.494 2.685 4.368 2.237.873-.447 1.21-4.548-7.425-2.685-7.523 1.623-7.424 3.58-6.988 4.476.728 1.193 2.522 2.627 5.678-6.266C25.699 18.79 24.489 17 23.277 17c-1.409 0-2.538.805-.972 4.028Z"},null,-1),Ro=[Eo,Do];function Uo(e,t,n,i,l,r){return P(),B("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:V(e.cls),style:G(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...o)=>e.onClick&&e.onClick(...o))},Ro,14,Vo)}var Ke=q(To,[["render",Uo]]);const xo=Object.assign(Ke,{install:(e,t)=>{var n;const i=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(i+Ke.name,Ke)}}),Wo=j({name:"IconFileImage",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=E("icon"),i=g(()=>[n,`${n}-file-image`,{[`${n}-spin`]:e.spin}]),l=g(()=>{const o={};return e.size&&(o.fontSize=ee(e.size)?`${e.size}px`:e.size),e.rotate&&(o.transform=`rotate(${e.rotate}deg)`),o});return{cls:i,innerStyle:l,onClick:o=>{t("click",o)}}}}),qo=["stroke-width","stroke-linecap","stroke-linejoin"],Zo=w("path",{d:"m26 33 5-6v6h-5Zm0 0-3-4-4 4h7Zm11 9H11a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h21l7 7v27a2 2 0 0 1-2 2ZM17 19h1v1h-1v-1Z"},null,-1),Ho=[Zo];function Ko(e,t,n,i,l,r){return P(),B("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:V(e.cls),style:G(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...o)=>e.onClick&&e.onClick(...o))},Ho,14,qo)}var Ge=q(Wo,[["render",Ko]]);const Go=Object.assign(Ge,{install:(e,t)=>{var n;const i=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(i+Ge.name,Ge)}}),Xo=j({name:"IconFileVideo",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=E("icon"),i=g(()=>[n,`${n}-file-video`,{[`${n}-spin`]:e.spin}]),l=g(()=>{const o={};return e.size&&(o.fontSize=ee(e.size)?`${e.size}px`:e.size),e.rotate&&(o.transform=`rotate(${e.rotate}deg)`),o});return{cls:i,innerStyle:l,onClick:o=>{t("click",o)}}}}),Yo=["stroke-width","stroke-linecap","stroke-linejoin"],Jo=w("path",{d:"M37 42H11a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h21l7 7v27a2 2 0 0 1-2 2Z"},null,-1),Qo=w("path",{d:"M22 27.796v-6l5 3-5 3Z"},null,-1),ei=[Jo,Qo];function ti(e,t,n,i,l,r){return P(),B("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:V(e.cls),style:G(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...o)=>e.onClick&&e.onClick(...o))},ei,14,Yo)}var Xe=q(Xo,[["render",ti]]);const ni=Object.assign(Xe,{install:(e,t)=>{var n;const i=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(i+Xe.name,Xe)}}),li=j({name:"IconFileAudio",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=E("icon"),i=g(()=>[n,`${n}-file-audio`,{[`${n}-spin`]:e.spin}]),l=g(()=>{const o={};return e.size&&(o.fontSize=ee(e.size)?`${e.size}px`:e.size),e.rotate&&(o.transform=`rotate(${e.rotate}deg)`),o});return{cls:i,innerStyle:l,onClick:o=>{t("click",o)}}}}),oi=["stroke-width","stroke-linecap","stroke-linejoin"],ii=w("path",{d:"M37 42H11a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h21l7 7v27a2 2 0 0 1-2 2Z"},null,-1),ri=w("path",{d:"M25 30a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z",fill:"currentColor",stroke:"none"},null,-1),ai=w("path",{d:"M25 30a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm0 0-.951-12.363a.5.5 0 0 1 .58-.532L30 18"},null,-1),si=[ii,ri,ai];function ui(e,t,n,i,l,r){return P(),B("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:V(e.cls),style:G(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...o)=>e.onClick&&e.onClick(...o))},si,14,oi)}var Ye=q(li,[["render",ui]]);const ci=Object.assign(Ye,{install:(e,t)=>{var n;const i=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(i+Ye.name,Ye)}});var kt=j({name:"UploadListItem",props:{file:{type:Object,required:!0},listType:{type:String,required:!0}},setup(e){const n=`${E("upload-list")}-item`,{t:i}=Pe(),l=Le(ze,void 0),r=()=>{var o,d;let s="";if(e.file.file&&e.file.file.type)s=e.file.file.type;else{const y=(d=(o=e.file.name)==null?void 0:o.split(".")[1])!=null?d:"";["png","jpg","jpeg","bmp","gif","webp"].includes(y)?s="image":["mp4","m2v","mkv","m4v","mov"].includes(y)?s="video":["mp3","wav","wmv","m4a","acc","flac"].includes(y)&&(s="audio")}return s.includes("image")?a(Go,null,null):s.includes("pdf")?a(xo,null,null):s.includes("audio")?a(ci,null,null):s.includes("video")?a(ni,null,null):a(vo,null,null)};return()=>{var o,d,s,y,c,u,m,k,p,L,_,h,I,C,X,Z,A,H,x,f,v,$,O;return a("div",{class:[n,`${n}-${e.file.status}`]},[a("div",{class:`${n}-content`},[(l==null?void 0:l.listType)==="picture"&&a("span",{class:`${n}-thumbnail`},[(s=(d=l==null?void 0:(o=l.slots).image)==null?void 0:d.call(o,{fileItem:e.file}))!=null?s:a("img",fe({src:e.file.url,alt:e.file.name},l!=null&&l.imageLoading?{loading:l.imageLoading}:void 0),null)]),a("div",{class:`${n}-name`},[(l==null?void 0:l.listType)==="text"&&a("span",{class:`${n}-file-icon`},[(p=(k=(c=l==null?void 0:(y=l.slots)["file-icon"])==null?void 0:c.call(y,{fileItem:e.file}))!=null?k:(m=(u=l==null?void 0:l.customIcon)==null?void 0:u.fileIcon)==null?void 0:m.call(u,e.file))!=null?p:r()]),(l==null?void 0:l.showLink)&&e.file.url?a("a",fe({class:`${n}-name-link`,target:"_blank",href:e.file.url},l!=null&&l.download?{download:e.file.name}:void 0),[(X=(C=(_=l==null?void 0:(L=l.slots)["file-name"])==null?void 0:_.call(L,{fileItem:e.file}))!=null?C:(I=(h=l==null?void 0:l.customIcon)==null?void 0:h.fileName)==null?void 0:I.call(h,e.file))!=null?X:e.file.name]):a("span",{class:`${n}-name-text`,onClick:()=>l==null?void 0:l.onPreview(e.file)},[(v=(f=(A=l==null?void 0:(Z=l.slots)["file-name"])==null?void 0:A.call(Z,{fileItem:e.file}))!=null?f:(x=(H=l==null?void 0:l.customIcon)==null?void 0:H.fileName)==null?void 0:x.call(H,e.file))!=null?v:e.file.name]),e.file.status==="error"&&a($e,{content:i("upload.error")},{default:()=>{var F,D,N,W,J,te;return[a("span",{class:[l==null?void 0:l.iconCls,`${l==null?void 0:l.iconCls}-error`]},[(te=(J=(D=l==null?void 0:(F=l.slots)["error-icon"])==null?void 0:D.call(F))!=null?J:(W=(N=l==null?void 0:l.customIcon)==null?void 0:N.errorIcon)==null?void 0:W.call(N))!=null?te:a(hn,null,null)])]}})]),a(Mt,{file:e.file,listType:e.listType},null)]),(l==null?void 0:l.showRemoveButton)&&a("span",{class:`${n}-operation`},[a(bn,{onClick:()=>{var F;return(F=l==null?void 0:l.onRemove)==null?void 0:F.call(l,e.file)}},{default:()=>{var F,D,N,W,J,te;return[a("span",{class:[l==null?void 0:l.iconCls,`${l==null?void 0:l.iconCls}-remove`]},[(te=(J=(D=l==null?void 0:(F=l.slots)["remove-icon"])==null?void 0:D.call(F))!=null?J:(W=(N=l==null?void 0:l.customIcon)==null?void 0:N.removeIcon)==null?void 0:W.call(N))!=null?te:a(Ft,null,null)])]}})]),(O=l==null?void 0:($=l.slots)["extra-button"])==null?void 0:O.call($,{fileItem:e.file})])}}}),ht=j({name:"UploadPictureItem",props:{file:{type:Object,required:!0},disabled:{type:Boolean,default:!1}},setup(e){const n=`${E("upload-list")}-picture`,i=g(()=>[n,{[`${n}-status-error`]:e.file.status==="error"}]),l=Le(ze,void 0),r=()=>{var o,d,s,y,c,u,m,k,p,L,_,h,I,C,X,Z,A,H,x,f,v,$,O,F,D,N,W,J,te;return e.file.status==="uploading"?a(Mt,{file:e.file,listType:"picture-card"},null):a(se,null,[(s=(d=l==null?void 0:(o=l.slots).image)==null?void 0:d.call(o,{fileItem:e.file}))!=null?s:a("img",fe({src:e.file.url,alt:e.file.name},l!=null&&l.imageLoading?{loading:l.imageLoading}:void 0),null),a("div",{class:`${n}-mask`},[e.file.status==="error"&&(l==null?void 0:l.showCancelButton)&&a("div",{class:`${n}-error-tip`},[a("span",{class:[l==null?void 0:l.iconCls,`${l==null?void 0:l.iconCls}-error`]},[(p=(k=(c=l==null?void 0:(y=l.slots)["error-icon"])==null?void 0:c.call(y))!=null?k:(m=(u=l==null?void 0:l.customIcon)==null?void 0:u.errorIcon)==null?void 0:m.call(u))!=null?p:a(Bn,null,null)])]),a("div",{class:`${n}-operation`},[e.file.status!=="error"&&(l==null?void 0:l.showPreviewButton)&&a("span",{class:[l==null?void 0:l.iconCls,`${l==null?void 0:l.iconCls}-preview`],onClick:()=>l==null?void 0:l.onPreview(e.file)},[(X=(C=(_=l==null?void 0:(L=l.slots)["preview-icon"])==null?void 0:_.call(L))!=null?C:(I=(h=l==null?void 0:l.customIcon)==null?void 0:h.previewIcon)==null?void 0:I.call(h))!=null?X:a(mn,null,null)]),["init","error"].includes(e.file.status)&&(l==null?void 0:l.showRetryButton)&&a("span",{class:[l==null?void 0:l.iconCls,`${l==null?void 0:l.iconCls}-upload`],onClick:()=>l==null?void 0:l.onUpload(e.file)},[(v=(f=(A=l==null?void 0:(Z=l.slots)["retry-icon"])==null?void 0:A.call(Z))!=null?f:(x=(H=l==null?void 0:l.customIcon)==null?void 0:H.retryIcon)==null?void 0:x.call(H))!=null?v:a(ot,null,null)]),!(l!=null&&l.disabled)&&(l==null?void 0:l.showRemoveButton)&&a("span",{class:[l==null?void 0:l.iconCls,`${l==null?void 0:l.iconCls}-remove`],onClick:()=>l==null?void 0:l.onRemove(e.file)},[(W=(N=(O=l==null?void 0:($=l.slots)["remove-icon"])==null?void 0:O.call($))!=null?N:(D=(F=l==null?void 0:l.customIcon)==null?void 0:F.removeIcon)==null?void 0:D.call(F))!=null?W:a(Ft,null,null)]),(te=l==null?void 0:(J=l.slots)["extra-button"])==null?void 0:te.call(J,e.file)])])])};return()=>a("span",{class:i.value},[r()])}}),di=j({name:"UploadList",components:{UploadListItem:kt,UploadPictureItem:ht},props:{fileList:{type:Array,required:!0},listType:{type:String,required:!0}},setup(e,{slots:t}){const n=E("upload"),i=g(()=>[`${n}-list`,`${n}-list-type-${e.listType}`]),l=(r,o)=>re(t["upload-item"])?t["upload-item"]({fileItem:r,index:o}):e.listType==="picture-card"?a(ht,{file:r,key:`item-${o}`},null):a(kt,{file:r,listType:e.listType,key:`item-${o}`},null);return()=>a(dn,{tag:"div",class:i.value},{default:()=>{var r;return[...e.fileList.map((o,d)=>l(o,d)),e.listType==="picture-card"&&((r=t["upload-button"])==null?void 0:r.call(t))]}})}}),fi=Object.defineProperty,vi=Object.defineProperties,mi=Object.getOwnPropertyDescriptors,bt=Object.getOwnPropertySymbols,pi=Object.prototype.hasOwnProperty,gi=Object.prototype.propertyIsEnumerable,$t=(e,t,n)=>t in e?fi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yi=(e,t)=>{for(var n in t||(t={}))pi.call(t,n)&&$t(e,n,t[n]);if(bt)for(var n of bt(t))gi.call(t,n)&&$t(e,n,t[n]);return e},ki=(e,t)=>vi(e,mi(t)),Je=j({name:"Upload",props:{fileList:{type:Array,default:void 0},defaultFileList:{type:Array,default:()=>[]},accept:String,action:String,disabled:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},directory:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},tip:String,headers:{type:Object},data:{type:[Object,Function]},name:{type:[String,Function]},withCredentials:{type:Boolean,default:!1},customRequest:{type:Function},limit:{type:Number,default:0},autoUpload:{type:Boolean,default:!0},showFileList:{type:Boolean,default:!0},showRemoveButton:{type:Boolean,default:!0},showRetryButton:{type:Boolean,default:!0},showCancelButton:{type:Boolean,default:!0},showUploadButton:{type:[Boolean,Object],default:!0},showPreviewButton:{type:Boolean,default:!0},download:{type:Boolean,default:!1},showLink:{type:Boolean,default:!0},imageLoading:{type:String},listType:{type:String,default:"text"},responseUrlKey:{type:[String,Function]},customIcon:{type:Object},imagePreview:{type:Boolean,default:!1},onBeforeUpload:{type:Function},onBeforeRemove:{type:Function},onButtonClick:{type:Function}},emits:{"update:fileList":e=>!0,exceedLimit:(e,t)=>!0,change:(e,t)=>!0,progress:(e,t)=>!0,preview:e=>!0,success:e=>!0,error:e=>!0},setup(e,{emit:t,slots:n}){const{fileList:i,disabled:l,listType:r,customIcon:o,showRetryButton:d,showCancelButton:s,showRemoveButton:y,showPreviewButton:c,imageLoading:u,download:m,showLink:k}=ue(e),p=E("upload"),{mergedDisabled:L,eventHandlers:_}=Wt({disabled:l}),h=R([]),I=new Map,C=new Map,X=g(()=>e.limit>0&&h.value.length>=e.limit),Z=b=>{I.clear();const S=b==null?void 0:b.map((U,Y)=>{var ne,z,K;const T=(ne=U.status)!=null?ne:"done",le=Q(ki(yi({},U),{uid:(z=U.uid)!=null?z:`${Date.now()}${Y}`,status:T,percent:(K=U.percent)!=null?K:["error","init"].indexOf(T)>-1?0:1}));return I.set(le.uid,le),le});h.value=S!=null?S:[]};Z(e.defaultFileList),ye(i,b=>{b&&Z(b)},{immediate:!0,deep:!0});const A=b=>{var S,U;t("update:fileList",h.value),t("change",h.value,b),(U=(S=_.value)==null?void 0:S.onChange)==null||U.call(S)},H=(b,S)=>{for(const U of h.value)if(U.uid===b){U.file=S,A(U);break}},x=b=>{const S=(K,T)=>{const le=I.get(b.uid);le&&(le.status="uploading",le.percent=K,t("progress",le,T),A(le))},U=K=>{const T=I.get(b.uid);T&&(T.status="done",T.percent=1,T.response=K,e.responseUrlKey&&(re(e.responseUrlKey)?T.url=e.responseUrlKey(T):K[e.responseUrlKey]&&(T.url=K[e.responseUrlKey])),C.delete(T.uid),t("success",T),A(T))},Y=K=>{const T=I.get(b.uid);T&&(T.status="error",T.percent=0,T.response=K,C.delete(T.uid),t("error",T),A(T))},ne={fileItem:b,action:e.action,name:e.name,data:e.data,headers:e.headers,withCredentials:e.withCredentials,onProgress:S,onSuccess:U,onError:Y};b.status="uploading",b.percent=0;const z=re(e.customRequest)?e.customRequest(ne):po(ne);C.set(b.uid,z),A(b)},f=b=>{var S;const U=C.get(b.uid);if(U){(S=U.abort)==null||S.call(U),C.delete(b.uid);const Y=I.get(b.uid);Y&&(Y.status="error",Y.percent=0,A(Y))}},v=b=>{if(b){const S=I.get(b.uid);S&&x(S)}else for(const S of h.value)S.status==="init"&&x(S)},$=async(b,S)=>{const U=`${Date.now()}-${S}`,Y=yo(b)?URL.createObjectURL(b):void 0,ne=Q({uid:U,file:b,url:Y,name:b.name,status:"init",percent:0});I.set(U,ne),h.value=[...h.value,ne],A(ne),e.autoUpload&&x(ne)},O=b=>{if(e.limit>0&&h.value.length+b.length>e.limit){t("exceedLimit",h.value,b);return}for(let S=0;S<b.length;S++){const U=b[S];re(e.onBeforeUpload)?Promise.resolve(e.onBeforeUpload(U)).then(Y=>{Y&&$(qt(Y)?U:Y,S)}).catch(Y=>{console.error(Y)}):$(U,S)}},F=b=>{h.value=h.value.filter(S=>S.uid!==b.uid),A(b)},D=b=>{re(e.onBeforeRemove)?Promise.resolve(e.onBeforeRemove(b)).then(S=>{S&&F(b)}).catch(S=>{console.error(S)}):F(b)},N=b=>{if(e.imagePreview&&b.url){const S=me.value.indexOf(b.url);S>-1&&(ke.value=S,te.value=!0)}t("preview",b)};lt(ze,Q({disabled:L,listType:r,iconCls:`${p}-icon`,showRemoveButton:y,showRetryButton:d,showCancelButton:s,showPreviewButton:c,showLink:k,imageLoading:u,download:m,customIcon:o,slots:n,onUpload:x,onAbort:f,onRemove:D,onPreview:N}));const W=g(()=>{if(e.accept)return e.accept;if(e.listType==="picture"||e.listType==="picture-card")return"image/*"}),J=()=>{const b=a(_o,{key:"arco-upload-button",disabled:L.value,draggable:e.draggable,listType:e.listType,uploadFiles:O,multiple:e.multiple,directory:e.directory,tip:e.tip,hide:!e.showUploadButton||X.value&&!(Qe(e.showUploadButton)&&e.showUploadButton.showOnExceedLimit),accept:W.value,onButtonClick:e.onButtonClick},{default:n["upload-button"]});return e.tip&&e.listType!=="picture-card"&&!e.draggable?a("span",null,[b,a("div",{class:`${p}-tip`},[e.tip])]):b},te=R(!1),ke=R(0),ve=b=>{ke.value=b},Be=b=>{te.value=b},me=g(()=>h.value.filter(b=>Boolean(b.url)).map(b=>b.url));return{prefixCls:p,render:()=>e.showFileList?a("div",{class:[`${p}-wrapper`,`${p}-wrapper-type-${e.listType}`]},[e.imagePreview&&me.value.length>0&&a(to,{srcList:me.value,visible:te.value,current:ke.value,onChange:ve,onVisibleChange:Be},null),e.listType!=="picture-card"&&e.showUploadButton&&J(),a(di,{fileList:h.value,listType:e.listType},{"upload-button":J,"upload-item":n["upload-item"]})]):e.showUploadButton&&J(),innerSubmit:v,innerAbort:f,innerUpdateFile:H,innerUpload:O}},methods:{submit(e){return this.innerSubmit(e)},abort(e){return this.innerAbort(e)},updateFile(e,t){return this.innerUpdateFile(e,t)},upload(e){return this.innerUpload(e)}},render(){return this.render()}});const hi=Object.assign(Je,{install:(e,t)=>{wt(e,t);const n=_t(t);e.component(n+Je.name,Je)}});function At(){const{ffmpeg:e,writeFile:t,readFile:n,ffmpegRun:i}=Yt();async function l(d,s){return await i({type:"image",filename:d,rangeStart:s,width:200,height:100,outputName:`frame-${s}`,fileType:"jpeg"})}async function r(d){const{frameNum:s=8,duration:y,filename:c,imgs:u}=d,m=y/s;(async function k(p){const L=Math.floor(m)*p,_=`frame-${L}.jpeg`,{url:h}=await l(c,L),I={url:h,index:p,time:L,name:_};u.push(I),p<=s&&k(++p)})(0)}async function o(d){return await i(d)}return{ffmpeg:e,writeFile:t,readFile:n,clipImage:l,getClipImages:r,getClipVideo:o}}const bi={flex:"","overflow-x-auto":""},$i=["src"],wi=["onMousedown"],he=5,_i=j({__name:"Rail",props:{imgs:{type:Array,default:[]},duration:{type:Number,default:0}},emits:["change"],setup(e,{emit:t}){const n=e,i=R(),l=Q([0,0]),r=R(-1),o=R();ye(l,()=>{const c=l.map(u=>{var p;const m=u&&u+he,k=(p=M(o))==null?void 0:p.width;return Jt(m/k*n.duration,2)}).sort((u,m)=>u-m);t("change",c)}),nt(()=>{var c,u;document.addEventListener("mouseup",()=>{r.value=-1}),i&&(o.value=(c=M(i))==null?void 0:c.getBoundingClientRect(),l[1]=((u=o.value)==null?void 0:u.width)-he)});function d(c){const u=M(o);return c>=u.width+u.left-he?u.width-he:c<=u.left?0:c-(u.left||0)}function s(c){r.value>=0&&(l[r.value]=d(c.pageX))}function y(c){r.value=c}return(c,u)=>(P(),B("div",{ref_key:"railContainerRef",ref:i,class:"railContainer",onMousemove:s,onMouseup:u[0]||(u[0]=m=>r.value=-1)},[w("div",bi,[(P(!0),B(se,null,et(e.imgs,m=>(P(),B("img",{style:{width:`${100/8}%`},src:m,draggable:"false"},null,8,$i))),256))]),(P(),B(se,null,et([0,1],m=>w("div",{"b-l-red":"",key:m,class:"sliderBar",onMousedown:()=>y(m),style:G({left:M(l)[m]+"px",borderLeftWidth:he+"px"})},null,44,wi)),64))],544))}});var Ci=fn(_i,[["__scopeId","data-v-1d8c94bc"]]);const Si={"f-ac-jc":"","mt-20":"","b-1":"","b-b-0":"","h-100":""},Ii={flex:"","b-1":"","p-20":""},Pi={"w-400":"","b-r-1":""},Li={"p-20":""},zi={"f-jb":""},Bi={"wp-25":"","pr-20":""},ji={"f-ac":"","mb-20":""},Oi=w("span",{"w-120":""},"\u5F00\u59CB\u65F6\u95F4",-1),Fi={"f-ac":"","mb-20":""},Ni=w("span",{"w-120":""},"\u7ED3\u675F\u65F6\u95F4",-1),Mi={"wp-25":"","pr-20":""},Ai={"f-ac":"","mb-20":""},Ti=w("span",{"w-70":""},"\u5E27\u6570",-1),Vi=w("div",{"f-ac":"","mb-20":""},null,-1),Ei={"wp-25":"","pr-20":""},Di={"f-ac":"","mb-20":""},Ri=w("span",{"w-70":""},"\u5BBD\u5EA6",-1),Ui={"f-ac":"","mb-20":""},xi=w("span",{"w-70":""},"\u9AD8\u5EA6",-1),Wi={"wp-25":""},qi={"f-ac":"","mb-20":""},Zi=w("span",{"w-110":""},"\u5BFC\u51FA\u540D",-1),Hi={"f-ac":"","mb-20":""},Ki=w("span",{"w-110":""},"\u5BFC\u51FA\u683C\u5F0F",-1),Gi={"f-jc":""},Xi=j({__name:"ClipSetting",props:{fileInfo:{},imgs:{}},emits:["preview","export"],setup(e,{emit:t}){const n=e,i=g(()=>n.imgs.sort((m,k)=>m.index-k.index).map(m=>m.url)),l=g(()=>{const{file:m,width:k="",height:p="",duration:L=""}=n.fileInfo;return[{label:"\u6587\u4EF6\u540D",value:String((m==null?void 0:m.name)||"")},{label:"\u5BBD\u5EA6",value:String(k)},{label:"\u9AD8\u5EA6",value:String(p)},{label:"\u65F6\u957F",value:String(L)}]}),r=Q({rangeStart:0,rangeEnd:0,outputName:"output",fileType:"mp4",width:-1,height:-1,frameRate:25}),o=R(!1),{getClipVideo:d}=At();let s=null;function y(m){r.rangeStart=m[0],r.rangeEnd=m[1]}async function c(){if(!s){o.value=!0;const m=n.fileInfo.file;if(!m)return;s=(await d({...r,type:"video",filename:m.name})).url,o.value=!1}t("preview",s)}function u(){if(!s)return;const m=document.createElement("a");m.href=s,m.download=r.outputName+r.fileType,m.click()}return(m,k)=>{const p=Ci,L=An,_=Qt,h=pn,I=St;return P(),B(se,null,[w("div",Si,[a(p,{duration:m.fileInfo.duration,imgs:M(i),onChange:y},null,8,["duration","imgs"])]),w("div",Ii,[w("div",Pi,[a(L,{data:M(l),title:"\u6587\u4EF6\u4FE1\u606F",size:"small",column:1},null,8,["data"])]),w("div",Li,[w("ul",zi,[w("li",Bi,[w("div",ji,[Oi,a(_,{min:0,modelValue:M(r).rangeStart,"onUpdate:modelValue":k[0]||(k[0]=C=>M(r).rangeStart=C)},null,8,["modelValue"])]),w("div",Fi,[Ni,a(_,{min:0,modelValue:M(r).rangeEnd,"onUpdate:modelValue":k[1]||(k[1]=C=>M(r).rangeEnd=C)},null,8,["modelValue"])])]),w("li",Mi,[w("div",Ai,[Ti,a(_,{modelValue:M(r).frameRate,"onUpdate:modelValue":k[2]||(k[2]=C=>M(r).frameRate=C)},null,8,["modelValue"])]),Vi]),w("li",Ei,[w("div",Di,[Ri,a(_,{min:-1,modelValue:M(r).width,"onUpdate:modelValue":k[3]||(k[3]=C=>M(r).width=C)},null,8,["modelValue"])]),w("div",Ui,[xi,a(_,{min:-1,modelValue:M(r).height,"onUpdate:modelValue":k[4]||(k[4]=C=>M(r).height=C)},null,8,["modelValue"])])]),w("li",Wi,[w("div",qi,[Zi,a(h,{modelValue:M(r).outputName,"onUpdate:modelValue":k[5]||(k[5]=C=>M(r).outputName=C)},null,8,["modelValue"])]),w("div",Hi,[Ki,a(h,{modelValue:M(r).fileType,"onUpdate:modelValue":k[6]||(k[6]=C=>M(r).fileType=C)},null,8,["modelValue"])])])]),w("div",Gi,[a(I,{loading:M(o),onClick:c,"mr-20":""},{default:ce(()=>[rt(" \u9884\u89C8 ")]),_:1},8,["loading"]),a(I,{disabled:M(o),onClick:u},{default:ce(()=>[rt(" \u5BFC\u51FA ")]),_:1},8,["disabled"])])])])],64)}}}),Yi={key:1,"f-ac-jc":""},Ji=["src"],Qi=["src"],yr=j({__name:"VideoClip",setup(e){const t=R({}),n=R([]),i=R(""),l=R(!1),{writeFile:r,getClipImages:o}=At();async function d(){const{file:c,duration:u}=M(t);await r(c),o({filename:c.name,duration:u,imgs:n.value})}async function s(c,u){t.value=await en(u),d()}function y(c){i.value=c,l.value=!0}return(c,u)=>{var p,L,_;const m=hi,k=Zt;return P(),B(se,null,[M(t).file?(P(),B("div",Yi,[w("video",{src:(p=M(t))==null?void 0:p.url,width:"700",autoplay:"",loop:""},null,8,Ji)])):(P(),be(m,{key:0,draggable:"",action:"/",onChange:s})),a(Xi,{imgs:M(n),fileInfo:M(t),onPreview:y},null,8,["imgs","fileInfo"]),a(k,{visible:M(l),title:(_=(L=M(t))==null?void 0:L.file)==null?void 0:_.name,onCancel:u[0]||(u[0]=h=>l.value=!1),footer:!1},{default:ce(()=>[w("video",{src:M(i),width:"700",autoplay:"",loop:""},null,8,Qi)]),_:1},8,["visible","title"])],64)}}});export{yr as default};
