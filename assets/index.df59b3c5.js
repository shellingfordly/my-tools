import{g as me,i as Se,_ as W,k as oe,l as vn,o as De,f as mn,u as hn,s as yn,a as gn}from"./index.bf0f3566.js";import{c as u,S as un,u as U,v as de,d as j,o as O,a as N,n as M,e as we,f as L,p as fe,j as ce,s as Ie,r as F,t as he,x as Ee,g as V,b as I,h as Me,i as pe,m as Z,I as $n,L as Te,F as He,k as Cn,w as A,O as bn,D as $,y as le,z as ve,P as Mn,Q as Sn,l as wn,J as Ae}from"./index.92e4222f.js";import{u as Fe,I as In,T as On}from"./index.b446b220.js";import{u as Ue,T as kn,R as Pn,I as Bn}from"./index.040bb274.js";import{r as Ze}from"./responsive-observe.e0b3c664.js";function Qe(e){return typeof e=="object"&&e!=null&&e.nodeType===1}function Xe(e,n){return(!n||e!=="hidden")&&e!=="visible"&&e!=="clip"}function Be(e,n){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var t=getComputedStyle(e,null);return Xe(t.overflowY,n)||Xe(t.overflowX,n)||function(o){var l=function(s){if(!s.ownerDocument||!s.ownerDocument.defaultView)return null;try{return s.ownerDocument.defaultView.frameElement}catch{return null}}(o);return!!l&&(l.clientHeight<o.scrollHeight||l.clientWidth<o.scrollWidth)}(e)}return!1}function Ce(e,n,t,o,l,s,r,i){return s<e&&r>n||s>e&&r<n?0:s<=e&&i<=t||r>=n&&i>=t?s-e-o:r>n&&i<t||s<e&&i>t?r-n+l:0}function Ye(e,n){var t=window,o=n.scrollMode,l=n.block,s=n.inline,r=n.boundary,i=n.skipOverflowHiddenElements,a=typeof r=="function"?r:function(Pe){return Pe!==r};if(!Qe(e))throw new TypeError("Invalid target");for(var m=document.scrollingElement||document.documentElement,f=[],c=e;Qe(c)&&a(c);){if((c=c.parentElement)===m){f.push(c);break}c!=null&&c===document.body&&Be(c)&&!Be(document.documentElement)||c!=null&&Be(c,i)&&f.push(c)}for(var y=t.visualViewport?t.visualViewport.width:innerWidth,v=t.visualViewport?t.visualViewport.height:innerHeight,p=window.scrollX||pageXOffset,h=window.scrollY||pageYOffset,d=e.getBoundingClientRect(),g=d.height,C=d.width,k=d.top,_=d.right,b=d.bottom,P=d.left,B=l==="start"||l==="nearest"?k:l==="end"?b:k+g/2,x=s==="center"?P+C/2:s==="end"?_:P,X=[],se=0;se<f.length;se++){var w=f[se],D=w.getBoundingClientRect(),re=D.height,Y=D.width,q=D.top,ie=D.right,ae=D.bottom,G=D.left;if(o==="if-needed"&&k>=0&&P>=0&&b<=v&&_<=y&&k>=q&&b<=ae&&P>=G&&_<=ie)return X;var H=getComputedStyle(w),J=parseInt(H.borderLeftWidth,10),E=parseInt(H.borderTopWidth,10),ee=parseInt(H.borderRightWidth,10),R=parseInt(H.borderBottomWidth,10),T=0,S=0,ne="offsetWidth"in w?w.offsetWidth-w.clientWidth-J-ee:0,te="offsetHeight"in w?w.offsetHeight-w.clientHeight-E-R:0;if(m===w)T=l==="start"?B:l==="end"?B-v:l==="nearest"?Ce(h,h+v,v,E,R,h+B,h+B+g,g):B-v/2,S=s==="start"?x:s==="center"?x-y/2:s==="end"?x-y:Ce(p,p+y,y,J,ee,p+x,p+x+C,C),T=Math.max(0,T+h),S=Math.max(0,S+p);else{T=l==="start"?B-q-E:l==="end"?B-ae+R+te:l==="nearest"?Ce(q,ae,re,E,R+te,B,B+g,g):B-(q+re/2)+te/2,S=s==="start"?x-G-J:s==="center"?x-(G+Y/2)+ne/2:s==="end"?x-ie+ee+ne:Ce(G,ie,Y,J,ee+ne,x,x+C,C);var ge=w.scrollLeft,$e=w.scrollTop;B+=$e-(T=Math.max(0,Math.min($e+T,w.scrollHeight-re+te))),x+=ge-(S=Math.max(0,Math.min(ge+S,w.scrollWidth-Y+ne)))}X.push({el:w,top:T,left:S})}return X}const jt=Symbol("LayoutSiderInjectionKey"),Kn=Symbol("SiderInjectionKey");function xn(e,n){const t=u(()=>un(e)?e.value:e);let o="";U(()=>{o=Ze.subscribe((l,s)=>{!t.value||(!s||s===t.value)&&n(!!l[t.value])})}),de(()=>{o&&Ze.unsubscribe(o)})}const ze=Symbol("MenuInjectionKey"),We=Symbol("LevelInjectionKey"),cn=Symbol("DataCollectorInjectionKey"),_n=j({name:"IconMenuFold",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const n=me("icon"),t=u(()=>[n,`${n}-menu-fold`,{[`${n}-spin`]:e.spin}]),o=u(()=>{if(e.size)return{fontSize:Se(e.size)?`${e.size}px`:e.size}});return{cls:t,sizeStyle:o}}}),Ln=["stroke-width","stroke-linecap","stroke-linejoin"],Nn=L("path",{d:"M42 11H6M42 24H22M42 37H6M13.66 26.912l-4.82-3.118 4.82-3.118v6.236Z"},null,-1),jn=[Nn];function En(e,n,t,o,l,s){return O(),N("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:M(e.cls),style:we(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},jn,14,Ln)}var Ke=W(_n,[["render",En]]);const Tn=Object.assign(Ke,{install:(e,n)=>{var t;const o=(t=n==null?void 0:n.iconPrefix)!=null?t:"";e.component(o+Ke.name,Ke)}}),Vn=j({name:"IconMenuUnfold",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const n=me("icon"),t=u(()=>[n,`${n}-menu-unfold`,{[`${n}-spin`]:e.spin}]),o=u(()=>{if(e.size)return{fontSize:Se(e.size)?`${e.size}px`:e.size}});return{cls:t,sizeStyle:o}}}),Dn=["stroke-width","stroke-linecap","stroke-linejoin"],Hn=L("path",{d:"M6 11h36M22 24h20M6 37h36M8 20.882 12.819 24 8 27.118v-6.236Z"},null,-1),zn=[Hn];function Wn(e,n,t,o,l,s){return O(),N("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:M(e.cls),style:we(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},zn,14,Dn)}var xe=W(Vn,[["render",Wn]]);const Rn=Object.assign(xe,{install:(e,n)=>{var t;const o=(t=n==null?void 0:n.iconPrefix)!=null?t:"";e.component(o+xe.name,xe)}});function Re(e){const n=u(()=>un(e)?e.value:e);fe(We,ce({level:n}))}function ye(e){const{provideNextLevel:n}=e||{},t=Ie(We),o=u(()=>(t==null?void 0:t.level)||1);if(n){const l=u(()=>o.value+1);Re(l)}return{level:o}}function qe(e,n){const t=[],o=l=>{l.forEach(s=>{n(s)&&t.push(s.key),s.children&&o(s.children)})};return o(e),t}function pn(e=!1){return e?void 0:Ie(cn)}function dn(e){const{key:n,type:t}=e,o=F([]),l=pn(t==="menu");return fe(cn,{collectSubMenu(r,i,a=!1){const m={key:r,children:i};if(a){const f=o.value.find(c=>c.key===r);f?f.children=i:o.value.push(m)}else o.value=[...o.value,m];a&&(t==="popupMenu"?l==null||l.reportMenuData(o.value):t==="subMenu"&&!oe(r)&&(l==null||l.collectSubMenu(r,o.value,!0)))},removeSubMenu(r){o.value=o.value.filter(i=>i.key!==r)},collectMenuItem(r){o.value.push({key:r})},removeMenuItem(r){o.value=o.value.filter(i=>i.key!==r)},reportMenuData(r){o.value=r,t==="subMenu"&&!oe(n)&&(l==null||l.collectSubMenu(n,o.value,!0))}}),t==="subMenu"&&!oe(n)?(U(()=>{l==null||l.collectSubMenu(n,o.value)}),de(()=>{l==null||l.removeSubMenu(n)})):t==="popupMenu"&&U(()=>{l==null||l.reportMenuData(o.value)}),{menuData:o,subMenuKeys:u(()=>qe(o.value,r=>!!r.children)),menuItemKeys:u(()=>qe(o.value,r=>!r.children))}}function An(e,n){const t=[],o=l=>{for(let s=0;s<l.length;s++){const r=l[s];if(r.key===n)return!0;if(r.children){if(t.push(r.key),o(r.children))return!0;t.pop()}}return!1};return o(e),t}function Fn(e,n){return e.length!==n.length?!1:e.toString()===n.toString()}function Un(e){const{modelValue:n,defaultValue:t,autoOpen:o,autoOpenSelected:l,subMenuKeys:s,selectedKeys:r,menuData:i,accordion:a}=he(e),m=F(oe(n.value)?oe(t.value)?[]:t.value:n.value),f=p=>{m.value=p};Ee(n,()=>{oe(n.value)&&f([])});let c=[];U(()=>{c=[...s.value];let p=[];if(o.value&&(p=a.value?s.value.slice(0,1):[...s.value]),l.value){const h=r.value.map(d=>An(i.value,d));h.length&&(!o.value||a.value)&&(p=a.value?h[0]:[...new Set([].concat(...h))])}p.length&&f(p)});let y=!1;Ee(s,(p,h=[])=>{if(y||!Fn(p,c)){const d=v.value.filter(g=>p.includes(g));if(o.value){const g=p.filter(C=>!h.includes(C));d.push(...g)}f(a.value?d.slice(0,1):d)}y=!0});const v=u(()=>n.value||m.value);return{openKeys:v,localOpenKeys:m,setOpenKeys:f,open(p,h){let d=[];return v.value.indexOf(p)>-1?a.value&&h===1?d=[]:d=v.value.filter(g=>g!==p):a.value&&h===1?d=[p]:d=v.value.concat([p]),f(d),d}}}const Zn=j({name:"BaseMenu",components:{IconMenuFold:Tn,IconMenuUnfold:Rn},inheritAttrs:!1,props:{style:{type:Object},theme:{type:String,default:"light"},mode:{type:String,default:"vertical"},levelIndent:{type:Number},autoOpen:{type:Boolean},collapsed:{type:Boolean,default:void 0},defaultCollapsed:{type:Boolean},collapsedWidth:{type:Number},accordion:{type:Boolean},autoScrollIntoView:{type:Boolean},showCollapseButton:{type:Boolean},selectedKeys:{type:Array},defaultSelectedKeys:{type:Array,default:()=>[]},openKeys:{type:Array},defaultOpenKeys:{type:Array,default:()=>[]},scrollConfig:{type:Object},triggerProps:{type:Object},tooltipProps:{type:Object},autoOpenSelected:{type:Boolean},breakpoint:{type:String},popupMaxHeight:{type:[Boolean,Number],default:!0},prefixCls:{type:String},inTrigger:{type:Boolean},siderCollapsed:{type:Boolean},isRoot:{type:Boolean}},emits:["update:collapsed","update:selectedKeys","update:openKeys","collapse","menu-item-click","sub-menu-click"],setup(e,{emit:n,slots:t}){const{style:o,mode:l,theme:s,levelIndent:r,accordion:i,showCollapseButton:a,scrollConfig:m,autoScrollIntoView:f,collapsedWidth:c,autoOpen:y,collapsed:v,defaultCollapsed:p,selectedKeys:h,defaultSelectedKeys:d,openKeys:g,defaultOpenKeys:C,triggerProps:k,tooltipProps:_,autoOpenSelected:b,breakpoint:P,popupMaxHeight:B,prefixCls:x,inTrigger:X,siderCollapsed:se,isRoot:w}=he(e),{subMenuKeys:D,menuData:re}=dn({type:w.value?"menu":"popupMenu"}),[Y,q]=Fe(d.value,ce({value:h})),{openKeys:ie,setOpenKeys:ae,open:G}=Un(ce({modelValue:g,defaultValue:C,autoOpen:y,autoOpenSelected:b,selectedKeys:Y,subMenuKeys:D,menuData:re,accordion:i})),[H,J]=Fe(p.value,ce({value:v})),E=u(()=>se.value||H.value||l.value==="popButton"),ee=u(()=>["horizontal","popButton"].indexOf(l.value)<0&&!X.value&&a.value),R=(K,z)=>{K!==H.value&&(J(K),n("update:collapsed",K),n("collapse",K,z))},T=()=>{R(!H.value,"clickTrigger")};xn(P,K=>{R(!K,"responsive")});const S=u(()=>(x==null?void 0:x.value)||me("menu")),ne=u(()=>[S.value,`${S.value}-${s==null?void 0:s.value}`,{[`${S.value}-horizontal`]:l.value==="horizontal",[`${S.value}-vertical`]:l.value!=="horizontal",[`${S.value}-collapsed`]:E.value,[`${S.value}-pop`]:l.value==="pop"||E.value,[`${S.value}-pop-button`]:l.value==="popButton"}]),te=u(()=>{const K=Se(c.value)?`${c.value}px`:void 0,z=vn(o.value)?o.value:void 0,ue=E.value?K:z==null?void 0:z.width;return[z?De(z,["width"]):o.value,{width:ue}]}),ge=Ue(t,"expand-icon-down"),$e=Ue(t,"expand-icon-right"),Pe=ce({theme:s,mode:l,levelIndent:r,autoScrollIntoView:f,selectedKeys:Y,openKeys:ie,prefixCls:S,scrollConfig:m,inTrigger:X,collapsed:E,triggerProps:k,tooltipProps:_,popupMaxHeight:B,expandIconDown:ge,expandIconRight:$e,onMenuItemClick:K=>{q([K]),n("update:selectedKeys",[K]),n("menu-item-click",K)},onSubMenuClick:(K,z)=>{const ue=G(K,z);ae(ue),n("update:openKeys",ue),n("sub-menu-click",K,ue)}});return fe(ze,Pe),Re(1),{computedPrefixCls:S,classNames:ne,computedStyle:te,computedCollapsed:E,computedHasCollapseButton:ee,onCollapseBtnClick:T}}});function Qn(e,n,t,o,l,s){const r=V("IconMenuUnfold"),i=V("IconMenuFold");return O(),N("div",Z({class:e.classNames},e.$attrs,{style:e.computedStyle}),[L("div",{class:M(`${e.computedPrefixCls}-inner`)},[I(e.$slots,"default")],2),e.computedHasCollapseButton?(O(),N("div",{key:0,class:M(`${e.computedPrefixCls}-collapse-button`),onClick:n[0]||(n[0]=(...a)=>e.onCollapseBtnClick&&e.onCollapseBtnClick(...a))},[I(e.$slots,"collapse-icon",{collapsed:e.computedCollapsed},()=>[e.computedCollapsed?(O(),Me(r,{key:0})):(O(),Me(i,{key:1}))])],2)):pe("v-if",!0)],16)}var Ve=W(Zn,[["render",Qn]]);function Ge(e,n){if(!e||!n)return null;let t=n;t==="float"&&(t="cssFloat");try{if(document.defaultView){const o=document.defaultView.getComputedStyle(e,"");return e.style[t]||o?o[t]:""}}catch{return e.style[t]}return null}function Q(){return Ie(ze)||{}}const Xn=(()=>{let e=0;return(n="")=>(e+=1,`${n}${e}`)})();function Oe(){const e=$n();return{key:u(()=>(e==null?void 0:e.vnode.key)||Xn("__arco_menu"))}}const Yn=j({name:"MenuIndent",props:{level:{type:Number,default:1}},setup(){const e=me("menu"),n=Q();return{prefixCls:e,levelIndent:Te(n,"levelIndent")}}});function qn(e,n,t,o,l,s){return e.level>1?(O(),N("span",{key:0,class:M(`${e.prefixCls}-indent-list`)},[(O(!0),N(He,null,Cn(e.level-1,r=>(O(),N("span",{key:r,class:M(`${e.prefixCls}-indent`),style:we(`width: ${e.levelIndent}px`)},null,6))),128))],2)):pe("v-if",!0)}var ke=W(Yn,[["render",qn]]);const Gn=j({name:"ExpandTransition",setup(){return{onBeforeEnter(e){e.style.height="0"},onEnter(e){e.style.height=`${e.scrollHeight}px`},onAfterEnter(e){e.style.height=""},onBeforeLeave(e){e.style.height=`${e.scrollHeight}px`},onLeave(e){e.style.height="0"},onAfterLeave(e){e.style.height=""}}}});function Jn(e,n,t,o,l,s){return O(),Me(bn,{onBeforeEnter:e.onBeforeEnter,onEnter:e.onEnter,onAfterEnter:e.onAfterEnter,onBeforeLeave:e.onBeforeLeave,onLeave:e.onLeave,onAfterLeave:e.onAfterLeave},{default:A(()=>[I(e.$slots,"default")]),_:3},8,["onBeforeEnter","onEnter","onAfterEnter","onBeforeLeave","onLeave","onAfterLeave"])}var et=W(Gn,[["render",Jn]]);const nt=j({name:"SubMenuInline",components:{MenuIndent:ke,ExpandTransition:et},props:{title:{type:String},isChildrenSelected:{type:Boolean}},setup(e){const{key:n}=Oe(),{level:t}=ye({provideNextLevel:!0}),o=Q(),l=u(()=>o.prefixCls),s=u(()=>`${l.value}-inline`),r=u(()=>[s.value]),i=u(()=>e.isChildrenSelected),a=u(()=>(o.openKeys||[]).indexOf(n.value)>-1);return{prefixCls:s,menuPrefixCls:l,classNames:r,level:t,isSelected:i,isOpen:a,onHeaderClick:()=>{o.onSubMenuClick&&o.onSubMenuClick(n.value,t.value)}}}});function tt(e,n,t,o,l,s){const r=V("MenuIndent"),i=V("ExpandTransition");return O(),N("div",{class:M(e.classNames)},[L("div",{class:M([`${e.prefixCls}-header`,{[`${e.menuPrefixCls}-selected`]:e.isSelected,[`${e.menuPrefixCls}-has-icon`]:e.$slots.icon}]),onClick:n[0]||(n[0]=(...a)=>e.onHeaderClick&&e.onHeaderClick(...a))},[$(r,{level:e.level},null,8,["level"]),e.$slots.icon?(O(),N(He,{key:0},[L("span",{class:M(`${e.menuPrefixCls}-icon`)},[I(e.$slots,"icon")],2),L("span",{class:M(`${e.menuPrefixCls}-title`)},[I(e.$slots,"title",{},()=>[le(ve(e.title),1)])],2)],64)):I(e.$slots,"title",{key:1},()=>[le(ve(e.title),1)]),L("span",{class:M([`${e.menuPrefixCls}-icon-suffix`,{["is-open"]:e.isOpen}])},[I(e.$slots,"expand-icon-down")],2)],2),$(i,null,{default:A(()=>[Mn(L("div",{class:M(`${e.prefixCls}-content`)},[I(e.$slots,"default")],2),[[Sn,e.isOpen]])]),_:3})],2)}var ot=W(nt,[["render",tt]]);const lt=j({name:"SubMenuPop",components:{Menu:Ve,Trigger:kn,MenuIndent:ke,RenderFunction:Pn},inheritAttrs:!1,props:{title:{type:String},selectable:{type:Boolean},isChildrenSelected:{type:Boolean},popupMaxHeight:{type:[Boolean,Number],default:void 0}},setup(e){const{key:n}=Oe(),{level:t}=ye(),{selectable:o,isChildrenSelected:l,popupMaxHeight:s}=he(e),r=Q(),{onSubMenuClick:i,onMenuItemClick:a}=r,m=u(()=>r.prefixCls),f=u(()=>r.mode),c=u(()=>r.selectedKeys||[]),y=u(()=>`${m.value}-pop`),v=u(()=>o.value&&c.value.includes(n.value)||l.value),p=u(()=>[`${y.value}`,`${y.value}-header`,{[`${m.value}-selected`]:v.value}]),h=u(()=>f.value==="horizontal"&&!r.inTrigger),d=F(!1),g=b=>{d.value=b},C=me("trigger"),k=u(()=>{var b;return[`${y.value}-trigger`,{[`${y.value}-trigger-dark`]:r.theme==="dark"},(b=r.triggerProps)==null?void 0:b.class]}),_=u(()=>De(r.triggerProps||{},["class"]));return{menuPrefixCls:m,mode:f,level:t,classNames:p,isSelected:v,selectedKeys:c,needPopOnBottom:h,popVisible:d,triggerPrefixCls:C,triggerClassNames:k,triggerProps:_,menuContext:r,popupMenuStyles:u(()=>{var b;const P=(b=s.value)!=null?b:r.popupMaxHeight;return Se(P)?{maxHeight:`${P}px`}:P?{}:{maxHeight:"unset"}}),onClick:()=>{i&&i(n.value,t.value),o.value&&a&&a(n.value)},onMenuItemClick:b=>{a&&a(b),g(!1)},onVisibleChange:b=>{g(b)}}}});function st(e,n,t,o,l,s){const r=V("MenuIndent"),i=V("RenderFunction"),a=V("Menu"),m=V("Trigger");return O(),Me(m,Z({trigger:"hover",class:e.triggerClassNames,position:e.needPopOnBottom?"bl":"rt","show-arrow":"","animation-class":"fade-in","mouse-enter-delay":50,"mouse-leave-delay":50,"popup-offset":4,"auto-fit-popup-min-width":!0,duration:100},e.triggerProps,{"unmount-on-close":!1,"popup-visible":e.popVisible,onPopupVisibleChange:e.onVisibleChange}),{content:A(()=>[$(a,{"in-trigger":"","prefix-cls":`${e.triggerPrefixCls}-menu`,"selected-keys":e.selectedKeys,theme:e.menuContext.theme,"trigger-props":e.menuContext.triggerProps,style:we(e.popupMenuStyles),onMenuItemClick:e.onMenuItemClick},wn({default:A(()=>[I(e.$slots,"default")]),_:2},[e.menuContext.expandIconDown?{name:"expand-icon-down",fn:A(()=>[$(i,{"render-func":e.menuContext.expandIconDown},null,8,["render-func"])])}:void 0,e.menuContext.expandIconRight?{name:"expand-icon-right",fn:A(()=>[$(i,{"render-func":e.menuContext.expandIconRight},null,8,["render-func"])])}:void 0]),1032,["prefix-cls","selected-keys","theme","trigger-props","style","onMenuItemClick"])]),default:A(()=>[L("div",Z({class:[e.classNames,{[`${e.menuPrefixCls}-has-icon`]:e.$slots.icon}]},e.$attrs,{onClick:n[0]||(n[0]=(...f)=>e.onClick&&e.onClick(...f))}),[pe(" header "),$(r,{level:e.level},null,8,["level"]),e.$slots.icon?(O(),N(He,{key:0},[L("span",{class:M(`${e.menuPrefixCls}-icon`)},[I(e.$slots,"icon")],2),L("span",{class:M(`${e.menuPrefixCls}-title`)},[I(e.$slots,"title",{},()=>[le(ve(e.title),1)])],2)],64)):I(e.$slots,"title",{key:1},()=>[le(ve(e.title),1)]),pe(" suffix "),L("span",{class:M(`${e.menuPrefixCls}-icon-suffix`)},[e.needPopOnBottom?I(e.$slots,"expand-icon-down",{key:0}):I(e.$slots,"expand-icon-right",{key:1})],2),e.isSelected&&e.mode==="horizontal"?(O(),N("div",{key:2,class:M(`${e.menuPrefixCls}-selected-label`)},null,2)):pe("v-if",!0)],16)]),_:3},16,["class","position","popup-visible","onPopupVisibleChange"])}var rt=W(lt,[["render",st]]),it=Object.defineProperty,at=Object.defineProperties,ut=Object.getOwnPropertyDescriptors,Je=Object.getOwnPropertySymbols,ct=Object.prototype.hasOwnProperty,pt=Object.prototype.propertyIsEnumerable,en=(e,n,t)=>n in e?it(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,_e=(e,n)=>{for(var t in n||(n={}))ct.call(n,t)&&en(e,t,n[t]);if(Je)for(var t of Je(n))pt.call(n,t)&&en(e,t,n[t]);return e},nn=(e,n)=>at(e,ut(n)),be=j({name:"SubMenu",props:{key:{type:String},title:{type:String},selectable:{type:Boolean},popup:{type:[Boolean,Function],default:!1},popupMaxHeight:{type:[Boolean,Number],default:void 0}},setup(e,{attrs:n}){const{key:t}=Oe(),{level:o}=ye(),{popup:l}=he(e),s=Q(),r=u(()=>{const{mode:f,collapsed:c,inTrigger:y}=s;return!!(typeof l.value=="function"?l.value(o.value):l.value)||c||y||f!=="vertical"}),{subMenuKeys:i,menuItemKeys:a}=dn({key:t.value,type:"subMenu"}),m=u(()=>{const f=s.selectedKeys||[],c=y=>{for(let v=0;v<f.length;v++){const p=f[v];if(y.includes(p))return!0}return!1};return c(i.value)||c(a.value)});return{subMenuKeys:i,menuItemKeys:a,isChildrenSelected:m,props:e,attrs:n,computedKey:t,computedPopup:r,expandIconDown:Te(s,"expandIconDown"),expandIconRight:Te(s,"expandIconRight")}},render(){const{props:e,attrs:n,computedKey:t,computedPopup:o,expandIconDown:l,expandIconRight:s,isChildrenSelected:r}=this,i=nn(_e(_e({},e),n),{key:t,isChildrenSelected:r}),a=nn(_e({},this.$slots),{"expand-icon-down":this.$slots["expand-icon-down"]||l||(()=>$(Bn,null,null)),"expand-icon-right":this.$slots["expand-icon-right"]||s||(()=>$(In,null,null))});return o?$(rt,i,a):$(ot,i,a)}});const dt=10;function tn(e){return e&&+e.getBoundingClientRect().width.toFixed(2)}function on(e){const n=Number(e.replace("px",""));return Number.isNaN(n)?0:n}var ft=j({name:"MenuOverflowWrap",setup(e,{slots:n}){const o=`${Q().prefixCls}-overflow`,l=`${o}-sub-menu`,s=`${o}-hidden-menu-item`,r=`${o}-sub-menu-mirror`,i=F(),a=F(null),m=F();function f(){const c=i.value,y=tn(c),v=[].slice.call(c.children);let p=0,h=0,d=0;for(let g=0;g<v.length;g++){const C=v[g],k=C.className.split(" "),_=k.indexOf(l)>-1,b=k.indexOf(r)>-1;if(_)continue;const P=tn(C)+on(Ge(C,"marginLeft"))+on(Ge(C,"marginRight"));if(b){d=P;continue}if(h+=P,h+d+dt>y){a.value=p-1;return}p++}a.value=null}return U(()=>{f(),m.value=new mn(c=>{c.forEach(f)}),i.value&&m.value.observe(i.value)}),de(()=>{m.value&&m.value.disconnect()}),()=>{const c=(v,p)=>{const{isMirror:h=!1,props:d={}}=p||{};return $(be,Z({key:`__arco-menu-overflow-sub-menu${h?"-mirror":""}`,class:h?r:l},d),{title:()=>$("span",null,[le("...")]),default:()=>v})},y=()=>{var v;const p=((v=n.default)==null?void 0:v.call(n))||[],h=hn(p);let d=null;const g=c(null,{isMirror:!0}),C=h.map((k,_)=>{const b=Ae(k,a.value!==null&&_>a.value?{class:s}:{class:""});if(a.value!==null&&_===a.value+1){const P=h.slice(_).map(B=>Ae(B));d=c(P)}return b});return[g,...C,d]};return $("div",{class:`${o}-wrap`,ref:i},[y()])}}}),vt=Object.defineProperty,mt=Object.defineProperties,ht=Object.getOwnPropertyDescriptors,ln=Object.getOwnPropertySymbols,yt=Object.prototype.hasOwnProperty,gt=Object.prototype.propertyIsEnumerable,sn=(e,n,t)=>n in e?vt(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,$t=(e,n)=>{for(var t in n||(n={}))yt.call(n,t)&&sn(e,t,n[t]);if(ln)for(var t of ln(n))gt.call(n,t)&&sn(e,t,n[t]);return e},Ct=(e,n)=>mt(e,ht(n)),Le=j({name:"Menu",components:{BaseMenu:Ve},inheritAttrs:!1,props:{theme:{type:String},mode:{type:String,default:"vertical"}},setup(e,{attrs:n,slots:t}){const{theme:o,mode:l}=he(e),s=Ie(Kn,void 0),r=u(()=>(s==null?void 0:s.collapsed)||!1),i=u(()=>(o==null?void 0:o.value)||(s==null?void 0:s.theme)||"light");return fe(ze,void 0),fe(We,void 0),()=>$(Ve,Z(e,n,{theme:i.value,inTrigger:!1,siderCollapsed:r.value,isRoot:!0}),Ct($t({},t),{default:l.value==="horizontal"&&t.default?()=>$(ft,null,{default:()=>{var a;return[(a=t.default)==null?void 0:a.call(t)]}}):t.default}))}});function fn(e){return e===Object(e)&&Object.keys(e).length!==0}function bt(e,n){n===void 0&&(n="auto");var t="scrollBehavior"in document.body.style;e.forEach(function(o){var l=o.el,s=o.top,r=o.left;l.scroll&&t?l.scroll({top:s,left:r,behavior:n}):(l.scrollTop=s,l.scrollLeft=r)})}function Mt(e){return e===!1?{block:"end",inline:"nearest"}:fn(e)?e:{block:"start",inline:"nearest"}}function St(e,n){var t=e.isConnected||e.ownerDocument.documentElement.contains(e);if(fn(n)&&typeof n.behavior=="function")return n.behavior(t?Ye(e,n):[]);if(!!t){var o=Mt(n);return bt(Ye(e,o),o.behavior)}}var wt=Object.defineProperty,rn=Object.getOwnPropertySymbols,It=Object.prototype.hasOwnProperty,Ot=Object.prototype.propertyIsEnumerable,an=(e,n,t)=>n in e?wt(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,kt=(e,n)=>{for(var t in n||(n={}))It.call(n,t)&&an(e,t,n[t]);if(rn)for(var t of rn(n))Ot.call(n,t)&&an(e,t,n[t]);return e},Ne=j({name:"MenuItem",inheritAttrs:!1,props:{key:{type:String},disabled:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:n}){const{key:t}=Oe(),{level:o}=ye(),l=Q(),s=F(),r=u(()=>(l.selectedKeys||[]).indexOf(t.value)>-1),i=pn();U(()=>{i==null||i.collectMenuItem(t.value)}),de(()=>{i==null||i.removeMenuItem(t.value)});function a(){l.autoScrollIntoView&&s.value&&r.value&&St(s.value,kt({behavior:"smooth",block:"nearest",scrollMode:"if-needed",boundary:document.documentElement},l.scrollConfig||{}))}let m;return U(()=>{m=setTimeout(()=>{a()},500)}),de(()=>{clearTimeout(m)}),Ee([r],()=>{a()}),{menuContext:l,level:o,isSelected:r,refItemElement:s,onClick(f){e.disabled||(l.onMenuItemClick&&l.onMenuItemClick(t.value),n("click",f))}}},render(){var e,n;const{level:t,menuContext:o,disabled:l,isSelected:s,onClick:r}=this,{prefixCls:i,collapsed:a,inTrigger:m,mode:f,tooltipProps:c}=o,y=a&&!m&&t===1,v=f==="vertical"&&t>1,p=((n=(e=this.$slots).default)==null?void 0:n.call(e))||[],h=v&&!m&&!a,d=this.$slots.icon&&this.$slots.icon(),g=[h&&$(ke,{level:t},null),d&&$("span",{class:`${i}-icon`},[d]),h||d?$("span",{class:[`${i}-item-inner`,{[`${i}-title`]:d}]},[p]):p].filter(Boolean),C=$("div",Z({ref:"refItemElement",class:[`${i}-item`,{[`${i}-disabled`]:l,[`${i}-selected`]:s,[`${i}-has-icon`]:d}]},this.$attrs,{onClick:r}),[g,s&&f==="horizontal"&&$("div",{class:`${i}-selected-label`},null)]);if(y){const k=[`${i}-item-tooltip`,c==null?void 0:c.class];return $(On,Z({trigger:"hover",position:"right",class:k},De(c||{},["class"])),{default:()=>C,content:()=>p})}return C}});const Pt=j({name:"MenuItemGroup",components:{MenuIndent:ke},props:{title:{type:String}},setup(){const{level:e}=ye(),n=u(()=>e.value===1?e.value+1:e.value);Re(n);const t=Q(),o=u(()=>t.prefixCls),l=u(()=>[`${o.value}-group`]);return{prefixCls:o,classNames:l,level:e}}});function Bt(e,n,t,o,l,s){const r=V("MenuIndent");return O(),N("div",{class:M(e.classNames)},[L("div",{class:M(`${e.prefixCls}-group-title`)},[$(r,{level:e.level},null,8,["level"]),I(e.$slots,"title",{},()=>[le(ve(e.title),1)])],2),I(e.$slots,"default")],2)}var je=W(Pt,[["render",Bt]]);const Et=Object.assign(Le,{Item:Ne,ItemGroup:je,SubMenu:be,install:(e,n)=>{yn(e,n);const t=gn(n);e.component(t+Le.name,Le),e.component(t+Ne.name,Ne),e.component(t+je.name,je),e.component(t+be.name,be)}});export{jt as L,Ne as M,Kn as S,Et as a,xn as u};
