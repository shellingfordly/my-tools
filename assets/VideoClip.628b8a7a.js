import{g as j,i as G,_ as W,f as pt,h as st,b as ae,k as le,w as mt,c as gt,t as ht,s as yt,a as _t}from"./index.0aae8883.js";import{I as $t,d as kt,B as wt,a as bt,u as Ct}from"./index.c6fb359b.js";import{R as St,o as ke,a as we,q as It,f as zt,N as be}from"./index.c3a65d89.js";import{i as Lt,b as He,c as Pt,P as Bt,d as jt,I as Ft,a as Ot,s as Ge,e as xt,g as Mt}from"./index.c91ecbb8.js";import{u as he,b as Tt}from"./index.e611c425.js";import{d as P,c,o as w,e as C,n as L,h as R,$ as Nt,s as oe,i as y,l as s,H as ie,z as Vt,C as re,F as ce,f as at,a as fe,b as ge,B as Ee,r as V,W as ut,w as pe,S as At,E as Y,a0 as ue,N as Ut,O as Rt,T as Ke,D as X,t as Wt,Y as Dt,R as Et,A as ct,v as qe,V as qt,_ as Zt,K as Ht,u as Gt}from"./index.78523bd3.js";import{I as Kt,a as Xt,T as ve,u as De}from"./index.b4b0674e.js";import"./_commonjsHelpers.4e997714.js";const Yt=P({name:"IconImageClose",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=j("icon"),n=c(()=>[t,`${t}-image-close`,{[`${t}-spin`]:e.spin}]),l=c(()=>{if(e.size)return{fontSize:G(e.size)?`${e.size}px`:e.size}});return{cls:n,sizeStyle:l}}}),Jt=["stroke-width","stroke-linecap","stroke-linejoin"],Qt=Nt('<path d="M41 26V9a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v30a2 2 0 0 0 2 2h17"></path><path d="m24 33 9-8.5V27s-2 1-3.5 2.5C27.841 31.159 27 33 27 33h-3Zm0 0-3.5-4.5L17 33h7Z"></path><path d="M20.5 28.5 17 33h7l-3.5-4.5ZM33 24.5 24 33h3s.841-1.841 2.5-3.5C31 28 33 27 33 27v-2.5Z" fill="currentColor" stroke="none"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M46 38a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm-4.95-4.782 1.74 1.74-3.045 3.046 3.046 3.046-1.74 1.74-3.047-3.045-3.046 3.046-1.74-1.74 3.046-3.047-3.046-3.046 1.74-1.74 3.046 3.046 3.046-3.046Z" fill="currentColor" stroke="none"></path><path d="M17 15h-2v2h2v-2Z"></path>',5),en=[Qt];function tn(e,t,n,l,o,r){return w(),C("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:L(e.cls),style:R(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},en,14,Jt)}var Ce=W(Yt,[["render",tn]]);const nn=Object.assign(Ce,{install:(e,t)=>{var n;const l=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(l+Ce.name,Ce)}}),on=P({name:"ImagePreviewArrow",components:{IconLeft:Kt,IconRight:Xt},props:{onPrev:{type:Function},onNext:{type:Function}},setup(){return{prefixCls:j("image-preview-arrow")}}});function ln(e,t,n,l,o,r){const a=oe("icon-left"),u=oe("icon-right");return w(),C("div",{class:L(e.prefixCls)},[y("div",{class:L([`${e.prefixCls}-left`,{[`${e.prefixCls}-disabled`]:!e.onPrev}]),onClick:t[0]||(t[0]=i=>{i.preventDefault(),e.onPrev&&e.onPrev()})},[s(a)],2),y("div",{class:L([`${e.prefixCls}-right`,{[`${e.prefixCls}-disabled`]:!e.onNext}]),onClick:t[1]||(t[1]=i=>{i.preventDefault(),e.onNext&&e.onNext()})},[s(u)],2)],2)}var rn=W(on,[["render",ln]]);function sn(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Vt(e)}var an=P({name:"ImagePreviewAction",components:{Tooltip:ve},inheritAttrs:!1,props:{name:{type:String},disabled:{type:Boolean}},setup(e,{slots:t,attrs:n}){const l=j("image-preview-toolbar-action");return()=>{var o;const{name:r,disabled:a}=e,u=(o=t.default)==null?void 0:o.call(t);if(!u||!u.length)return null;const i=s("div",ie({class:[`${l}`,{[`${l}-disabled`]:a}],onMousedown:m=>{m.preventDefault()}},n),[s("span",{class:`${l}-content`},[u])]);return r?s(ve,{class:`${l}-tooltip`,content:r},sn(i)?i:{default:()=>[i]}):i}}}),un=P({name:"ImagePreviewToolbar",components:{RenderFunction:St,PreviewAction:an},props:{actions:{type:Array,default:()=>[]},actionsLayout:{type:Array,default:()=>[]}},setup(e){const{actions:t,actionsLayout:n}=re(e),l=j("image-preview-toolbar"),o=c(()=>{const r=new Set(n.value),a=i=>r.has(i.key);return t.value.filter(a).sort((i,m)=>{const p=n.value.indexOf(i.key),v=n.value.indexOf(m.key);return p>v?1:-1})});return{prefixCls:l,resultActions:o}}});function cn(e,t,n,l,o,r){const a=oe("RenderFunction"),u=oe("PreviewAction");return w(),C("div",{class:L(e.prefixCls)},[(w(!0),C(ce,null,at(e.resultActions,i=>(w(),fe(u,{key:i.key,name:i.name,disabled:i.disabled,onClick:i.onClick},{default:ge(()=>[s(a,{"render-func":i.content},null,8,["render-func"])]),_:2},1032,["name","disabled","onClick"]))),128)),Ee(e.$slots,"default")],2)}var dn=W(un,[["render",cn]]);function fn(e){const t=V(e||"beforeLoad"),n=c(()=>t.value==="beforeLoad"),l=c(()=>t.value==="loading"),o=c(()=>t.value==="error"),r=c(()=>t.value==="loaded");return{status:t,isBeforeLoad:n,isLoading:l,isError:o,isLoaded:r,setLoadStatus:a=>{t.value=a}}}function vn(e,t,n,l,o){let r=n,a=l;return n&&(e.width>t.width?r=0:(t.left>e.left&&(r-=Math.abs(e.left-t.left)/o),t.right<e.right&&(r+=Math.abs(e.right-t.right)/o))),l&&(e.height>t.height?a=0:(t.top>e.top&&(a-=Math.abs(e.top-t.top)/o),t.bottom<e.bottom&&(a+=Math.abs(e.bottom-t.bottom)/o))),[r,a]}function pn(e){const{wrapperEl:t,imageEl:n,scale:l}=re(e),o=V([0,0]),r=V(!1);let a=0,u=0,i=[0,0];const m=()=>{if(!t.value||!n.value)return;const g=t.value.getBoundingClientRect(),x=n.value.getBoundingClientRect(),[f,$]=vn(g,x,o.value[0],o.value[1],l.value);(f!==o.value[0]||$!==o.value[1])&&(o.value=[f,$])},p=g=>{g.preventDefault&&g.preventDefault();const x=i[0]+(g.pageX-a)/l.value,f=i[1]+(g.pageY-u)/l.value;o.value=[x,f]},v=g=>{g.preventDefault&&g.preventDefault(),r.value=!1,m(),h()},k=g=>{g.target===g.currentTarget&&(g.preventDefault&&g.preventDefault(),r.value=!0,a=g.pageX,u=g.pageY,i=[...o.value],ke(window,"mousemove",p,!1),ke(window,"mouseup",v,!1))};function h(){we(window,"mousemove",p,!1),we(window,"mouseup",v,!1)}return ut(g=>{n.value&&ke(n.value,"mousedown",k),g(()=>{n.value&&we(n.value,"mousedown",k),h()})}),pe([l],()=>{At(()=>m())}),{translate:o,moving:r,resetTranslate(){o.value=[0,0]}}}const mn=P({name:"IconZoomOut",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=j("icon"),n=c(()=>[t,`${t}-zoom-out`,{[`${t}-spin`]:e.spin}]),l=c(()=>{if(e.size)return{fontSize:G(e.size)?`${e.size}px`:e.size}});return{cls:n,sizeStyle:l}}}),gn=["stroke-width","stroke-linecap","stroke-linejoin"],hn=y("path",{d:"M32.607 32.607A14.953 14.953 0 0 0 37 22c0-8.284-6.716-15-15-15-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15 4.142 0 7.892-1.679 10.607-4.393Zm0 0L41.5 41.5M29 22H15"},null,-1),yn=[hn];function _n(e,t,n,l,o,r){return w(),C("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:L(e.cls),style:R(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},yn,14,gn)}var Se=W(mn,[["render",_n]]);const $n=Object.assign(Se,{install:(e,t)=>{var n;const l=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(l+Se.name,Se)}}),kn=P({name:"IconZoomIn",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=j("icon"),n=c(()=>[t,`${t}-zoom-in`,{[`${t}-spin`]:e.spin}]),l=c(()=>{if(e.size)return{fontSize:G(e.size)?`${e.size}px`:e.size}});return{cls:n,sizeStyle:l}}}),wn=["stroke-width","stroke-linecap","stroke-linejoin"],bn=y("path",{d:"M32.607 32.607A14.953 14.953 0 0 0 37 22c0-8.284-6.716-15-15-15-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15 4.142 0 7.892-1.679 10.607-4.393Zm0 0L41.5 41.5M29 22H15m7 7V15"},null,-1),Cn=[bn];function Sn(e,t,n,l,o,r){return w(),C("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:L(e.cls),style:R(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},Cn,14,wn)}var Ie=W(kn,[["render",Sn]]);const In=Object.assign(Ie,{install:(e,t)=>{var n;const l=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(l+Ie.name,Ie)}}),zn=P({name:"IconFullscreen",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=j("icon"),n=c(()=>[t,`${t}-fullscreen`,{[`${t}-spin`]:e.spin}]),l=c(()=>{if(e.size)return{fontSize:G(e.size)?`${e.size}px`:e.size}});return{cls:n,sizeStyle:l}}}),Ln=["stroke-width","stroke-linecap","stroke-linejoin"],Pn=y("path",{d:"M42 17V9a1 1 0 0 0-1-1h-8M6 17V9a1 1 0 0 1 1-1h8m27 23v8a1 1 0 0 1-1 1h-8M6 31v8a1 1 0 0 0 1 1h8"},null,-1),Bn=[Pn];function jn(e,t,n,l,o,r){return w(),C("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:L(e.cls),style:R(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},Bn,14,Ln)}var ze=W(zn,[["render",jn]]);const Fn=Object.assign(ze,{install:(e,t)=>{var n;const l=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(l+ze.name,ze)}}),On=P({name:"IconRotateLeft",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=j("icon"),n=c(()=>[t,`${t}-rotate-left`,{[`${t}-spin`]:e.spin}]),l=c(()=>{if(e.size)return{fontSize:G(e.size)?`${e.size}px`:e.size}});return{cls:n,sizeStyle:l}}}),xn=["stroke-width","stroke-linecap","stroke-linejoin"],Mn=y("path",{d:"M10 22a1 1 0 0 1 1-1h20a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H11a1 1 0 0 1-1-1V22ZM23 11h11a6 6 0 0 1 6 6v6M22.5 12.893 19.587 11 22.5 9.107v3.786Z"},null,-1),Tn=[Mn];function Nn(e,t,n,l,o,r){return w(),C("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:L(e.cls),style:R(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},Tn,14,xn)}var Le=W(On,[["render",Nn]]);const Vn=Object.assign(Le,{install:(e,t)=>{var n;const l=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(l+Le.name,Le)}}),An=P({name:"IconRotateRight",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=j("icon"),n=c(()=>[t,`${t}-rotate-right`,{[`${t}-spin`]:e.spin}]),l=c(()=>{if(e.size)return{fontSize:G(e.size)?`${e.size}px`:e.size}});return{cls:n,sizeStyle:l}}}),Un=["stroke-width","stroke-linecap","stroke-linejoin"],Rn=y("path",{d:"M38 22a1 1 0 0 0-1-1H17a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h20a1 1 0 0 0 1-1V22ZM25 11H14a6 6 0 0 0-6 6v6M25.5 12.893 28.413 11 25.5 9.107v3.786Z"},null,-1),Wn=[Rn];function Dn(e,t,n,l,o,r){return w(),C("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:L(e.cls),style:R(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},Wn,14,Un)}var Pe=W(An,[["render",Dn]]);const En=Object.assign(Pe,{install:(e,t)=>{var n;const l=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(l+Pe.name,Pe)}}),qn=P({name:"IconOriginalSize",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=j("icon"),n=c(()=>[t,`${t}-original-size`,{[`${t}-spin`]:e.spin}]),l=c(()=>{if(e.size)return{fontSize:G(e.size)?`${e.size}px`:e.size}});return{cls:n,sizeStyle:l}}}),Zn=["stroke-width","stroke-linecap","stroke-linejoin"],Hn=y("path",{d:"m5.5 11.5 5-2.5h1v32M34 11.5 39 9h1v32"},null,-1),Gn=y("path",{d:"M24 17h1v1h-1v-1ZM24 30h1v1h-1v-1Z",fill:"currentColor",stroke:"none"},null,-1),Kn=y("path",{d:"M24 17h1v1h-1v-1ZM24 30h1v1h-1v-1Z"},null,-1),Xn=[Hn,Gn,Kn];function Yn(e,t,n,l,o,r){return w(),C("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:L(e.cls),style:R(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},Xn,14,Zn)}var Be=W(qn,[["render",Yn]]);const Jn=Object.assign(Be,{install:(e,t)=>{var n;const l=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(l+Be.name,Be)}});function Qn(e){const{container:t,hidden:n}=re(e);let l=!1,o={};const r=i=>i.tagName==="BODY"?window.innerWidth-(document.body.clientWidth||document.documentElement.clientWidth):i.offsetWidth-i.clientWidth,a=()=>{if(t.value&&t.value.style.overflow!=="hidden"){const i=t.value.style;l=!0;const m=r(t.value);m&&(o.width=i.width,t.value.style.width=`calc(${t.value.style.width||"100%"} - ${m}px)`),o.overflow=i.overflow,t.value.style.overflow="hidden"}},u=()=>{if(t.value&&l){const i=o;Object.keys(i).forEach(m=>{t.value.style[m]=i[m]})}l=!1,o={}};return ut(i=>{n.value?a():u(),i(()=>{u()})}),[u,a]}function eo(e,t){const{popupContainer:n}=re(t);return c(()=>(pt(n.value)?It(n.value):n.value)||e)}const Q=[25,33,50,67,75,80,90,100,110,125,150,175,200,250,300,400,500].map(e=>+(e/100).toFixed(2)),to=Q[0],no=Q[Q.length-1];function Xe(e=1,t="zoomIn"){let n=Q.indexOf(e);return n===-1&&(n=oo(e)),t==="zoomIn"?n===Q.length-1?e:Q[n+1]:n===0?e:Q[n-1]}function oo(e){let t=Q.length-1;for(let n=0;n<Q.length;n++){const l=Q[n];if(e===l){t=n;break}if(e<l){const o=Q[n-1];t=o===void 0||Math.abs(o-e)<=Math.abs(l-e)?n-1:n;break}}return t}var lo=Object.defineProperty,Ye=Object.getOwnPropertySymbols,io=Object.prototype.hasOwnProperty,ro=Object.prototype.propertyIsEnumerable,Je=(e,t,n)=>t in e?lo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,so=(e,t)=>{for(var n in t||(t={}))io.call(t,n)&&Je(e,n,t[n]);if(Ye)for(var n of Ye(t))ro.call(t,n)&&Je(e,n,t[n]);return e};const je=90;var ao=P({name:"ImagePreview",components:{PreviewArrow:rn,PreviewToolbar:dn,IconLoading:$t,IconClose:kt},props:{renderToBody:{type:Boolean,default:!0},src:{type:String},visible:{type:Boolean,default:void 0},defaultVisible:{type:Boolean,default:!1},maskClosable:{type:Boolean,default:!0},closable:{type:Boolean,default:!0},actionsLayout:{type:Array,default:()=>["fullScreen","rotateRight","rotateLeft","zoomIn","zoomOut","originalSize"]},popupContainer:{type:[Object,String]},inGroup:{type:Boolean,default:!1},groupArrowProps:{type:Object,default:()=>({})}},emits:["close","update:visible"],setup(e,{emit:t}){const{t:n}=he(),{src:l,popupContainer:o,visible:r,defaultVisible:a,maskClosable:u}=re(e),i=V(),m=V(),p=j("image-preview"),[v,k]=De(a.value,Y({value:r})),h=c(()=>[p,{[`${p}-hide`]:!v.value}]),g=eo(document.body,Y({popupContainer:o})),x=c(()=>g.value===document.body),{zIndex:f}=zt("dialog",{visible:v}),$=c(()=>{const Z=x.value?{zIndex:f.value,position:"fixed"}:{zIndex:"inherit",position:"absolute"};return so({},Z)}),{isLoading:B,isLoaded:F,setLoadStatus:A}=fn(),S=V(0),I=V(1),{translate:D,moving:K,resetTranslate:J}=pn(Y({wrapperEl:i,imageEl:m,visible:v,scale:I})),_=V(!1);let z=null;const E=()=>{!_.value&&(_.value=!0),z&&clearTimeout(z),z=setTimeout(()=>{_.value=!1},1e3)};Qn(Y({container:g,hidden:v}));function U(){S.value=0,I.value=1,J()}pe([l,v],()=>{v.value&&(U(),A("loading"))});function q(){v.value&&(t("close"),t("update:visible",!1),k(!1))}function T(Z){u.value&&Z.target===Z.currentTarget&&q()}function N(Z){I.value!==Z&&(I.value=Z,E())}return{prefixCls:p,classNames:h,container:g,wrapperStyles:$,scale:I,translate:D,rotate:S,moving:K,mergedVisible:v,isLoading:B,isLoaded:F,scaleValueVisible:_,refWrapper:i,refImage:m,onMaskClick:T,onCloseClick:q,onImgLoad(){A("loaded")},onImgError(){A("error")},actions:c(()=>[{key:"fullScreen",name:n("imagePreview.fullScreen"),content:()=>ue(Fn),onClick:()=>{const Z=i.value.getBoundingClientRect(),se=m.value.getBoundingClientRect(),_e=Z.height/(se.height/I.value),$e=Z.width/(se.width/I.value),de=Math.max(_e,$e);N(de)}},{key:"rotateRight",name:n("imagePreview.rotateRight"),content:()=>ue(En),onClick:()=>{S.value=(S.value+je)%360}},{key:"rotateLeft",name:n("imagePreview.rotateLeft"),content:()=>ue(Vn),onClick:()=>{S.value=S.value===0?360-je:S.value-je}},{key:"zoomIn",name:n("imagePreview.zoomIn"),content:()=>ue(In),onClick:()=>{const Z=Xe(I.value,"zoomIn");N(Z)},disabled:I.value===no},{key:"zoomOut",name:n("imagePreview.zoomOut"),content:()=>ue($n),onClick:()=>{const Z=Xe(I.value,"zoomOut");N(Z)},disabled:I.value===to},{key:"originalSize",name:n("imagePreview.originalSize"),content:()=>ue(Jn),onClick:()=>{N(1)}}])}}});const uo=["src"];function co(e,t,n,l,o,r){const a=oe("IconLoading"),u=oe("PreviewToolbar"),i=oe("IconClose"),m=oe("PreviewArrow");return w(),fe(Et,{to:e.container,disabled:!e.renderToBody},[y("div",{class:L(e.classNames),style:R(e.wrapperStyles)},[s(Ke,{name:"image-fade",onBeforeEnter:t[0]||(t[0]=p=>{p.parentNode.style.display="block"}),onAfterLeave:t[1]||(t[1]=p=>{p.parentNode.style.display=""})},{default:ge(()=>[Ut(y("div",{class:L(`${e.prefixCls}-mask`)},null,2),[[Rt,e.mergedVisible]])]),_:1}),e.mergedVisible?(w(),C("div",{key:0,ref:"refWrapper",class:L(`${e.prefixCls}-wrapper`),onClick:t[6]||(t[6]=(...p)=>e.onMaskClick&&e.onMaskClick(...p))},[X(" img "),y("div",{class:L(`${e.prefixCls}-img-container`),style:R({transform:`scale(${e.scale}, ${e.scale})`}),onClick:t[4]||(t[4]=(...p)=>e.onMaskClick&&e.onMaskClick(...p))},[(w(),C("img",{ref:"refImage",key:e.src,src:e.src,class:L([`${e.prefixCls}-img`,{[`${e.prefixCls}-img-moving`]:e.moving}]),style:R({transform:`translate(${e.translate[0]}px, ${e.translate[1]}px) rotate(${e.rotate}deg)`}),onLoad:t[2]||(t[2]=(...p)=>e.onImgLoad&&e.onImgLoad(...p)),onError:t[3]||(t[3]=(...p)=>e.onImgError&&e.onImgError(...p))},null,46,uo))],6),X(" loading "),e.isLoading?(w(),C("div",{key:0,class:L(`${e.prefixCls}-loading`)},[s(a)],2)):X("v-if",!0),X(" scale value "),s(Ke,{name:"image-fade"},{default:ge(()=>[e.scaleValueVisible?(w(),C("div",{key:0,class:L(`${e.prefixCls}-scale-value`)},Wt((e.scale*100).toFixed(0))+"% ",3)):X("v-if",!0)]),_:1}),X(" toolbar "),e.isLoaded?(w(),fe(u,{key:1,actions:e.actions,"actions-layout":e.actionsLayout},{default:ge(()=>[Ee(e.$slots,"actions")]),_:3},8,["actions","actions-layout"])):X("v-if",!0),X(" close btn "),e.closable?(w(),C("div",{key:2,class:L(`${e.prefixCls}-close-btn`),onClick:t[5]||(t[5]=(...p)=>e.onCloseClick&&e.onCloseClick(...p))},[s(i)],2)):X("v-if",!0),X(" group arrow "),e.inGroup?(w(),fe(m,Dt(ie({key:3},e.groupArrowProps)),null,16)):X("v-if",!0)],2)):X("v-if",!0)],6)],8,["to","disabled"])}var fo=W(ao,[["render",co]]);const vo=Symbol("PreviewGroupInjectionKey");var po=P({name:"ImagePreviewGroup",components:{ImagePreview:fo},inheritAttrs:!1,props:{renderToBody:{type:Boolean,default:!0},srcList:{type:Array},current:{type:Number},defaultCurrent:{type:Number,default:0},infinite:{type:Boolean,default:!1},visible:{type:Boolean,default:void 0},defaultVisible:{type:Boolean,default:!1},maskClosable:{type:Boolean,default:!0},closable:{type:Boolean,default:!0},actionsLayout:{type:Array,default:()=>["fullScreen","rotateRight","rotateLeft","zoomIn","zoomOut","originalSize"]},popupContainer:{type:[Object,String]}},emits:["change","update:current","visible-change","update:visible"],setup(e,{emit:t}){const{srcList:n,visible:l,defaultVisible:o,current:r,defaultCurrent:a,infinite:u}=re(e),[i,m]=De(o.value,Y({value:l})),p=_=>{_!==i.value&&(t("visible-change",_),t("update:visible",_),m(_))},v=c(()=>st(n==null?void 0:n.value)&&new Map(n==null?void 0:n.value.map((_,z)=>[z,{url:_,canPreview:!0}]))),k=V(new Map(v.value||[])),h=c(()=>Array.from(k.value.keys())),g=c(()=>h.value.length);function x(_,z,E){return v.value||k.value.set(_,{url:z,canPreview:E}),function(){v.value||k.value.delete(_)}}pe(v,()=>{k.value=new Map(v.value||[])});const[f,$]=De(a.value,Y({value:r})),B=_=>{_!==f.value&&(t("change",_),t("update:current",_),$(_))},F=c(()=>h.value[f.value]),A=_=>{const z=h.value.indexOf(_);z!==f.value&&B(z)},S=c(()=>{var _;return(_=k.value.get(F.value))==null?void 0:_.url});ct(vo,Y({registerImageUrl:x,preview:_=>{p(!0),A(_)}}));const I=c(()=>{const _=(E,U)=>{var q;for(let T=E;T<=U;T++){const N=h.value[T];if((q=k.value.get(N))!=null&&q.canPreview)return T}},z=_(f.value+1,g.value-1);return ae(z)&&u.value?_(0,f.value-1):z}),D=c(()=>{const _=(E,U)=>{var q;for(let T=E;T>=U;T--){const N=h.value[T];if((q=k.value.get(N))!=null&&q.canPreview)return T}},z=_(f.value-1,0);return ae(z)&&u.value?_(g.value-1,f.value+1):z}),K=c(()=>ae(D.value)?void 0:()=>{!ae(D.value)&&B(D.value)}),J=c(()=>ae(I.value)?void 0:()=>{!ae(I.value)&&B(I.value)});return{mergedVisible:i,currentUrl:S,prevIndex:D,nextIndex:I,onClose(){p(!1)},groupArrowProps:Y({onPrev:K,onNext:J})}}}),mo=Object.defineProperty,go=Object.defineProperties,ho=Object.getOwnPropertyDescriptors,Qe=Object.getOwnPropertySymbols,yo=Object.prototype.hasOwnProperty,_o=Object.prototype.propertyIsEnumerable,et=(e,t,n)=>t in e?mo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$o=(e,t)=>{for(var n in t||(t={}))yo.call(t,n)&&et(e,n,t[n]);if(Qe)for(var n of Qe(t))_o.call(t,n)&&et(e,n,t[n]);return e},ko=(e,t)=>go(e,ho(t));function wo(e,t,n,l,o,r){const a=oe("ImagePreview");return w(),C(ce,null,[Ee(e.$slots,"default"),s(a,ie(ko($o({},e.$attrs),{groupArrowProps:e.groupArrowProps}),{"in-group":"",src:e.currentUrl,visible:e.mergedVisible,"mask-closable":e.maskClosable,closable:e.closable,"actions-layout":e.actionsLayout,"popup-container":e.popupContainer,"render-to-body":e.renderToBody,onClose:e.onClose}),null,16,["src","visible","mask-closable","closable","actions-layout","popup-container","render-to-body","onClose"])],64)}var bo=W(po,[["render",wo]]);const Co=P({name:"IconDelete",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=j("icon"),n=c(()=>[t,`${t}-delete`,{[`${t}-spin`]:e.spin}]),l=c(()=>{if(e.size)return{fontSize:G(e.size)?`${e.size}px`:e.size}});return{cls:n,sizeStyle:l}}}),So=["stroke-width","stroke-linecap","stroke-linejoin"],Io=y("path",{d:"M5 11h5.5m0 0v29a1 1 0 0 0 1 1h25a1 1 0 0 0 1-1V11m-27 0H16m21.5 0H43m-5.5 0H32m-16 0V7h16v4m-16 0h16M20 18v15m8-15v15"},null,-1),zo=[Io];function Lo(e,t,n,l,o,r){return w(),C("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:L(e.cls),style:R(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},zo,14,So)}var Fe=W(Co,[["render",Lo]]);const dt=Object.assign(Fe,{install:(e,t)=>{var n;const l=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(l+Fe.name,Fe)}}),Po=P({name:"IconFile",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=j("icon"),n=c(()=>[t,`${t}-file`,{[`${t}-spin`]:e.spin}]),l=c(()=>{if(e.size)return{fontSize:G(e.size)?`${e.size}px`:e.size}});return{cls:n,sizeStyle:l}}}),Bo=["stroke-width","stroke-linecap","stroke-linejoin"],jo=y("path",{d:"M16 21h16m-16 8h10m11 13H11a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h21l7 7v27a2 2 0 0 1-2 2Z"},null,-1),Fo=[jo];function Oo(e,t,n,l,o,r){return w(),C("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:L(e.cls),style:R(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},Fo,14,Bo)}var Oe=W(Po,[["render",Oo]]);const xo=Object.assign(Oe,{install:(e,t)=>{var n;const l=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(l+Oe.name,Oe)}}),tt=e=>{const t=e.responseText||e.response;if(!t)return;const n=e.getResponseHeader("Content-Type");if(n&&n.includes("json"))try{return JSON.parse(t)}catch{return t}return t},Mo=e=>{switch(e){case"done":return"success";case"error":return"danger";default:return"normal"}},nt=(e,t)=>le(e)?e(t):e,To=({fileItem:e,action:t,name:n,data:l,headers:o={},withCredentials:r=!1,onProgress:a=be,onSuccess:u=be,onError:i=be})=>{const m=nt(n,e)||"file",p=nt(l,e),v=new XMLHttpRequest;r&&(v.withCredentials=!0),v.upload.onprogress=h=>{const g=h.total>0?Lt.round(h.loaded/h.total,2):0;a(g,h)},v.onerror=function(g){i(g)},v.onload=()=>{if(v.status<200||v.status>=300){i(tt(v));return}u(tt(v))};const k=new FormData;if(p)for(const h of Object.keys(p))k.append(h,p[h]);e.file&&k.append(m,e.file),v.open("post",t!=null?t:"",!0);for(const h of Object.keys(o))v.setRequestHeader(h,o[h]);return v.send(k),{abort(){v.abort()}}},ft=(e,t)=>{if(t&&e){const n=st(t)?t:t.split(",").map(o=>o.trim()).filter(o=>o),l=e.name.indexOf(".")>-1?e.name.split(".").pop():"";return n.some(o=>{const r=o&&o.toLowerCase(),a=(e.type||"").toLowerCase();return r===a?!0:/\/\*/.test(r)?a.replace(/\/.*$/,"")===r.replace(/\/.*$/,""):/\..*/.test(r)?r===`.${l&&l.toLowerCase()}`:!1})}return Boolean(e)},No=(e,t,n)=>{const l=[];let o=0;const r=()=>{!o&&n(l)},a=u=>{if(o+=1,u!=null&&u.isFile){u.file(i=>{o-=1,ft(i,t)&&(Object.defineProperty(i,"webkitRelativePath",{value:u.fullPath.replace(/^\//,"")}),l.push(i)),r()});return}if(u!=null&&u.isDirectory){const i=u.createReader();let m=!1;const p=()=>{i.readEntries(v=>{m||(o-=1,m=!0),v.length===0?r():(p(),v.forEach(a))})};p();return}o-=1,r()};[].slice.call(e).forEach(u=>u.webkitGetAsEntry&&a(u.webkitGetAsEntry()))},Vo=e=>{var t;return(t=e.type)==null?void 0:t.includes("image")},xe=(e,t)=>{if(!e)return[];const n=Array.from(e);return t?n.filter(l=>ft(l,t)):n},Ao=P({name:"IconUpload",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=j("icon"),n=c(()=>[t,`${t}-upload`,{[`${t}-spin`]:e.spin}]),l=c(()=>{if(e.size)return{fontSize:G(e.size)?`${e.size}px`:e.size}});return{cls:n,sizeStyle:l}}}),Uo=["stroke-width","stroke-linecap","stroke-linejoin"],Ro=y("path",{d:"M14.93 17.071 24.001 8l9.071 9.071m-9.07 16.071v-25M40 35v6H8v-6"},null,-1),Wo=[Ro];function Do(e,t,n,l,o,r){return w(),C("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:L(e.cls),style:R(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},Wo,14,Uo)}var Me=W(Ao,[["render",Do]]);const Ze=Object.assign(Me,{install:(e,t)=>{var n;const l=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(l+Me.name,Me)}});var Eo=P({name:"UploadButton",props:{disabled:{type:Boolean,default:!1},directory:{type:Boolean,default:!1},accept:String,listType:{type:String},tip:String,draggable:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},uploadFiles:{type:Function,required:!0},hide:Boolean,onButtonClick:{type:Function}},setup(e,{slots:t}){const n=j("upload"),{t:l}=he(),o=V(!1),r=V(null),a=V(null),u=V(0),i=f=>{f==="subtract"?u.value-=1:f==="add"?u.value+=1:f==="reset"&&(u.value=0)},m=f=>{if(!e.disabled){if(le(e.onButtonClick)){const $=e.onButtonClick(f);if(mt($)){$.then(B=>{e.uploadFiles(xe(B))});return}}r.value&&r.value.click()}},p=f=>{const $=f.target;$.files&&e.uploadFiles(xe($.files)),$.value=""},v=f=>{var $,B;if(f.preventDefault(),o.value=!1,i("reset"),!e.disabled)if(e.directory&&(($=f.dataTransfer)==null?void 0:$.items))No(f.dataTransfer.items,e.accept,F=>{e.uploadFiles(F)});else{const F=xe((B=f.dataTransfer)==null?void 0:B.files,e.accept);e.uploadFiles(e.multiple?F:F.slice(0,1))}},k=f=>{f.preventDefault(),i("subtract"),u.value===0&&(o.value=!1,i("reset"))},h=f=>{f.preventDefault(),!e.disabled&&!o.value&&(o.value=!0)},g=()=>t.default?s("span",null,[t.default()]):e.listType==="picture-card"?s("div",{class:`${n}-picture-card`},[s("div",{class:`${n}-picture-card-text`},[s(He,null,null)]),e.tip&&s("div",{class:`${n}-tip`},[e.tip])]):e.draggable?s("div",{class:[`${n}-drag`,{[`${n}-drag-active`]:o.value}]},[s("div",null,[s(He,null,null)]),s("div",{class:`${n}-drag-text`},[o.value?l("upload.dragHover"):l("upload.drag")]),e.tip&&s("div",{class:`${n}-tip`},[e.tip])]):s(wt,{type:"primary",disabled:e.disabled},{default:()=>[l("upload.buttonText")],icon:()=>s(Ze,null,null)}),x=c(()=>[n,{[`${n}-type-picture-card`]:e.listType==="picture-card",[`${n}-draggable`]:e.draggable,[`${n}-disabled`]:e.disabled,[`${n}-hide`]:e.hide}]);return()=>s("span",{ref:a,class:x.value,onClick:m,onDragenter:()=>{i("add")},onDrop:v,onDragover:h,onDragleave:k},[s("input",ie({ref:r,type:"file",style:{display:"none"},disabled:e.disabled,accept:e.accept,multiple:e.multiple},e.directory?{webkitdirectory:"webkitdirectory"}:{},{onChange:p}),null),g()])}});const qo=P({name:"IconPause",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=j("icon"),n=c(()=>[t,`${t}-pause`,{[`${t}-spin`]:e.spin}]),l=c(()=>{if(e.size)return{fontSize:G(e.size)?`${e.size}px`:e.size}});return{cls:n,sizeStyle:l}}}),Zo=["stroke-width","stroke-linecap","stroke-linejoin"],Ho=y("path",{d:"M14 12h4v24h-4zM30 12h4v24h-4z"},null,-1),Go=y("path",{fill:"currentColor",stroke:"none",d:"M14 12h4v24h-4zM30 12h4v24h-4z"},null,-1),Ko=[Ho,Go];function Xo(e,t,n,l,o,r){return w(),C("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:L(e.cls),style:R(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},Ko,14,Zo)}var Te=W(qo,[["render",Xo]]);const Yo=Object.assign(Te,{install:(e,t)=>{var n;const l=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(l+Te.name,Te)}}),Jo=P({name:"IconPlayArrowFill",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=j("icon"),n=c(()=>[t,`${t}-play-arrow-fill`,{[`${t}-spin`]:e.spin}]),l=c(()=>{if(e.size)return{fontSize:G(e.size)?`${e.size}px`:e.size}});return{cls:n,sizeStyle:l}}}),Qo=["stroke-width","stroke-linecap","stroke-linejoin"],el=y("path",{d:"M17.533 10.974a1 1 0 0 0-1.537.844v24.356a1 1 0 0 0 1.537.844L36.67 24.84a1 1 0 0 0 0-1.688L17.533 10.974Z",fill:"currentColor",stroke:"none"},null,-1),tl=[el];function nl(e,t,n,l,o,r){return w(),C("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:L(e.cls),style:R(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},tl,14,Qo)}var Ne=W(Jo,[["render",nl]]);const ol=Object.assign(Ne,{install:(e,t)=>{var n;const l=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(l+Ne.name,Ne)}}),ye=Symbol("ArcoUpload");var vt=P({name:"UploadProgress",props:{file:{type:Object,required:!0},listType:{type:String,required:!0}},setup(e){const t=j("upload-progress"),{t:n}=he(),l=qe(ye,void 0),o=()=>{var a,u,i,m,p,v,k,h,g,x,f;return e.file.status==="error"?s("span",{class:[l==null?void 0:l.iconCls,`${l==null?void 0:l.iconCls}-upload`],onClick:()=>l==null?void 0:l.onUpload(e.file)},[(l==null?void 0:l.showRetryButton)&&((p=(u=l==null?void 0:(a=l.slots)["retry-icon"])==null?void 0:u.call(a))!=null?p:(m=(i=l==null?void 0:l.customIcon)==null?void 0:i.retryIcon)==null?void 0:m.call(i))||e.listType==="picture-card"?s(Ze,null,null):n("upload.retry")]):e.file.status==="done"?s("span",{class:[l==null?void 0:l.iconCls,`${l==null?void 0:l.iconCls}-success`]},[(f=(x=(k=l==null?void 0:(v=l.slots)["success-icon"])==null?void 0:k.call(v))!=null?x:(g=(h=l==null?void 0:l.customIcon)==null?void 0:h.successIcon)==null?void 0:g.call(h))!=null?f:s(Pt,null,null)]):e.file.status==="init"?s(ve,{content:n("upload.start")},{default:()=>{var $,B,F,A,S,I;return[s("span",{class:[l==null?void 0:l.iconCls,`${l==null?void 0:l.iconCls}-start`],onClick:()=>l==null?void 0:l.onUpload(e.file)},[(I=(S=(B=l==null?void 0:($=l.slots)["start-icon"])==null?void 0:B.call($))!=null?S:(A=(F=l==null?void 0:l.customIcon)==null?void 0:F.startIcon)==null?void 0:A.call(F))!=null?I:s(ol,null,null)])]}}):(l==null?void 0:l.showCancelButton)&&s(ve,{content:n("upload.cancel")},{default:()=>{var $,B,F,A,S,I;return[s("span",{class:[l==null?void 0:l.iconCls,`${l==null?void 0:l.iconCls}-cancel`],onClick:()=>l==null?void 0:l.onAbort(e.file)},[(I=(S=(B=l==null?void 0:($=l.slots)["cancel-icon"])==null?void 0:B.call($))!=null?S:(A=(F=l==null?void 0:l.customIcon)==null?void 0:F.cancelIcon)==null?void 0:A.call(F))!=null?I:s(Yo,null,null)])]}})},r=()=>{var a;if(["init","uploading"].includes((a=e.file.status)!=null?a:"")){const u=Mo(e.file.status);return s(Bt,{type:"circle",size:"mini",showText:!1,status:u,percent:e.file.percent},null)}return null};return()=>s("span",{class:t},[r(),o()])}});const ll=P({name:"IconFilePdf",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=j("icon"),n=c(()=>[t,`${t}-file-pdf`,{[`${t}-spin`]:e.spin}]),l=c(()=>{if(e.size)return{fontSize:G(e.size)?`${e.size}px`:e.size}});return{cls:n,sizeStyle:l}}}),il=["stroke-width","stroke-linecap","stroke-linejoin"],rl=y("path",{d:"M11 42h26a2 2 0 0 0 2-2V13.828a2 2 0 0 0-.586-1.414l-5.828-5.828A2 2 0 0 0 31.172 6H11a2 2 0 0 0-2 2v32a2 2 0 0 0 2 2Z"},null,-1),sl=y("path",{d:"M22.305 21.028c.874 1.939 3.506 6.265 4.903 8.055 1.747 2.237 3.494 2.685 4.368 2.237.873-.447 1.21-4.548-7.425-2.685-7.523 1.623-7.424 3.58-6.988 4.476.728 1.193 2.522 2.627 5.678-6.266C25.699 18.79 24.489 17 23.277 17c-1.409 0-2.538.805-.972 4.028Z"},null,-1),al=[rl,sl];function ul(e,t,n,l,o,r){return w(),C("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:L(e.cls),style:R(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},al,14,il)}var Ve=W(ll,[["render",ul]]);const cl=Object.assign(Ve,{install:(e,t)=>{var n;const l=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(l+Ve.name,Ve)}}),dl=P({name:"IconFileImage",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=j("icon"),n=c(()=>[t,`${t}-file-image`,{[`${t}-spin`]:e.spin}]),l=c(()=>{if(e.size)return{fontSize:G(e.size)?`${e.size}px`:e.size}});return{cls:n,sizeStyle:l}}}),fl=["stroke-width","stroke-linecap","stroke-linejoin"],vl=y("path",{d:"m26 33 5-6v6h-5Zm0 0-3-4-4 4h7Zm11 9H11a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h21l7 7v27a2 2 0 0 1-2 2ZM17 19h1v1h-1v-1Z"},null,-1),pl=[vl];function ml(e,t,n,l,o,r){return w(),C("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:L(e.cls),style:R(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},pl,14,fl)}var Ae=W(dl,[["render",ml]]);const gl=Object.assign(Ae,{install:(e,t)=>{var n;const l=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(l+Ae.name,Ae)}}),hl=P({name:"IconFileVideo",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=j("icon"),n=c(()=>[t,`${t}-file-video`,{[`${t}-spin`]:e.spin}]),l=c(()=>{if(e.size)return{fontSize:G(e.size)?`${e.size}px`:e.size}});return{cls:n,sizeStyle:l}}}),yl=["stroke-width","stroke-linecap","stroke-linejoin"],_l=y("path",{d:"M37 42H11a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h21l7 7v27a2 2 0 0 1-2 2Z"},null,-1),$l=y("path",{d:"M22 27.796v-6l5 3-5 3Z"},null,-1),kl=[_l,$l];function wl(e,t,n,l,o,r){return w(),C("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:L(e.cls),style:R(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},kl,14,yl)}var Ue=W(hl,[["render",wl]]);const bl=Object.assign(Ue,{install:(e,t)=>{var n;const l=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(l+Ue.name,Ue)}}),Cl=P({name:"IconFileAudio",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const t=j("icon"),n=c(()=>[t,`${t}-file-audio`,{[`${t}-spin`]:e.spin}]),l=c(()=>{if(e.size)return{fontSize:G(e.size)?`${e.size}px`:e.size}});return{cls:n,sizeStyle:l}}}),Sl=["stroke-width","stroke-linecap","stroke-linejoin"],Il=y("path",{d:"M37 42H11a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h21l7 7v27a2 2 0 0 1-2 2Z"},null,-1),zl=y("path",{d:"M25 30a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z",fill:"currentColor",stroke:"none"},null,-1),Ll=y("path",{d:"M25 30a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm0 0-.951-12.363a.5.5 0 0 1 .58-.532L30 18"},null,-1),Pl=[Il,zl,Ll];function Bl(e,t,n,l,o,r){return w(),C("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:L(e.cls),style:R(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},Pl,14,Sl)}var Re=W(Cl,[["render",Bl]]);const jl=Object.assign(Re,{install:(e,t)=>{var n;const l=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(l+Re.name,Re)}});var ot=P({name:"UploadListItem",props:{file:{type:Object,required:!0},listType:{type:String,required:!0}},setup(e){const n=`${j("upload-list")}-item`,{t:l}=he(),o=qe(ye,void 0),r=()=>{var a,u;let i="";if(e.file.file&&e.file.file.type)i=e.file.file.type;else{const m=(u=(a=e.file.name)==null?void 0:a.split(".")[1])!=null?u:"";["png","jpg","jpeg","bmp","gif"].includes(m)?i="image":["mp4","m2v","mkv"].includes(m)?i="video":["mp3","wav","wmv"].includes(m)&&(i="audio")}return i.includes("image")?s(gl,null,null):i.includes("pdf")?s(cl,null,null):i.includes("audio")?s(jl,null,null):i.includes("video")?s(bl,null,null):s(xo,null,null)};return()=>{var a,u,i,m,p,v,k,h,g,x,f,$,B,F,A,S,I,D,K,J,_;return s("div",{class:[n,`${n}-${e.file.status}`]},[s("div",{class:`${n}-content`},[(o==null?void 0:o.listType)==="picture"&&s("span",{class:`${n}-thumbnail`},[(i=(u=o==null?void 0:(a=o.slots).image)==null?void 0:u.call(a,{fileItem:e.file}))!=null?i:s("img",ie({src:e.file.url,alt:e.file.name},o!=null&&o.imageLoading?{loading:o.imageLoading}:void 0),null)]),s("div",{class:`${n}-name`},[(o==null?void 0:o.listType)==="text"&&s("span",{class:`${n}-file-icon`},[(g=(h=(p=o==null?void 0:(m=o.slots)["file-icon"])==null?void 0:p.call(m,{fileItem:e.file}))!=null?h:(k=(v=o==null?void 0:o.customIcon)==null?void 0:v.fileIcon)==null?void 0:k.call(v,e.file))!=null?g:r()]),(o==null?void 0:o.showLink)&&e.file.url?s("a",ie({class:`${n}-name-link`,target:"_blank",href:e.file.url},o!=null&&o.download?{download:e.file.name}:void 0),[(A=(F=(f=o==null?void 0:(x=o.slots)["file-name"])==null?void 0:f.call(x,{fileItem:e.file}))!=null?F:(B=($=o==null?void 0:o.customIcon)==null?void 0:$.fileName)==null?void 0:B.call($,e.file))!=null?A:e.file.name]):s("span",{class:`${n}-name-text`,onClick:()=>o==null?void 0:o.onPreview(e.file)},[(_=(J=(I=o==null?void 0:(S=o.slots)["file-name"])==null?void 0:I.call(S,{fileItem:e.file}))!=null?J:(K=(D=o==null?void 0:o.customIcon)==null?void 0:D.fileName)==null?void 0:K.call(D,e.file))!=null?_:e.file.name]),e.file.status==="error"&&s(ve,{content:l("upload.error")},{default:()=>{var z,E,U,q,T,N;return[s("span",{class:[o==null?void 0:o.iconCls,`${o==null?void 0:o.iconCls}-error`]},[(N=(T=(E=o==null?void 0:(z=o.slots)["error-icon"])==null?void 0:E.call(z))!=null?T:(q=(U=o==null?void 0:o.customIcon)==null?void 0:U.errorIcon)==null?void 0:q.call(U))!=null?N:s(Tt,null,null)])]}})]),s(vt,{file:e.file,listType:e.listType},null)]),(o==null?void 0:o.showRemoveButton)&&s("span",{class:`${n}-operation`},[s(bt,{onClick:()=>{var z;return(z=o==null?void 0:o.onRemove)==null?void 0:z.call(o,e.file)}},{default:()=>{var z,E,U,q,T,N;return[s("span",{class:[o==null?void 0:o.iconCls,`${o==null?void 0:o.iconCls}-remove`]},[(N=(T=(E=o==null?void 0:(z=o.slots)["remove-icon"])==null?void 0:E.call(z))!=null?T:(q=(U=o==null?void 0:o.customIcon)==null?void 0:U.removeIcon)==null?void 0:q.call(U))!=null?N:s(dt,null,null)])]}})])])}}}),lt=P({name:"UploadPictureItem",props:{file:{type:Object,required:!0},disabled:{type:Boolean,default:!1}},setup(e){const n=`${j("upload-list")}-picture`,l=c(()=>[n,{[`${n}-status-error`]:e.file.status==="error"}]),o=qe(ye,void 0),r=()=>{var a,u,i,m,p,v,k,h,g,x,f,$,B,F,A,S,I,D,K,J,_,z,E,U,q,T,N;return e.file.status==="uploading"?s(vt,{file:e.file,listType:"picture-card"},null):s(ce,null,[(i=(u=o==null?void 0:(a=o.slots).image)==null?void 0:u.call(a,{fileItem:e.file}))!=null?i:s("img",ie({src:e.file.url,alt:e.file.name},o!=null&&o.imageLoading?{loading:o.imageLoading}:void 0),null),s("div",{class:`${n}-mask`},[e.file.status==="error"&&(o==null?void 0:o.showCancelButton)&&s("div",{class:`${n}-error-tip`},[s("span",{class:[o==null?void 0:o.iconCls,`${o==null?void 0:o.iconCls}-error`]},[(g=(h=(p=o==null?void 0:(m=o.slots)["error-icon"])==null?void 0:p.call(m))!=null?h:(k=(v=o==null?void 0:o.customIcon)==null?void 0:v.errorIcon)==null?void 0:k.call(v))!=null?g:s(nn,null,null)])]),s("div",{class:`${n}-operation`},[e.file.status!=="error"&&s("span",{class:[o==null?void 0:o.iconCls,`${o==null?void 0:o.iconCls}-preview`],onClick:()=>o==null?void 0:o.onPreview(e.file)},[(A=(F=(f=o==null?void 0:(x=o.slots)["preview-icon"])==null?void 0:f.call(x))!=null?F:(B=($=o==null?void 0:o.customIcon)==null?void 0:$.previewIcon)==null?void 0:B.call($))!=null?A:s(jt,null,null)]),["init","error"].includes(e.file.status)&&(o==null?void 0:o.showRetryButton)&&s("span",{class:[o==null?void 0:o.iconCls,`${o==null?void 0:o.iconCls}-upload`],onClick:()=>o==null?void 0:o.onUpload(e.file)},[(_=(J=(I=o==null?void 0:(S=o.slots)["retry-icon"])==null?void 0:I.call(S))!=null?J:(K=(D=o==null?void 0:o.customIcon)==null?void 0:D.retryIcon)==null?void 0:K.call(D))!=null?_:s(Ze,null,null)]),!(o!=null&&o.disabled)&&(o==null?void 0:o.showRemoveButton)&&s("span",{class:[o==null?void 0:o.iconCls,`${o==null?void 0:o.iconCls}-remove`],onClick:()=>o==null?void 0:o.onRemove(e.file)},[(N=(T=(E=o==null?void 0:(z=o.slots)["remove-icon"])==null?void 0:E.call(z))!=null?T:(q=(U=o==null?void 0:o.customIcon)==null?void 0:U.removeIcon)==null?void 0:q.call(U))!=null?N:s(dt,null,null)])])])])};return()=>s("span",{class:l.value},[r()])}}),Fl=P({name:"UploadList",components:{UploadListItem:ot,UploadPictureItem:lt},props:{fileList:{type:Array,required:!0},listType:{type:String,required:!0}},setup(e,{slots:t}){const n=j("upload"),l=c(()=>[`${n}-list`,`${n}-list-type-${e.listType}`]),o=(r,a)=>le(t["upload-item"])?t["upload-item"]({fileItem:r,index:a}):e.listType==="picture-card"?s(lt,{file:r,key:`item-${a}`},null):s(ot,{file:r,listType:e.listType,key:`item-${a}`},null);return()=>s(qt,{tag:"div",class:l.value},{default:()=>{var r;return[...e.fileList.map((a,u)=>o(a,u)),e.listType==="picture-card"&&((r=t["upload-button"])==null?void 0:r.call(t))]}})}}),Ol=Object.defineProperty,xl=Object.defineProperties,Ml=Object.getOwnPropertyDescriptors,it=Object.getOwnPropertySymbols,Tl=Object.prototype.hasOwnProperty,Nl=Object.prototype.propertyIsEnumerable,rt=(e,t,n)=>t in e?Ol(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vl=(e,t)=>{for(var n in t||(t={}))Tl.call(t,n)&&rt(e,n,t[n]);if(it)for(var n of it(t))Nl.call(t,n)&&rt(e,n,t[n]);return e},Al=(e,t)=>xl(e,Ml(t)),We=P({name:"Upload",props:{fileList:{type:Array,default:void 0},defaultFileList:{type:Array,default:()=>[]},accept:String,action:String,disabled:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},directory:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},tip:String,headers:{type:Object},data:{type:[Object,Function]},name:{type:[String,Function]},withCredentials:{type:Boolean,default:!1},customRequest:{type:Function},limit:{type:Number,default:0},autoUpload:{type:Boolean,default:!0},showFileList:{type:Boolean,default:!0},showRemoveButton:{type:Boolean,default:!0},showRetryButton:{type:Boolean,default:!0},showCancelButton:{type:Boolean,default:!0},showUploadButton:{type:[Boolean,Object],default:!0},download:{type:Boolean,default:!1},showLink:{type:Boolean,default:!0},imageLoading:{type:String},listType:{type:String,default:"text"},responseUrlKey:{type:[String,Function]},customIcon:{type:Object},imagePreview:{type:Boolean,default:!1},onBeforeUpload:{type:Function},onBeforeRemove:{type:Function},onButtonClick:{type:Function}},emits:{"update:fileList":e=>!0,exceedLimit:(e,t)=>!0,change:(e,t)=>!0,progress:(e,t)=>!0,preview:e=>!0,success:e=>!0,error:e=>!0},setup(e,{emit:t,slots:n}){const{fileList:l,disabled:o,listType:r,customIcon:a,showRetryButton:u,showCancelButton:i,showRemoveButton:m,imageLoading:p,download:v,showLink:k}=re(e),h=j("upload"),{mergedDisabled:g,eventHandlers:x}=Ct({disabled:o}),f=V([]),$=new Map,B=new Map,F=c(()=>e.limit>0&&f.value.length>=e.limit),A=d=>{$.clear();const b=d==null?void 0:d.map((O,H)=>{var ee,me,te;const M=(ee=O.status)!=null?ee:"done",ne=Y(Al(Vl({},O),{uid:(me=O.uid)!=null?me:`${Date.now()}${H}`,status:M,percent:(te=O.percent)!=null?te:["error","init"].indexOf(M)>-1?0:1}));return $.set(ne.uid,ne),ne});f.value=b!=null?b:[]};A(e.defaultFileList),pe(l,d=>{d&&A(d)},{immediate:!0,deep:!0});const S=d=>{var b,O;t("update:fileList",f.value),t("change",f.value,d),(O=(b=x.value)==null?void 0:b.onChange)==null||O.call(b)},I=(d,b)=>{for(const O of f.value)if(O.uid===d){O.file=b,S(O);break}},D=d=>{const b=(te,M)=>{const ne=$.get(d.uid);ne&&(ne.status="uploading",ne.percent=te,t("progress",ne,M),S(ne))},O=te=>{const M=$.get(d.uid);M&&(M.status="done",M.percent=1,M.response=te,e.responseUrlKey&&(le(e.responseUrlKey)?M.url=e.responseUrlKey(M):te[e.responseUrlKey]&&(M.url=te[e.responseUrlKey])),B.delete(M.uid),t("success",M),S(M))},H=te=>{const M=$.get(d.uid);M&&(M.status="error",M.percent=0,M.response=te,B.delete(M.uid),t("error",M),S(M))},ee={fileItem:d,action:e.action,name:e.name,data:e.data,headers:e.headers,withCredentials:e.withCredentials,onProgress:b,onSuccess:O,onError:H};d.status="uploading",d.percent=0;const me=le(e.customRequest)?e.customRequest(ee):To(ee);B.set(d.uid,me),S(d)},K=d=>{var b;const O=B.get(d.uid);if(O){(b=O.abort)==null||b.call(O),B.delete(d.uid);const H=$.get(d.uid);H&&(H.status="error",H.percent=0,S(H))}},J=d=>{if(d){const b=$.get(d.uid);b&&D(b)}else for(const b of f.value)b.status==="init"&&D(b)},_=async(d,b)=>{const O=`${Date.now()}${b}`,H=Vo(d)?URL.createObjectURL(d):void 0,ee=Y({uid:O,file:d,url:H,name:d.name,status:"init",percent:0});$.set(O,ee),f.value.push(ee),S(ee),e.autoUpload&&D(ee)},z=d=>{if(e.limit>0&&f.value.length+d.length>e.limit){t("exceedLimit",f.value,d);return}for(let b=0;b<d.length;b++){const O=d[b];le(e.onBeforeUpload)?Promise.resolve(e.onBeforeUpload(O)).then(H=>{H&&_(ht(H)?O:H,b)}).catch(H=>{console.error(H)}):_(O,b)}},E=d=>{f.value.splice(f.value.indexOf(d),1),S(d)},U=d=>{le(e.onBeforeRemove)?Promise.resolve(e.onBeforeRemove(d)).then(b=>{b&&E(d)}).catch(b=>{console.error(b)}):E(d)},q=d=>{if(e.imagePreview&&d.url){const b=de.value.indexOf(d.url);b>-1&&(se.value=b,Z.value=!0)}t("preview",d)};ct(ye,Y({disabled:g,listType:r,iconCls:`${h}-icon`,showRemoveButton:m,showRetryButton:u,showCancelButton:i,showLink:k,imageLoading:p,download:v,customIcon:a,slots:n,onUpload:D,onAbort:K,onRemove:U,onPreview:q}));const T=c(()=>{if(e.accept)return e.accept;if(e.listType==="picture"||e.listType==="picture-card")return"image/*"}),N=()=>{const d=s(Eo,{key:"arco-upload-button",disabled:g.value,draggable:e.draggable,listType:e.listType,uploadFiles:z,multiple:e.multiple,directory:e.directory,tip:e.tip,hide:!e.showUploadButton||F.value&&!(gt(e.showUploadButton)&&e.showUploadButton.showOnExceedLimit),accept:T.value,onButtonClick:e.onButtonClick},{default:n["upload-button"]});return e.tip&&e.listType!=="picture-card"&&!e.draggable?s("span",null,[d,s("div",{class:`${h}-tip`},[e.tip])]):d},Z=V(!1),se=V(0),_e=d=>{se.value=d},$e=d=>{Z.value=d},de=c(()=>f.value.filter(d=>Boolean(d.url)).map(d=>d.url));return{prefixCls:h,render:()=>e.showFileList?s("div",{class:[`${h}-wrapper`,`${h}-wrapper-type-${e.listType}`]},[e.imagePreview&&de.value.length>0&&s(bo,{srcList:de.value,visible:Z.value,current:se.value,onChange:_e,onVisibleChange:$e},null),e.listType!=="picture-card"&&e.showUploadButton&&N(),s(Fl,{fileList:f.value,listType:e.listType},{"upload-button":N,"upload-item":n["upload-item"]})]):e.showUploadButton&&N(),innerSubmit:J,innerAbort:K,innerUpdateFile:I}},methods:{submit(e){return this.innerSubmit(e)},abort(e){return this.innerAbort(e)},updateFile(e,t){return this.innerUpdateFile(e,t)}},render(){return this.render()}});const Ul=Object.assign(We,{install:(e,t)=>{yt(e,t);const n=_t(t);e.component(n+We.name,We)}});const Rl="_railContainer_xg5rh_1",Wl="_sliderBar_xg5rh_7";var Dl={railContainer:Rl,sliderBar:Wl};const El=P({__name:"Rail",setup(e){let t=221;const n=V(),l=V(!1),o=V(0);Ht(()=>{});function r(u){l.value&&(o.value=u.pageX-t)}function a(u){l.value=!0,o.value=u.pageX-t}return(u,i)=>(w(),C("div",{ref_key:"railContainerRef",ref:n,class:L(u.$style.railContainer),onMousemove:r},[y("div",{class:L(u.$style.sliderBar),onMousedown:a,onMouseup:i[0]||(i[0]=m=>l.value=!1),style:R({left:o.value+"px"})},null,38)],34))}}),ql={$style:Dl};var Zl=Zt(El,[["__cssModules",ql],["__scopeId","data-v-1923c09e"]]);const Hl={"f-ac-jc":"","mt-20":"","b-1":"","b-b-0":"","h-100":""},Gl={"b-1":""},Kl={"m-auto":"","wp-80":"",flex:"","p-20":""},Xl={"f-ac":"","wp-50":"","mr-50":""},Yl=y("span",{"w-100":""},"\u5F00\u59CB\u65F6\u95F4",-1),Jl={"f-ac":"","wp-50":""},Ql=y("span",{"w-100":""},"\u7ED3\u675F\u65F6\u95F4",-1),ei={"m-auto":"","wp-80":"",flex:"","p-20":""},ti={"f-ac":"","wp-50":"","mr-50":""},ni=y("span",{"w-100":""},"\u5BFC\u51FA\u540D",-1),oi={"f-ac":"","wp-50":""},li=y("span",{"w-100":""},"\u5BFC\u51FA\u683C\u5F0F",-1),ii=P({__name:"ClipSetting",emits:["setting"],setup(e,{emit:t}){const n=Y({rangeStart:0,rangeEnd:0,output:"",fileType:""});return(l,o)=>{const r=Zl,a=Ft,u=Ot;return w(),C(ce,null,[y("div",Hl,[s(r)]),y("div",Gl,[y("div",Kl,[y("div",Xl,[Yl,s(a,{modelValue:n.rangeStart,"onUpdate:modelValue":o[0]||(o[0]=i=>n.rangeStart=i)},null,8,["modelValue"])]),y("div",Jl,[Ql,s(a,{modelValue:n.rangeEnd,"onUpdate:modelValue":o[1]||(o[1]=i=>n.rangeEnd=i)},null,8,["modelValue"])])]),y("div",ei,[y("div",ti,[ni,s(u,{modelValue:n.output,"onUpdate:modelValue":o[2]||(o[2]=i=>n.output=i)},null,8,["modelValue"])]),y("div",oi,[li,s(u,{modelValue:n.fileType,"onUpdate:modelValue":o[3]||(o[3]=i=>n.fileType=i)},null,8,["modelValue"])])])])],64)}}});async function ri(){const e=Ge.createFFmpeg({log:!0});return await e.load(),{ffmpeg:e,fetchFile:Ge.fetchFile}}async function si(){const{ffmpeg:e,fetchFile:t}=await ri();async function n(a){e.FS("writeFile",a.name,await t(a))}function l(a){try{return e.FS("readFile",a).buffer}catch(u){console.warn("error",u)}return null}async function o(a,u){await ai(e,a,u)}async function r(a){const{frameNum:u=8,duration:i,file:m}=a,p=i/(u-1);for(let k=0;k<u;k++)await o(m.name,Math.floor(p)*k);const v=[];for(let k=0;k<u;k++){const h=Math.floor(p)*k,g=`frame-${h}.jpeg`,x=l(g);x&&v.push({url:xt(x,"jpeg"),index:k,time:h,fileName:g})}return v}return{writeFile:n,readFile:l,clipImage:o,getClipImages:r}}async function ai(e,t,n){await e.run("-ss",`${n}`,"-i",t,"-s","960x540","-f","image2","-frames","1",`frame-${n}.jpeg`)}const ui={key:1,"f-ac-jc":""},ci=["src"],di={flex:"","flex-wrap":""},fi=["src"],wi=P({__name:"VideoClip",setup(e){const t=V({}),n=V([]),l=c(()=>n.value.sort((r,a)=>r.index-a.index).map(r=>r.url));pe(()=>{var r;return(r=t.value)==null?void 0:r.file},async r=>{const{writeFile:a,getClipImages:u}=await si();await a(r),n.value=await u({file:r,duration:t.value.duration})},{deep:!0});async function o(r,a){t.value=await Mt(a)}return(r,a)=>{var i;const u=Ul;return w(),C(ce,null,[t.value.file?(w(),C("div",ui,[y("video",{src:(i=t.value)==null?void 0:i.url,width:"300",height:"300",autoplay:"",loop:""},null,8,ci)])):(w(),fe(u,{key:0,draggable:"",action:"/",onChange:o})),s(ii),y("div",di,[(w(!0),C(ce,null,at(Gt(l),m=>(w(),C("img",{"h-100":"",src:m,alt:""},null,8,fi))),256))])],64)}}});export{wi as default};
