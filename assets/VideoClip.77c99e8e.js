import{b as ue,g as A,i as J,_ as Z,m as Bt,c as Xe,l as ie,s as $t,a as bt,k as Ot,I as Ft,h as _t,o as Nt,B as wt,u as Mt,f as Tt}from"./index.be275d6f.js";import{M as At}from"./index.612f7938.js";/* empty css              */import{i as Vt,a as Ut,P as Dt,u as Et,f as xt,I as Rt,g as Wt}from"./utils.26958810.js";import"./index.5ceca9a8.js";import{r as U,c as p,y as ve,u as Qe,O as Ct,d as B,o as L,a as z,n as T,e as H,a3 as qt,t as se,j as Y,p as et,B as a,S as ke,F as ae,x as he,P as Zt,z as Ht,b as $e,g as re,f as b,m as de,k as Ye,h as pe,w as ce,R as St,N as Gt,a4 as fe,E as Kt,G as Xt,T as nt,i as ee,D as Yt,Y as Jt,V as Qt,Q as en,_ as tn,I as N,C as lt}from"./index.13efb4fa.js";import{q as nn,A as ln,o as Ie,a as Pe,C as on,d as rn,k as an,N as Le,t as sn,I as un}from"./use-popup-manager.35457e0b.js";import{u as cn,a as ot}from"./index.9860aab2.js";import{b as dn,I as fn}from"./index.0ecf0cf5.js";import{a as ge,b as be}from"./index.7953a262.js";import{u as Je}from"./use-merge-state.76c558fa.js";import{I as vn,a as mn}from"./index.94843f9d.js";import{R as pn}from"./render-function.280c77be.js";import"./handleFile.719ba7a4.js";const gn=({itemRef:e,selector:t,index:n,parentClassName:i})=>{const l=U(-1),r=p(()=>{var g;return(g=n==null?void 0:n.value)!=null?g:l.value}),o=U(),c=()=>{var g,v,u;let f=(v=(g=e.value)==null?void 0:g.parentElement)!=null?v:void 0;if(i)for(;f&&!f.className.includes(i);)f=(u=f.parentElement)!=null?u:void 0;return f},s=()=>{if(ue(n==null?void 0:n.value)&&o.value&&e.value){const g=Array.from(o.value.querySelectorAll(t)).indexOf(e.value);g!==l.value&&(l.value=g)}};return ve(e,()=>{e.value&&!o.value&&(o.value=c())}),Qe(()=>{e.value&&(o.value=c()),s()}),Ct(()=>s()),{computedIndex:r}},yn=B({name:"IconImageClose",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=A("icon"),i=p(()=>[n,`${n}-image-close`,{[`${n}-spin`]:e.spin}]),l=p(()=>{const o={};return e.size&&(o.fontSize=J(e.size)?`${e.size}px`:e.size),e.rotate&&(o.transform=`rotate(${e.rotate}deg)`),o});return{cls:i,innerStyle:l,onClick:o=>{t("click",o)}}}}),kn=["stroke-width","stroke-linecap","stroke-linejoin"],hn=qt('<path d="M41 26V9a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v30a2 2 0 0 0 2 2h17"></path><path d="m24 33 9-8.5V27s-2 1-3.5 2.5C27.841 31.159 27 33 27 33h-3Zm0 0-3.5-4.5L17 33h7Z"></path><path d="M20.5 28.5 17 33h7l-3.5-4.5ZM33 24.5 24 33h3s.841-1.841 2.5-3.5C31 28 33 27 33 27v-2.5Z" fill="currentColor" stroke="none"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M46 38a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm-4.95-4.782 1.74 1.74-3.045 3.046 3.046 3.046-1.74 1.74-3.047-3.045-3.046 3.046-1.74-1.74 3.046-3.047-3.046-3.046 1.74-1.74 3.046 3.046 3.046-3.046Z" fill="currentColor" stroke="none"></path><path d="M17 15h-2v2h2v-2Z"></path>',5),$n=[hn];function bn(e,t,n,i,l,r){return L(),z("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:T(e.cls),style:H(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...o)=>e.onClick&&e.onClick(...o))},$n,14,kn)}var je=Z(yn,[["render",bn]]);const _n=Object.assign(je,{install:(e,t)=>{var n;const i=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(i+je.name,je)}}),It=Symbol("ArcoDescriptions");var wn=Object.defineProperty,it=Object.getOwnPropertySymbols,Cn=Object.prototype.hasOwnProperty,Sn=Object.prototype.propertyIsEnumerable,rt=(e,t,n)=>t in e?wn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,at=(e,t)=>{for(var n in t||(t={}))Cn.call(t,n)&&rt(e,n,t[n]);if(it)for(var n of it(t))Sn.call(t,n)&&rt(e,n,t[n]);return e};const st=e=>e?e.reduce((t,n)=>t+n.span,0):0;var ze=B({name:"Descriptions",props:{data:{type:Array,default:()=>[]},column:{type:[Number,Object],default:3},title:String,layout:{type:String,default:"horizontal"},align:{type:[String,Object],default:"left"},size:{type:String},bordered:{type:Boolean,default:!1},labelStyle:{type:Object},valueStyle:{type:Object},tableLayout:{type:String,default:"auto"}},setup(e,{slots:t}){const{column:n,size:i}=se(e),l=A("descriptions"),{mergedSize:r}=Bt(i),o=cn(n,3,!0),c=p(()=>{var y;return(y=Xe(e.align)?e.align.label:e.align)!=null?y:"left"}),s=p(()=>{var y;return(y=Xe(e.align)?e.align.value:e.align)!=null?y:"left"}),g=p(()=>at({textAlign:c.value},e.labelStyle)),v=p(()=>at({textAlign:s.value},e.valueStyle)),u=Y(new Map),f=p(()=>Array.from(u.values()).sort((y,d)=>y.index-d.index).map(y=>y.span));et(It,Y({addItem:(y,d)=>{u.set(y,d)},removeItem:y=>{u.delete(y)}}));const P=y=>{const d=[];if(y.forEach((h,O)=>{var M;const E=Math.min((M=ke(h)?f.value[O]:h.span)!=null?M:1,o.value),F=d[d.length-1],x=st(F);x===0||x>=o.value?d.push([{data:h,span:E}]):F.push({data:h,span:E+x>o.value?o.value-x:E})}),d.length){const h=d[d.length-1],O=st(h);O<o.value&&(h[h.length-1].span+=o.value-O)}return d},_=p(()=>{var y;return P((y=e.data)!=null?y:[])}),w=(y,d)=>{var h,O,M,E,F;return ke(y)?ln(y,y.children)&&((O=(h=y.children).label)==null?void 0:O.call(h))||((M=y.props)==null?void 0:M.label):(F=(E=t.label)==null?void 0:E.call(t,{label:y.label,index:d,data:y}))!=null?F:ie(y.label)?y.label():y.label},S=(y,d)=>{var h,O;return ke(y)?y:(O=(h=t.value)==null?void 0:h.call(t,{value:y.value,index:d,data:y}))!=null?O:ie(y.value)?y.value():y.value},C=y=>a(ae,null,[a("tr",{class:`${l}-row`},[y.map((d,h)=>a("td",{key:`label-${h}`,class:[`${l}-item-label`,`${l}-item-label-block`],style:g.value,colspan:d.span},[w(d.data,h)]))]),a("tr",{class:`${l}-row`},[y.map((d,h)=>a("td",{key:`value-${h}`,class:[`${l}-item-value`,`${l}-item-value-block`],style:v.value,colspan:d.span},[S(d.data,h)]))])]),q=(y,d)=>a("tr",{class:`${l}-row`,key:`tr-${d}`},[y.map(h=>a(ae,null,[a("td",{class:[`${l}-item-label`,`${l}-item-label-block`],style:g.value},[w(h.data,d)]),a("td",{class:[`${l}-item-value`,`${l}-item-value-block`],style:v.value,colspan:h.span*2-1},[S(h.data,d)])]))]),D=(y,d)=>a("tr",{class:`${l}-row`,key:`inline-${d}`},[y.map((h,O)=>a("td",{key:`item-${O}`,class:`${l}-item`,colspan:h.span},[a("div",{class:[`${l}-item-label`,`${l}-item-label-inline`],style:g.value},[w(h.data,O)]),a("div",{class:[`${l}-item-value`,`${l}-item-value-inline`],style:v.value},[S(h.data,O)])]))]),I=(y,d)=>["inline-horizontal","inline-vertical"].includes(e.layout)?D(y,d):e.layout==="vertical"?C(y):q(y,d),G=p(()=>[l,`${l}-layout-${e.layout}`,`${l}-size-${r.value}`,{[`${l}-border`]:e.bordered},{[`${l}-table-layout-fixed`]:e.tableLayout==="fixed"}]),K=()=>{var y,d;const h=(d=(y=t.title)==null?void 0:y.call(t))!=null?d:e.title;return h?a("div",{class:`${l}-title`},[h]):null};return()=>{const y=t.default?P(nn(t.default())):_.value;return a("div",{class:G.value},[K(),a("div",{class:`${l}-body`},[a("table",{class:`${l}-table`},[a("tbody",null,[y.map((d,h)=>I(d,h))])])])])}}});const In=B({name:"DescriptionsItem",props:{span:{type:Number,default:1},label:String},setup(e){var t;const{span:n}=se(e),i=A("descriptions"),l=he(It,{}),r=Ht(),o=U(),{computedIndex:c}=gn({itemRef:o,selector:`.${i}-item-value`,parentClassName:`${i}-table`}),s=Y({index:c,span:n});r!=null&&r.uid&&((t=l.addItem)==null||t.call(l,r.uid,s));const g=()=>{var v;const u=((v=r==null?void 0:r.proxy)==null?void 0:v.$el).parentElement;u&&u!==o.value&&(o.value=u)};return Qe(()=>g()),Ct(()=>g()),Zt(()=>{var v;r!=null&&r.uid&&((v=l.removeItem)==null||v.call(l,r.uid))}),{prefixCls:i}}});function Pn(e,t,n,i,l,r){return $e(e.$slots,"default")}var Be=Z(In,[["render",Pn]]);const Ln=Object.assign(ze,{DescriptionsItem:Be,install:(e,t)=>{$t(e,t);const n=bt(t);e.component(n+ze.name,ze),e.component(n+Be.name,Be)}}),jn=B({name:"ImagePreviewArrow",components:{IconLeft:vn,IconRight:mn},props:{onPrev:{type:Function},onNext:{type:Function}},setup(){return{prefixCls:A("image-preview-arrow")}}});function zn(e,t,n,i,l,r){const o=re("icon-left"),c=re("icon-right");return L(),z("div",{class:T(e.prefixCls)},[b("div",{class:T([`${e.prefixCls}-left`,{[`${e.prefixCls}-disabled`]:!e.onPrev}]),onClick:t[0]||(t[0]=s=>{s.preventDefault(),e.onPrev&&e.onPrev()})},[a(o)],2),b("div",{class:T([`${e.prefixCls}-right`,{[`${e.prefixCls}-disabled`]:!e.onNext}]),onClick:t[1]||(t[1]=s=>{s.preventDefault(),e.onNext&&e.onNext()})},[a(c)],2)],2)}var Bn=Z(jn,[["render",zn]]);function On(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!ke(e)}var Fn=B({name:"ImagePreviewAction",components:{Tooltip:ge},inheritAttrs:!1,props:{name:{type:String},disabled:{type:Boolean}},setup(e,{slots:t,attrs:n}){const i=A("image-preview-toolbar-action");return()=>{var l;const{name:r,disabled:o}=e,c=(l=t.default)==null?void 0:l.call(t);if(!c||!c.length)return null;const s=a("div",de({class:[`${i}`,{[`${i}-disabled`]:o}],onMousedown:g=>{g.preventDefault()}},n),[a("span",{class:`${i}-content`},[c])]);return r?a(ge,{class:`${i}-tooltip`,content:r},On(s)?s:{default:()=>[s]}):s}}}),Nn=B({name:"ImagePreviewToolbar",components:{RenderFunction:pn,PreviewAction:Fn},props:{actions:{type:Array,default:()=>[]},actionsLayout:{type:Array,default:()=>[]}},setup(e){const{actions:t,actionsLayout:n}=se(e),i=A("image-preview-toolbar"),l=p(()=>{const r=new Set(n.value),o=s=>r.has(s.key);return t.value.filter(o).sort((s,g)=>{const v=n.value.indexOf(s.key),u=n.value.indexOf(g.key);return v>u?1:-1})});return{prefixCls:i,resultActions:l}}});function Mn(e,t,n,i,l,r){const o=re("RenderFunction"),c=re("PreviewAction");return L(),z("div",{class:T(e.prefixCls)},[(L(!0),z(ae,null,Ye(e.resultActions,s=>(L(),pe(c,{key:s.key,name:s.name,disabled:s.disabled,onClick:s.onClick},{default:ce(()=>[a(o,{"render-func":s.content},null,8,["render-func"])]),_:2},1032,["name","disabled","onClick"]))),128)),$e(e.$slots,"default")],2)}var Tn=Z(Nn,[["render",Mn]]);function An(e){const t=U(e||"beforeLoad"),n=p(()=>t.value==="beforeLoad"),i=p(()=>t.value==="loading"),l=p(()=>t.value==="error"),r=p(()=>t.value==="loaded");return{status:t,isBeforeLoad:n,isLoading:i,isError:l,isLoaded:r,setLoadStatus:o=>{t.value=o}}}function Vn(e,t,n,i,l){let r=n,o=i;return n&&(e.width>t.width?r=0:(t.left>e.left&&(r-=Math.abs(e.left-t.left)/l),t.right<e.right&&(r+=Math.abs(e.right-t.right)/l))),i&&(e.height>t.height?o=0:(t.top>e.top&&(o-=Math.abs(e.top-t.top)/l),t.bottom<e.bottom&&(o+=Math.abs(e.bottom-t.bottom)/l))),[r,o]}function Un(e){const{wrapperEl:t,imageEl:n,scale:i}=se(e),l=U([0,0]),r=U(!1);let o=0,c=0,s=[0,0];const g=()=>{if(!t.value||!n.value)return;const k=t.value.getBoundingClientRect(),P=n.value.getBoundingClientRect(),[_,w]=Vn(k,P,l.value[0],l.value[1],i.value);(_!==l.value[0]||w!==l.value[1])&&(l.value=[_,w])},v=k=>{k.preventDefault&&k.preventDefault();const P=s[0]+(k.pageX-o)/i.value,_=s[1]+(k.pageY-c)/i.value;l.value=[P,_]},u=k=>{k.preventDefault&&k.preventDefault(),r.value=!1,g(),m()},f=k=>{k.target===k.currentTarget&&(k.preventDefault&&k.preventDefault(),r.value=!0,o=k.pageX,c=k.pageY,s=[...l.value],Ie(window,"mousemove",v,!1),Ie(window,"mouseup",u,!1))};function m(){Pe(window,"mousemove",v,!1),Pe(window,"mouseup",u,!1)}return St(k=>{n.value&&Ie(n.value,"mousedown",f),k(()=>{n.value&&Pe(n.value,"mousedown",f),m()})}),ve([i],()=>{Gt(()=>g())}),{translate:l,moving:r,resetTranslate(){l.value=[0,0]}}}const Dn=B({name:"IconZoomOut",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=A("icon"),i=p(()=>[n,`${n}-zoom-out`,{[`${n}-spin`]:e.spin}]),l=p(()=>{const o={};return e.size&&(o.fontSize=J(e.size)?`${e.size}px`:e.size),e.rotate&&(o.transform=`rotate(${e.rotate}deg)`),o});return{cls:i,innerStyle:l,onClick:o=>{t("click",o)}}}}),En=["stroke-width","stroke-linecap","stroke-linejoin"],xn=b("path",{d:"M32.607 32.607A14.953 14.953 0 0 0 37 22c0-8.284-6.716-15-15-15-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15 4.142 0 7.892-1.679 10.607-4.393Zm0 0L41.5 41.5M29 22H15"},null,-1),Rn=[xn];function Wn(e,t,n,i,l,r){return L(),z("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:T(e.cls),style:H(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...o)=>e.onClick&&e.onClick(...o))},Rn,14,En)}var Oe=Z(Dn,[["render",Wn]]);const qn=Object.assign(Oe,{install:(e,t)=>{var n;const i=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(i+Oe.name,Oe)}}),Zn=B({name:"IconZoomIn",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=A("icon"),i=p(()=>[n,`${n}-zoom-in`,{[`${n}-spin`]:e.spin}]),l=p(()=>{const o={};return e.size&&(o.fontSize=J(e.size)?`${e.size}px`:e.size),e.rotate&&(o.transform=`rotate(${e.rotate}deg)`),o});return{cls:i,innerStyle:l,onClick:o=>{t("click",o)}}}}),Hn=["stroke-width","stroke-linecap","stroke-linejoin"],Gn=b("path",{d:"M32.607 32.607A14.953 14.953 0 0 0 37 22c0-8.284-6.716-15-15-15-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15 4.142 0 7.892-1.679 10.607-4.393Zm0 0L41.5 41.5M29 22H15m7 7V15"},null,-1),Kn=[Gn];function Xn(e,t,n,i,l,r){return L(),z("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:T(e.cls),style:H(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...o)=>e.onClick&&e.onClick(...o))},Kn,14,Hn)}var Fe=Z(Zn,[["render",Xn]]);const Yn=Object.assign(Fe,{install:(e,t)=>{var n;const i=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(i+Fe.name,Fe)}}),Jn=B({name:"IconFullscreen",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=A("icon"),i=p(()=>[n,`${n}-fullscreen`,{[`${n}-spin`]:e.spin}]),l=p(()=>{const o={};return e.size&&(o.fontSize=J(e.size)?`${e.size}px`:e.size),e.rotate&&(o.transform=`rotate(${e.rotate}deg)`),o});return{cls:i,innerStyle:l,onClick:o=>{t("click",o)}}}}),Qn=["stroke-width","stroke-linecap","stroke-linejoin"],el=b("path",{d:"M42 17V9a1 1 0 0 0-1-1h-8M6 17V9a1 1 0 0 1 1-1h8m27 23v8a1 1 0 0 1-1 1h-8M6 31v8a1 1 0 0 0 1 1h8"},null,-1),tl=[el];function nl(e,t,n,i,l,r){return L(),z("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:T(e.cls),style:H(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...o)=>e.onClick&&e.onClick(...o))},tl,14,Qn)}var Ne=Z(Jn,[["render",nl]]);const ll=Object.assign(Ne,{install:(e,t)=>{var n;const i=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(i+Ne.name,Ne)}}),ol=B({name:"IconRotateLeft",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=A("icon"),i=p(()=>[n,`${n}-rotate-left`,{[`${n}-spin`]:e.spin}]),l=p(()=>{const o={};return e.size&&(o.fontSize=J(e.size)?`${e.size}px`:e.size),e.rotate&&(o.transform=`rotate(${e.rotate}deg)`),o});return{cls:i,innerStyle:l,onClick:o=>{t("click",o)}}}}),il=["stroke-width","stroke-linecap","stroke-linejoin"],rl=b("path",{d:"M10 22a1 1 0 0 1 1-1h20a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H11a1 1 0 0 1-1-1V22ZM23 11h11a6 6 0 0 1 6 6v6M22.5 12.893 19.587 11 22.5 9.107v3.786Z"},null,-1),al=[rl];function sl(e,t,n,i,l,r){return L(),z("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:T(e.cls),style:H(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...o)=>e.onClick&&e.onClick(...o))},al,14,il)}var Me=Z(ol,[["render",sl]]);const ul=Object.assign(Me,{install:(e,t)=>{var n;const i=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(i+Me.name,Me)}}),cl=B({name:"IconRotateRight",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=A("icon"),i=p(()=>[n,`${n}-rotate-right`,{[`${n}-spin`]:e.spin}]),l=p(()=>{const o={};return e.size&&(o.fontSize=J(e.size)?`${e.size}px`:e.size),e.rotate&&(o.transform=`rotate(${e.rotate}deg)`),o});return{cls:i,innerStyle:l,onClick:o=>{t("click",o)}}}}),dl=["stroke-width","stroke-linecap","stroke-linejoin"],fl=b("path",{d:"M38 22a1 1 0 0 0-1-1H17a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h20a1 1 0 0 0 1-1V22ZM25 11H14a6 6 0 0 0-6 6v6M25.5 12.893 28.413 11 25.5 9.107v3.786Z"},null,-1),vl=[fl];function ml(e,t,n,i,l,r){return L(),z("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:T(e.cls),style:H(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...o)=>e.onClick&&e.onClick(...o))},vl,14,dl)}var Te=Z(cl,[["render",ml]]);const pl=Object.assign(Te,{install:(e,t)=>{var n;const i=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(i+Te.name,Te)}}),gl=B({name:"IconOriginalSize",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=A("icon"),i=p(()=>[n,`${n}-original-size`,{[`${n}-spin`]:e.spin}]),l=p(()=>{const o={};return e.size&&(o.fontSize=J(e.size)?`${e.size}px`:e.size),e.rotate&&(o.transform=`rotate(${e.rotate}deg)`),o});return{cls:i,innerStyle:l,onClick:o=>{t("click",o)}}}}),yl=["stroke-width","stroke-linecap","stroke-linejoin"],kl=b("path",{d:"m5.5 11.5 5-2.5h1v32M34 11.5 39 9h1v32"},null,-1),hl=b("path",{d:"M24 17h1v1h-1v-1ZM24 30h1v1h-1v-1Z",fill:"currentColor",stroke:"none"},null,-1),$l=b("path",{d:"M24 17h1v1h-1v-1ZM24 30h1v1h-1v-1Z"},null,-1),bl=[kl,hl,$l];function _l(e,t,n,i,l,r){return L(),z("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:T(e.cls),style:H(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...o)=>e.onClick&&e.onClick(...o))},bl,14,yl)}var Ae=Z(gl,[["render",_l]]);const wl=Object.assign(Ae,{install:(e,t)=>{var n;const i=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(i+Ae.name,Ae)}});function Cl(e){const{container:t,hidden:n}=se(e);let i=!1,l={};const r=s=>s.tagName==="BODY"?window.innerWidth-(document.body.clientWidth||document.documentElement.clientWidth):s.offsetWidth-s.clientWidth,o=()=>{if(t.value&&t.value.style.overflow!=="hidden"){const s=t.value.style;i=!0;const g=r(t.value);g&&(l.width=s.width,t.value.style.width=`calc(${t.value.style.width||"100%"} - ${g}px)`),l.overflow=s.overflow,t.value.style.overflow="hidden"}},c=()=>{if(t.value&&i){const s=l;Object.keys(s).forEach(g=>{t.value.style[g]=s[g]})}i=!1,l={}};return St(s=>{n.value?o():c(),s(()=>{c()})}),[c,o]}function Sl(e,t){const{popupContainer:n}=se(t);return p(()=>(Ot(n.value)?on(n.value):n.value)||e)}const te=[25,33,50,67,75,80,90,100,110,125,150,175,200,250,300,400,500].map(e=>+(e/100).toFixed(2)),Il=te[0],Pl=te[te.length-1];function ut(e=1,t="zoomIn"){let n=te.indexOf(e);return n===-1&&(n=Ll(e)),t==="zoomIn"?n===te.length-1?e:te[n+1]:n===0?e:te[n-1]}function Ll(e){let t=te.length-1;for(let n=0;n<te.length;n++){const i=te[n];if(e===i){t=n;break}if(e<i){const l=te[n-1];t=l===void 0||Math.abs(l-e)<=Math.abs(i-e)?n-1:n;break}}return t}var jl=Object.defineProperty,ct=Object.getOwnPropertySymbols,zl=Object.prototype.hasOwnProperty,Bl=Object.prototype.propertyIsEnumerable,dt=(e,t,n)=>t in e?jl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ol=(e,t)=>{for(var n in t||(t={}))zl.call(t,n)&&dt(e,n,t[n]);if(ct)for(var n of ct(t))Bl.call(t,n)&&dt(e,n,t[n]);return e};const Ve=90;var Fl=B({name:"ImagePreview",components:{PreviewArrow:Bn,PreviewToolbar:Tn,IconLoading:Ft,IconClose:rn},props:{renderToBody:{type:Boolean,default:!0},src:{type:String},visible:{type:Boolean,default:void 0},defaultVisible:{type:Boolean,default:!1},maskClosable:{type:Boolean,default:!0},closable:{type:Boolean,default:!0},actionsLayout:{type:Array,default:()=>["fullScreen","rotateRight","rotateLeft","zoomIn","zoomOut","originalSize"]},popupContainer:{type:[Object,String]},inGroup:{type:Boolean,default:!1},groupArrowProps:{type:Object,default:()=>({})}},emits:["close","update:visible"],setup(e,{emit:t}){const{t:n}=be(),{src:i,popupContainer:l,visible:r,defaultVisible:o,maskClosable:c}=se(e),s=U(),g=U(),v=A("image-preview"),[u,f]=Je(o.value,Y({value:r})),m=p(()=>[v,{[`${v}-hide`]:!u.value}]),k=Sl(document.body,Y({popupContainer:l})),P=p(()=>k.value===document.body),{zIndex:_}=an("dialog",{visible:u}),w=p(()=>{const V=P.value?{zIndex:_.value,position:"fixed"}:{zIndex:"inherit",position:"absolute"};return Ol({},V)}),{isLoading:S,isLoaded:C,setLoadStatus:q}=An(),D=U(0),I=U(1),{translate:G,moving:K,resetTranslate:y}=Un(Y({wrapperEl:s,imageEl:g,visible:u,scale:I})),d=U(!1);let h=null;const O=()=>{!d.value&&(d.value=!0),h&&clearTimeout(h),h=setTimeout(()=>{d.value=!1},1e3)};Cl(Y({container:k,hidden:u}));function M(){D.value=0,I.value=1,y()}ve([i,u],()=>{u.value&&(M(),q("loading"))});function E(){u.value&&(t("close"),t("update:visible",!1),f(!1))}function F(V){c.value&&V.target===V.currentTarget&&E()}function x(V){I.value!==V&&(I.value=V,O())}return{prefixCls:v,classNames:m,container:k,wrapperStyles:w,scale:I,translate:G,rotate:D,moving:K,mergedVisible:u,isLoading:S,isLoaded:C,scaleValueVisible:d,refWrapper:s,refImage:g,onMaskClick:F,onCloseClick:E,onImgLoad(){q("loaded")},onImgError(){q("error")},actions:p(()=>[{key:"fullScreen",name:n("imagePreview.fullScreen"),content:()=>fe(ll),onClick:()=>{const V=s.value.getBoundingClientRect(),Q=g.value.getBoundingClientRect(),me=V.height/(Q.height/I.value),we=V.width/(Q.width/I.value),Ce=Math.max(me,we);x(Ce)}},{key:"rotateRight",name:n("imagePreview.rotateRight"),content:()=>fe(pl),onClick:()=>{D.value=(D.value+Ve)%360}},{key:"rotateLeft",name:n("imagePreview.rotateLeft"),content:()=>fe(ul),onClick:()=>{D.value=D.value===0?360-Ve:D.value-Ve}},{key:"zoomIn",name:n("imagePreview.zoomIn"),content:()=>fe(Yn),onClick:()=>{const V=ut(I.value,"zoomIn");x(V)},disabled:I.value===Pl},{key:"zoomOut",name:n("imagePreview.zoomOut"),content:()=>fe(qn),onClick:()=>{const V=ut(I.value,"zoomOut");x(V)},disabled:I.value===Il},{key:"originalSize",name:n("imagePreview.originalSize"),content:()=>fe(wl),onClick:()=>{x(1)}}])}}});const Nl=["src"];function Ml(e,t,n,i,l,r){const o=re("IconLoading"),c=re("PreviewToolbar"),s=re("IconClose"),g=re("PreviewArrow");return L(),pe(Qt,{to:e.container,disabled:!e.renderToBody},[b("div",{class:T(e.classNames),style:H(e.wrapperStyles)},[a(nt,{name:"image-fade",onBeforeEnter:t[0]||(t[0]=v=>{v.parentNode.style.display="block"}),onAfterLeave:t[1]||(t[1]=v=>{v.parentNode.style.display=""})},{default:ce(()=>[Kt(b("div",{class:T(`${e.prefixCls}-mask`)},null,2),[[Xt,e.mergedVisible]])]),_:1}),e.mergedVisible?(L(),z("div",{key:0,ref:"refWrapper",class:T(`${e.prefixCls}-wrapper`),onClick:t[6]||(t[6]=(...v)=>e.onMaskClick&&e.onMaskClick(...v))},[ee(" img "),b("div",{class:T(`${e.prefixCls}-img-container`),style:H({transform:`scale(${e.scale}, ${e.scale})`}),onClick:t[4]||(t[4]=(...v)=>e.onMaskClick&&e.onMaskClick(...v))},[(L(),z("img",{ref:"refImage",key:e.src,src:e.src,class:T([`${e.prefixCls}-img`,{[`${e.prefixCls}-img-moving`]:e.moving}]),style:H({transform:`translate(${e.translate[0]}px, ${e.translate[1]}px) rotate(${e.rotate}deg)`}),onLoad:t[2]||(t[2]=(...v)=>e.onImgLoad&&e.onImgLoad(...v)),onError:t[3]||(t[3]=(...v)=>e.onImgError&&e.onImgError(...v))},null,46,Nl))],6),ee(" loading "),e.isLoading?(L(),z("div",{key:0,class:T(`${e.prefixCls}-loading`)},[a(o)],2)):ee("v-if",!0),ee(" scale value "),a(nt,{name:"image-fade"},{default:ce(()=>[e.scaleValueVisible?(L(),z("div",{key:0,class:T(`${e.prefixCls}-scale-value`)},Yt((e.scale*100).toFixed(0))+"% ",3)):ee("v-if",!0)]),_:1}),ee(" toolbar "),e.isLoaded&&e.actionsLayout.length?(L(),pe(c,{key:1,actions:e.actions,"actions-layout":e.actionsLayout},{default:ce(()=>[$e(e.$slots,"actions")]),_:3},8,["actions","actions-layout"])):ee("v-if",!0),ee(" close btn "),e.closable?(L(),z("div",{key:2,class:T(`${e.prefixCls}-close-btn`),onClick:t[5]||(t[5]=(...v)=>e.onCloseClick&&e.onCloseClick(...v))},[a(s)],2)):ee("v-if",!0),ee(" group arrow "),e.inGroup?(L(),pe(g,Jt(de({key:3},e.groupArrowProps)),null,16)):ee("v-if",!0)],2)):ee("v-if",!0)],6)],8,["to","disabled"])}var Tl=Z(Fl,[["render",Ml]]);const Al=Symbol("PreviewGroupInjectionKey");var Vl=B({name:"ImagePreviewGroup",components:{ImagePreview:Tl},inheritAttrs:!1,props:{renderToBody:{type:Boolean,default:!0},srcList:{type:Array},current:{type:Number},defaultCurrent:{type:Number,default:0},infinite:{type:Boolean,default:!1},visible:{type:Boolean,default:void 0},defaultVisible:{type:Boolean,default:!1},maskClosable:{type:Boolean,default:!0},closable:{type:Boolean,default:!0},actionsLayout:{type:Array,default:()=>["fullScreen","rotateRight","rotateLeft","zoomIn","zoomOut","originalSize"]},popupContainer:{type:[Object,String]}},emits:["change","update:current","visible-change","update:visible"],setup(e,{emit:t}){const{srcList:n,visible:i,defaultVisible:l,current:r,defaultCurrent:o,infinite:c}=se(e),[s,g]=Je(l.value,Y({value:i})),v=d=>{d!==s.value&&(t("visible-change",d),t("update:visible",d),g(d))},u=p(()=>new Map(_t(n==null?void 0:n.value)?n==null?void 0:n.value.map((d,h)=>[h,{url:d,canPreview:!0}]):[])),f=U(new Map(u.value||[])),m=p(()=>Array.from(f.value.keys())),k=p(()=>m.value.length);function P(d,h,O){return u.value.has(d)||f.value.set(d,{url:h,canPreview:O}),function(){u.value.has(d)||f.value.delete(d)}}ve(u,()=>{f.value=new Map(u.value||[])});const[_,w]=Je(o.value,Y({value:r})),S=d=>{d!==_.value&&(t("change",d),t("update:current",d),w(d))},C=p(()=>m.value[_.value]),q=d=>{const h=m.value.indexOf(d);h!==_.value&&S(h)},D=p(()=>{var d;return(d=f.value.get(C.value))==null?void 0:d.url});et(Al,Y({registerImageUrl:P,preview:d=>{v(!0),q(d)}}));const I=p(()=>{const d=(O,M)=>{var E;for(let F=O;F<=M;F++){const x=m.value[F];if((E=f.value.get(x))!=null&&E.canPreview)return F}},h=d(_.value+1,k.value-1);return ue(h)&&c.value?d(0,_.value-1):h}),G=p(()=>{const d=(O,M)=>{var E;for(let F=O;F>=M;F--){const x=m.value[F];if((E=f.value.get(x))!=null&&E.canPreview)return F}},h=d(_.value-1,0);return ue(h)&&c.value?d(k.value-1,_.value+1):h}),K=p(()=>ue(G.value)?void 0:()=>{!ue(G.value)&&S(G.value)}),y=p(()=>ue(I.value)?void 0:()=>{!ue(I.value)&&S(I.value)});return{mergedVisible:s,currentUrl:D,prevIndex:G,nextIndex:I,onClose(){v(!1)},groupArrowProps:Y({onPrev:K,onNext:y})}}}),Ul=Object.defineProperty,Dl=Object.defineProperties,El=Object.getOwnPropertyDescriptors,ft=Object.getOwnPropertySymbols,xl=Object.prototype.hasOwnProperty,Rl=Object.prototype.propertyIsEnumerable,vt=(e,t,n)=>t in e?Ul(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Wl=(e,t)=>{for(var n in t||(t={}))xl.call(t,n)&&vt(e,n,t[n]);if(ft)for(var n of ft(t))Rl.call(t,n)&&vt(e,n,t[n]);return e},ql=(e,t)=>Dl(e,El(t));function Zl(e,t,n,i,l,r){const o=re("ImagePreview");return L(),z(ae,null,[$e(e.$slots,"default"),a(o,de(ql(Wl({},e.$attrs),{groupArrowProps:e.groupArrowProps}),{"in-group":"",src:e.currentUrl,visible:e.mergedVisible,"mask-closable":e.maskClosable,closable:e.closable,"actions-layout":e.actionsLayout,"popup-container":e.popupContainer,"render-to-body":e.renderToBody,onClose:e.onClose}),null,16,["src","visible","mask-closable","closable","actions-layout","popup-container","render-to-body","onClose"])],64)}var Hl=Z(Vl,[["render",Zl]]);const Gl=B({name:"IconDelete",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=A("icon"),i=p(()=>[n,`${n}-delete`,{[`${n}-spin`]:e.spin}]),l=p(()=>{const o={};return e.size&&(o.fontSize=J(e.size)?`${e.size}px`:e.size),e.rotate&&(o.transform=`rotate(${e.rotate}deg)`),o});return{cls:i,innerStyle:l,onClick:o=>{t("click",o)}}}}),Kl=["stroke-width","stroke-linecap","stroke-linejoin"],Xl=b("path",{d:"M5 11h5.5m0 0v29a1 1 0 0 0 1 1h25a1 1 0 0 0 1-1V11m-27 0H16m21.5 0H43m-5.5 0H32m-16 0V7h16v4m-16 0h16M20 18v15m8-15v15"},null,-1),Yl=[Xl];function Jl(e,t,n,i,l,r){return L(),z("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:T(e.cls),style:H(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...o)=>e.onClick&&e.onClick(...o))},Yl,14,Kl)}var Ue=Z(Gl,[["render",Jl]]);const Pt=Object.assign(Ue,{install:(e,t)=>{var n;const i=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(i+Ue.name,Ue)}}),Ql=B({name:"IconFile",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=A("icon"),i=p(()=>[n,`${n}-file`,{[`${n}-spin`]:e.spin}]),l=p(()=>{const o={};return e.size&&(o.fontSize=J(e.size)?`${e.size}px`:e.size),e.rotate&&(o.transform=`rotate(${e.rotate}deg)`),o});return{cls:i,innerStyle:l,onClick:o=>{t("click",o)}}}}),eo=["stroke-width","stroke-linecap","stroke-linejoin"],to=b("path",{d:"M16 21h16m-16 8h10m11 13H11a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h21l7 7v27a2 2 0 0 1-2 2Z"},null,-1),no=[to];function lo(e,t,n,i,l,r){return L(),z("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:T(e.cls),style:H(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...o)=>e.onClick&&e.onClick(...o))},no,14,eo)}var De=Z(Ql,[["render",lo]]);const oo=Object.assign(De,{install:(e,t)=>{var n;const i=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(i+De.name,De)}}),mt=e=>{const t=e.responseText||e.response;if(!t)return;const n=e.getResponseHeader("Content-Type");if(n&&n.includes("json"))try{return JSON.parse(t)}catch{return t}return t},io=e=>{switch(e){case"done":return"success";case"error":return"danger";default:return"normal"}},pt=(e,t)=>ie(e)?e(t):e,ro=({fileItem:e,action:t,name:n,data:i,headers:l={},withCredentials:r=!1,onProgress:o=Le,onSuccess:c=Le,onError:s=Le})=>{const g=pt(n,e)||"file",v=pt(i,e),u=new XMLHttpRequest;r&&(u.withCredentials=!0),u.upload.onprogress=m=>{const k=m.total>0?Vt.round(m.loaded/m.total,2):0;o(k,m)},u.onerror=function(k){s(k)},u.onload=()=>{if(u.status<200||u.status>=300){s(mt(u));return}c(mt(u))};const f=new FormData;if(v)for(const m of Object.keys(v))f.append(m,v[m]);e.file&&f.append(g,e.file),u.open("post",t!=null?t:"",!0);for(const m of Object.keys(l))u.setRequestHeader(m,l[m]);return u.send(f),{abort(){u.abort()}}},Lt=(e,t)=>{if(t&&e){const n=_t(t)?t:t.split(",").map(l=>l.trim()).filter(l=>l),i=(e.name.indexOf(".")>-1?`.${e.name.split(".").pop()}`:"").toLowerCase();return n.some(l=>{const r=l&&l.toLowerCase(),o=(e.type||"").toLowerCase(),c=o.split("/")[0];if(r===o||`${c}${i.replace(".","/")}`===r||/^\*(\/\*)?$/.test(r))return!0;if(/\/\*/.test(r))return o.replace(/\/.*$/,"")===r.replace(/\/.*$/,"");if(/\..*/.test(r)){let s=[r];return(r===".jpg"||r===".jpeg")&&(s=[".jpg",".jpeg"]),s.indexOf(i)>-1}return!1})}return!!e},ao=(e,t,n)=>{const i=[];let l=0;const r=()=>{!l&&n(i)},o=c=>{if(l+=1,c!=null&&c.isFile){c.file(s=>{l-=1,Lt(s,t)&&(Object.defineProperty(s,"webkitRelativePath",{value:c.fullPath.replace(/^\//,"")}),i.push(s)),r()});return}if(c!=null&&c.isDirectory){const s=c.createReader();let g=!1;const v=()=>{s.readEntries(u=>{g||(l-=1,g=!0),u.length===0?r():(v(),u.forEach(o))})};v();return}l-=1,r()};[].slice.call(e).forEach(c=>c.webkitGetAsEntry&&o(c.webkitGetAsEntry()))},so=e=>{var t;return(t=e.type)==null?void 0:t.includes("image")},Ee=(e,t)=>{if(!e)return[];const n=Array.from(e);return t?n.filter(i=>Lt(i,t)):n},uo=B({name:"IconUpload",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=A("icon"),i=p(()=>[n,`${n}-upload`,{[`${n}-spin`]:e.spin}]),l=p(()=>{const o={};return e.size&&(o.fontSize=J(e.size)?`${e.size}px`:e.size),e.rotate&&(o.transform=`rotate(${e.rotate}deg)`),o});return{cls:i,innerStyle:l,onClick:o=>{t("click",o)}}}}),co=["stroke-width","stroke-linecap","stroke-linejoin"],fo=b("path",{d:"M14.93 17.071 24.001 8l9.071 9.071m-9.07 16.071v-25M40 35v6H8v-6"},null,-1),vo=[fo];function mo(e,t,n,i,l,r){return L(),z("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:T(e.cls),style:H(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...o)=>e.onClick&&e.onClick(...o))},vo,14,co)}var xe=Z(uo,[["render",mo]]);const tt=Object.assign(xe,{install:(e,t)=>{var n;const i=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(i+xe.name,xe)}});var po=B({name:"UploadButton",props:{disabled:{type:Boolean,default:!1},directory:{type:Boolean,default:!1},accept:String,listType:{type:String},tip:String,draggable:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},uploadFiles:{type:Function,required:!0},hide:Boolean,onButtonClick:{type:Function}},setup(e,{slots:t}){const n=A("upload"),{t:i}=be(),l=U(!1),r=U(null),o=U(null),c=U(0),s=_=>{_==="subtract"?c.value-=1:_==="add"?c.value+=1:_==="reset"&&(c.value=0)},g=_=>{if(!e.disabled){if(ie(e.onButtonClick)){const w=e.onButtonClick(_);if(Nt(w)){w.then(S=>{e.uploadFiles(Ee(S))});return}}r.value&&r.value.click()}},v=_=>{const w=_.target;w.files&&e.uploadFiles(Ee(w.files)),w.value=""},u=_=>{var w,S;if(_.preventDefault(),l.value=!1,s("reset"),!e.disabled)if(e.directory&&((w=_.dataTransfer)==null?void 0:w.items))ao(_.dataTransfer.items,e.accept,C=>{e.uploadFiles(C)});else{const C=Ee((S=_.dataTransfer)==null?void 0:S.files,e.accept);e.uploadFiles(e.multiple?C:C.slice(0,1))}},f=_=>{_.preventDefault(),s("subtract"),c.value===0&&(l.value=!1,s("reset"))},m=_=>{_.preventDefault(),!e.disabled&&!l.value&&(l.value=!0)},k=()=>t.default?a("span",null,[t.default()]):e.listType==="picture-card"?a("div",{class:`${n}-picture-card`},[a("div",{class:`${n}-picture-card-text`},[a(ot,null,null)]),e.tip&&a("div",{class:`${n}-tip`},[e.tip])]):e.draggable?a("div",{class:[`${n}-drag`,{[`${n}-drag-active`]:l.value}]},[a("div",null,[a(ot,null,null)]),a("div",{class:`${n}-drag-text`},[l.value?i("upload.dragHover"):i("upload.drag")]),e.tip&&a("div",{class:`${n}-tip`},[e.tip])]):a(wt,{type:"primary",disabled:e.disabled},{default:()=>[i("upload.buttonText")],icon:()=>a(tt,null,null)}),P=p(()=>[n,{[`${n}-type-picture-card`]:e.listType==="picture-card",[`${n}-draggable`]:e.draggable,[`${n}-disabled`]:e.disabled,[`${n}-hide`]:e.hide}]);return()=>a("span",{ref:o,class:P.value,onClick:g,onDragenter:()=>{s("add")},onDrop:u,onDragover:m,onDragleave:f},[a("input",de({ref:r,type:"file",style:{display:"none"},disabled:e.disabled,accept:e.accept,multiple:e.multiple},e.directory?{webkitdirectory:"webkitdirectory"}:{},{onChange:v}),null),k()])}});const go=B({name:"IconPause",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=A("icon"),i=p(()=>[n,`${n}-pause`,{[`${n}-spin`]:e.spin}]),l=p(()=>{const o={};return e.size&&(o.fontSize=J(e.size)?`${e.size}px`:e.size),e.rotate&&(o.transform=`rotate(${e.rotate}deg)`),o});return{cls:i,innerStyle:l,onClick:o=>{t("click",o)}}}}),yo=["stroke-width","stroke-linecap","stroke-linejoin"],ko=b("path",{d:"M14 12h4v24h-4zM30 12h4v24h-4z"},null,-1),ho=b("path",{fill:"currentColor",stroke:"none",d:"M14 12h4v24h-4zM30 12h4v24h-4z"},null,-1),$o=[ko,ho];function bo(e,t,n,i,l,r){return L(),z("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:T(e.cls),style:H(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...o)=>e.onClick&&e.onClick(...o))},$o,14,yo)}var Re=Z(go,[["render",bo]]);const _o=Object.assign(Re,{install:(e,t)=>{var n;const i=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(i+Re.name,Re)}}),wo=B({name:"IconPlayArrowFill",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=A("icon"),i=p(()=>[n,`${n}-play-arrow-fill`,{[`${n}-spin`]:e.spin}]),l=p(()=>{const o={};return e.size&&(o.fontSize=J(e.size)?`${e.size}px`:e.size),e.rotate&&(o.transform=`rotate(${e.rotate}deg)`),o});return{cls:i,innerStyle:l,onClick:o=>{t("click",o)}}}}),Co=["stroke-width","stroke-linecap","stroke-linejoin"],So=b("path",{d:"M17.533 10.974a1 1 0 0 0-1.537.844v24.356a1 1 0 0 0 1.537.844L36.67 24.84a1 1 0 0 0 0-1.688L17.533 10.974Z",fill:"currentColor",stroke:"none"},null,-1),Io=[So];function Po(e,t,n,i,l,r){return L(),z("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:T(e.cls),style:H(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...o)=>e.onClick&&e.onClick(...o))},Io,14,Co)}var We=Z(wo,[["render",Po]]);const Lo=Object.assign(We,{install:(e,t)=>{var n;const i=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(i+We.name,We)}}),_e=Symbol("ArcoUpload");var jt=B({name:"UploadProgress",props:{file:{type:Object,required:!0},listType:{type:String,required:!0}},setup(e){const t=A("upload-progress"),{t:n}=be(),i=he(_e,void 0),l=()=>{var o,c,s,g,v,u,f,m,k,P,_;return e.file.status==="error"?a("span",{class:[i==null?void 0:i.iconCls,`${i==null?void 0:i.iconCls}-upload`],onClick:()=>i==null?void 0:i.onUpload(e.file)},[(i==null?void 0:i.showRetryButton)&&((v=(c=i==null?void 0:(o=i.slots)["retry-icon"])==null?void 0:c.call(o))!=null?v:(g=(s=i==null?void 0:i.customIcon)==null?void 0:s.retryIcon)==null?void 0:g.call(s))||e.listType==="picture-card"?a(tt,null,null):n("upload.retry")]):e.file.status==="done"?a("span",{class:[i==null?void 0:i.iconCls,`${i==null?void 0:i.iconCls}-success`]},[(_=(P=(f=i==null?void 0:(u=i.slots)["success-icon"])==null?void 0:f.call(u))!=null?P:(k=(m=i==null?void 0:i.customIcon)==null?void 0:m.successIcon)==null?void 0:k.call(m))!=null?_:a(Ut,null,null)]):e.file.status==="init"?a(ge,{content:n("upload.start")},{default:()=>{var w,S,C,q,D,I;return[a("span",{class:[i==null?void 0:i.iconCls,`${i==null?void 0:i.iconCls}-start`],onClick:()=>i==null?void 0:i.onUpload(e.file)},[(I=(D=(S=i==null?void 0:(w=i.slots)["start-icon"])==null?void 0:S.call(w))!=null?D:(q=(C=i==null?void 0:i.customIcon)==null?void 0:C.startIcon)==null?void 0:q.call(C))!=null?I:a(Lo,null,null)])]}}):(i==null?void 0:i.showCancelButton)&&a(ge,{content:n("upload.cancel")},{default:()=>{var w,S,C,q,D,I;return[a("span",{class:[i==null?void 0:i.iconCls,`${i==null?void 0:i.iconCls}-cancel`],onClick:()=>i==null?void 0:i.onAbort(e.file)},[(I=(D=(S=i==null?void 0:(w=i.slots)["cancel-icon"])==null?void 0:S.call(w))!=null?D:(q=(C=i==null?void 0:i.customIcon)==null?void 0:C.cancelIcon)==null?void 0:q.call(C))!=null?I:a(_o,null,null)])]}})},r=()=>{var o;if(["init","uploading"].includes((o=e.file.status)!=null?o:"")){const c=io(e.file.status);return a(Dt,{type:"circle",size:"mini",showText:!1,status:c,percent:e.file.percent},null)}return null};return()=>a("span",{class:t},[r(),l()])}});const jo=B({name:"IconFilePdf",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=A("icon"),i=p(()=>[n,`${n}-file-pdf`,{[`${n}-spin`]:e.spin}]),l=p(()=>{const o={};return e.size&&(o.fontSize=J(e.size)?`${e.size}px`:e.size),e.rotate&&(o.transform=`rotate(${e.rotate}deg)`),o});return{cls:i,innerStyle:l,onClick:o=>{t("click",o)}}}}),zo=["stroke-width","stroke-linecap","stroke-linejoin"],Bo=b("path",{d:"M11 42h26a2 2 0 0 0 2-2V13.828a2 2 0 0 0-.586-1.414l-5.828-5.828A2 2 0 0 0 31.172 6H11a2 2 0 0 0-2 2v32a2 2 0 0 0 2 2Z"},null,-1),Oo=b("path",{d:"M22.305 21.028c.874 1.939 3.506 6.265 4.903 8.055 1.747 2.237 3.494 2.685 4.368 2.237.873-.447 1.21-4.548-7.425-2.685-7.523 1.623-7.424 3.58-6.988 4.476.728 1.193 2.522 2.627 5.678-6.266C25.699 18.79 24.489 17 23.277 17c-1.409 0-2.538.805-.972 4.028Z"},null,-1),Fo=[Bo,Oo];function No(e,t,n,i,l,r){return L(),z("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:T(e.cls),style:H(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...o)=>e.onClick&&e.onClick(...o))},Fo,14,zo)}var qe=Z(jo,[["render",No]]);const Mo=Object.assign(qe,{install:(e,t)=>{var n;const i=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(i+qe.name,qe)}}),To=B({name:"IconFileImage",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=A("icon"),i=p(()=>[n,`${n}-file-image`,{[`${n}-spin`]:e.spin}]),l=p(()=>{const o={};return e.size&&(o.fontSize=J(e.size)?`${e.size}px`:e.size),e.rotate&&(o.transform=`rotate(${e.rotate}deg)`),o});return{cls:i,innerStyle:l,onClick:o=>{t("click",o)}}}}),Ao=["stroke-width","stroke-linecap","stroke-linejoin"],Vo=b("path",{d:"m26 33 5-6v6h-5Zm0 0-3-4-4 4h7Zm11 9H11a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h21l7 7v27a2 2 0 0 1-2 2ZM17 19h1v1h-1v-1Z"},null,-1),Uo=[Vo];function Do(e,t,n,i,l,r){return L(),z("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:T(e.cls),style:H(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...o)=>e.onClick&&e.onClick(...o))},Uo,14,Ao)}var Ze=Z(To,[["render",Do]]);const Eo=Object.assign(Ze,{install:(e,t)=>{var n;const i=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(i+Ze.name,Ze)}}),xo=B({name:"IconFileVideo",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=A("icon"),i=p(()=>[n,`${n}-file-video`,{[`${n}-spin`]:e.spin}]),l=p(()=>{const o={};return e.size&&(o.fontSize=J(e.size)?`${e.size}px`:e.size),e.rotate&&(o.transform=`rotate(${e.rotate}deg)`),o});return{cls:i,innerStyle:l,onClick:o=>{t("click",o)}}}}),Ro=["stroke-width","stroke-linecap","stroke-linejoin"],Wo=b("path",{d:"M37 42H11a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h21l7 7v27a2 2 0 0 1-2 2Z"},null,-1),qo=b("path",{d:"M22 27.796v-6l5 3-5 3Z"},null,-1),Zo=[Wo,qo];function Ho(e,t,n,i,l,r){return L(),z("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:T(e.cls),style:H(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...o)=>e.onClick&&e.onClick(...o))},Zo,14,Ro)}var He=Z(xo,[["render",Ho]]);const Go=Object.assign(He,{install:(e,t)=>{var n;const i=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(i+He.name,He)}}),Ko=B({name:"IconFileAudio",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=A("icon"),i=p(()=>[n,`${n}-file-audio`,{[`${n}-spin`]:e.spin}]),l=p(()=>{const o={};return e.size&&(o.fontSize=J(e.size)?`${e.size}px`:e.size),e.rotate&&(o.transform=`rotate(${e.rotate}deg)`),o});return{cls:i,innerStyle:l,onClick:o=>{t("click",o)}}}}),Xo=["stroke-width","stroke-linecap","stroke-linejoin"],Yo=b("path",{d:"M37 42H11a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h21l7 7v27a2 2 0 0 1-2 2Z"},null,-1),Jo=b("path",{d:"M25 30a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z",fill:"currentColor",stroke:"none"},null,-1),Qo=b("path",{d:"M25 30a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm0 0-.951-12.363a.5.5 0 0 1 .58-.532L30 18"},null,-1),ei=[Yo,Jo,Qo];function ti(e,t,n,i,l,r){return L(),z("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:T(e.cls),style:H(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...o)=>e.onClick&&e.onClick(...o))},ei,14,Xo)}var Ge=Z(Ko,[["render",ti]]);const ni=Object.assign(Ge,{install:(e,t)=>{var n;const i=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(i+Ge.name,Ge)}});var gt=B({name:"UploadListItem",props:{file:{type:Object,required:!0},listType:{type:String,required:!0}},setup(e){const n=`${A("upload-list")}-item`,{t:i}=be(),l=he(_e,void 0),r=()=>{var o,c;let s="";if(e.file.file&&e.file.file.type)s=e.file.file.type;else{const g=(c=(o=e.file.name)==null?void 0:o.split(".")[1])!=null?c:"";["png","jpg","jpeg","bmp","gif","webp"].includes(g)?s="image":["mp4","m2v","mkv","m4v","mov"].includes(g)?s="video":["mp3","wav","wmv","m4a","acc","flac"].includes(g)&&(s="audio")}return s.includes("image")?a(Eo,null,null):s.includes("pdf")?a(Mo,null,null):s.includes("audio")?a(ni,null,null):s.includes("video")?a(Go,null,null):a(oo,null,null)};return()=>{var o,c,s,g,v,u,f,m,k,P,_,w,S,C,q,D,I,G,K,y,d,h,O;return a("div",{class:[n,`${n}-${e.file.status}`]},[a("div",{class:`${n}-content`},[(l==null?void 0:l.listType)==="picture"&&a("span",{class:`${n}-thumbnail`},[(s=(c=l==null?void 0:(o=l.slots).image)==null?void 0:c.call(o,{fileItem:e.file}))!=null?s:a("img",de({src:e.file.url,alt:e.file.name},l!=null&&l.imageLoading?{loading:l.imageLoading}:void 0),null)]),a("div",{class:`${n}-name`},[(l==null?void 0:l.listType)==="text"&&a("span",{class:`${n}-file-icon`},[(k=(m=(v=l==null?void 0:(g=l.slots)["file-icon"])==null?void 0:v.call(g,{fileItem:e.file}))!=null?m:(f=(u=l==null?void 0:l.customIcon)==null?void 0:u.fileIcon)==null?void 0:f.call(u,e.file))!=null?k:r()]),(l==null?void 0:l.showLink)&&e.file.url?a("a",de({class:`${n}-name-link`,target:"_blank",href:e.file.url},l!=null&&l.download?{download:e.file.name}:void 0),[(q=(C=(_=l==null?void 0:(P=l.slots)["file-name"])==null?void 0:_.call(P,{fileItem:e.file}))!=null?C:(S=(w=l==null?void 0:l.customIcon)==null?void 0:w.fileName)==null?void 0:S.call(w,e.file))!=null?q:e.file.name]):a("span",{class:`${n}-name-text`,onClick:()=>l==null?void 0:l.onPreview(e.file)},[(d=(y=(I=l==null?void 0:(D=l.slots)["file-name"])==null?void 0:I.call(D,{fileItem:e.file}))!=null?y:(K=(G=l==null?void 0:l.customIcon)==null?void 0:G.fileName)==null?void 0:K.call(G,e.file))!=null?d:e.file.name]),e.file.status==="error"&&a(ge,{content:i("upload.error")},{default:()=>{var M,E,F,x,V,Q;return[a("span",{class:[l==null?void 0:l.iconCls,`${l==null?void 0:l.iconCls}-error`]},[(Q=(V=(E=l==null?void 0:(M=l.slots)["error-icon"])==null?void 0:E.call(M))!=null?V:(x=(F=l==null?void 0:l.customIcon)==null?void 0:F.errorIcon)==null?void 0:x.call(F))!=null?Q:a(sn,null,null)])]}})]),a(jt,{file:e.file,listType:e.listType},null)]),(l==null?void 0:l.showRemoveButton)&&a("span",{class:`${n}-operation`},[a(un,{onClick:()=>{var M;return(M=l==null?void 0:l.onRemove)==null?void 0:M.call(l,e.file)}},{default:()=>{var M,E,F,x,V,Q;return[a("span",{class:[l==null?void 0:l.iconCls,`${l==null?void 0:l.iconCls}-remove`]},[(Q=(V=(E=l==null?void 0:(M=l.slots)["remove-icon"])==null?void 0:E.call(M))!=null?V:(x=(F=l==null?void 0:l.customIcon)==null?void 0:F.removeIcon)==null?void 0:x.call(F))!=null?Q:a(Pt,null,null)])]}})]),(O=l==null?void 0:(h=l.slots)["extra-button"])==null?void 0:O.call(h,e.file)])}}}),yt=B({name:"UploadPictureItem",props:{file:{type:Object,required:!0},disabled:{type:Boolean,default:!1}},setup(e){const n=`${A("upload-list")}-picture`,i=p(()=>[n,{[`${n}-status-error`]:e.file.status==="error"}]),l=he(_e,void 0),r=()=>{var o,c,s,g,v,u,f,m,k,P,_,w,S,C,q,D,I,G,K,y,d,h,O,M,E,F,x,V,Q;return e.file.status==="uploading"?a(jt,{file:e.file,listType:"picture-card"},null):a(ae,null,[(s=(c=l==null?void 0:(o=l.slots).image)==null?void 0:c.call(o,{fileItem:e.file}))!=null?s:a("img",de({src:e.file.url,alt:e.file.name},l!=null&&l.imageLoading?{loading:l.imageLoading}:void 0),null),a("div",{class:`${n}-mask`},[e.file.status==="error"&&(l==null?void 0:l.showCancelButton)&&a("div",{class:`${n}-error-tip`},[a("span",{class:[l==null?void 0:l.iconCls,`${l==null?void 0:l.iconCls}-error`]},[(k=(m=(v=l==null?void 0:(g=l.slots)["error-icon"])==null?void 0:v.call(g))!=null?m:(f=(u=l==null?void 0:l.customIcon)==null?void 0:u.errorIcon)==null?void 0:f.call(u))!=null?k:a(_n,null,null)])]),a("div",{class:`${n}-operation`},[e.file.status!=="error"&&(l==null?void 0:l.showPreviewButton)&&a("span",{class:[l==null?void 0:l.iconCls,`${l==null?void 0:l.iconCls}-preview`],onClick:()=>l==null?void 0:l.onPreview(e.file)},[(q=(C=(_=l==null?void 0:(P=l.slots)["preview-icon"])==null?void 0:_.call(P))!=null?C:(S=(w=l==null?void 0:l.customIcon)==null?void 0:w.previewIcon)==null?void 0:S.call(w))!=null?q:a(dn,null,null)]),["init","error"].includes(e.file.status)&&(l==null?void 0:l.showRetryButton)&&a("span",{class:[l==null?void 0:l.iconCls,`${l==null?void 0:l.iconCls}-upload`],onClick:()=>l==null?void 0:l.onUpload(e.file)},[(d=(y=(I=l==null?void 0:(D=l.slots)["retry-icon"])==null?void 0:I.call(D))!=null?y:(K=(G=l==null?void 0:l.customIcon)==null?void 0:G.retryIcon)==null?void 0:K.call(G))!=null?d:a(tt,null,null)]),!(l!=null&&l.disabled)&&(l==null?void 0:l.showRemoveButton)&&a("span",{class:[l==null?void 0:l.iconCls,`${l==null?void 0:l.iconCls}-remove`],onClick:()=>l==null?void 0:l.onRemove(e.file)},[(x=(F=(O=l==null?void 0:(h=l.slots)["remove-icon"])==null?void 0:O.call(h))!=null?F:(E=(M=l==null?void 0:l.customIcon)==null?void 0:M.removeIcon)==null?void 0:E.call(M))!=null?x:a(Pt,null,null)]),(Q=l==null?void 0:(V=l.slots)["extra-button"])==null?void 0:Q.call(V,e.file)])])])};return()=>a("span",{class:i.value},[r()])}}),li=B({name:"UploadList",components:{UploadListItem:gt,UploadPictureItem:yt},props:{fileList:{type:Array,required:!0},listType:{type:String,required:!0}},setup(e,{slots:t}){const n=A("upload"),i=p(()=>[`${n}-list`,`${n}-list-type-${e.listType}`]),l=(r,o)=>ie(t["upload-item"])?t["upload-item"]({fileItem:r,index:o}):e.listType==="picture-card"?a(yt,{file:r,key:`item-${o}`},null):a(gt,{file:r,listType:e.listType,key:`item-${o}`},null);return()=>a(en,{tag:"div",class:i.value},{default:()=>{var r;return[...e.fileList.map((o,c)=>l(o,c)),e.listType==="picture-card"&&((r=t["upload-button"])==null?void 0:r.call(t))]}})}}),oi=Object.defineProperty,ii=Object.defineProperties,ri=Object.getOwnPropertyDescriptors,kt=Object.getOwnPropertySymbols,ai=Object.prototype.hasOwnProperty,si=Object.prototype.propertyIsEnumerable,ht=(e,t,n)=>t in e?oi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ui=(e,t)=>{for(var n in t||(t={}))ai.call(t,n)&&ht(e,n,t[n]);if(kt)for(var n of kt(t))si.call(t,n)&&ht(e,n,t[n]);return e},ci=(e,t)=>ii(e,ri(t)),Ke=B({name:"Upload",props:{fileList:{type:Array,default:void 0},defaultFileList:{type:Array,default:()=>[]},accept:String,action:String,disabled:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},directory:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},tip:String,headers:{type:Object},data:{type:[Object,Function]},name:{type:[String,Function]},withCredentials:{type:Boolean,default:!1},customRequest:{type:Function},limit:{type:Number,default:0},autoUpload:{type:Boolean,default:!0},showFileList:{type:Boolean,default:!0},showRemoveButton:{type:Boolean,default:!0},showRetryButton:{type:Boolean,default:!0},showCancelButton:{type:Boolean,default:!0},showUploadButton:{type:[Boolean,Object],default:!0},showPreviewButton:{type:Boolean,default:!0},download:{type:Boolean,default:!1},showLink:{type:Boolean,default:!0},imageLoading:{type:String},listType:{type:String,default:"text"},responseUrlKey:{type:[String,Function]},customIcon:{type:Object},imagePreview:{type:Boolean,default:!1},onBeforeUpload:{type:Function},onBeforeRemove:{type:Function},onButtonClick:{type:Function}},emits:{"update:fileList":e=>!0,exceedLimit:(e,t)=>!0,change:(e,t)=>!0,progress:(e,t)=>!0,preview:e=>!0,success:e=>!0,error:e=>!0},setup(e,{emit:t,slots:n}){const{fileList:i,disabled:l,listType:r,customIcon:o,showRetryButton:c,showCancelButton:s,showRemoveButton:g,showPreviewButton:v,imageLoading:u,download:f,showLink:m}=se(e),k=A("upload"),{mergedDisabled:P,eventHandlers:_}=Mt({disabled:l}),w=U([]),S=new Map,C=new Map,q=p(()=>e.limit>0&&w.value.length>=e.limit),D=$=>{S.clear();const j=$==null?void 0:$.map((R,X)=>{var ne,ye,le;const W=(ne=R.status)!=null?ne:"done",oe=Y(ci(ui({},R),{uid:(ye=R.uid)!=null?ye:`${Date.now()}${X}`,status:W,percent:(le=R.percent)!=null?le:["error","init"].indexOf(W)>-1?0:1}));return S.set(oe.uid,oe),oe});w.value=j!=null?j:[]};D(e.defaultFileList),ve(i,$=>{$&&D($)},{immediate:!0,deep:!0});const I=$=>{var j,R;t("update:fileList",w.value),t("change",w.value,$),(R=(j=_.value)==null?void 0:j.onChange)==null||R.call(j)},G=($,j)=>{for(const R of w.value)if(R.uid===$){R.file=j,I(R);break}},K=$=>{const j=(le,W)=>{const oe=S.get($.uid);oe&&(oe.status="uploading",oe.percent=le,t("progress",oe,W),I(oe))},R=le=>{const W=S.get($.uid);W&&(W.status="done",W.percent=1,W.response=le,e.responseUrlKey&&(ie(e.responseUrlKey)?W.url=e.responseUrlKey(W):le[e.responseUrlKey]&&(W.url=le[e.responseUrlKey])),C.delete(W.uid),t("success",W),I(W))},X=le=>{const W=S.get($.uid);W&&(W.status="error",W.percent=0,W.response=le,C.delete(W.uid),t("error",W),I(W))},ne={fileItem:$,action:e.action,name:e.name,data:e.data,headers:e.headers,withCredentials:e.withCredentials,onProgress:j,onSuccess:R,onError:X};$.status="uploading",$.percent=0;const ye=ie(e.customRequest)?e.customRequest(ne):ro(ne);C.set($.uid,ye),I($)},y=$=>{var j;const R=C.get($.uid);if(R){(j=R.abort)==null||j.call(R),C.delete($.uid);const X=S.get($.uid);X&&(X.status="error",X.percent=0,I(X))}},d=$=>{if($){const j=S.get($.uid);j&&K(j)}else for(const j of w.value)j.status==="init"&&K(j)},h=async($,j)=>{const R=`${Date.now()}-${j}`,X=so($)?URL.createObjectURL($):void 0,ne=Y({uid:R,file:$,url:X,name:$.name,status:"init",percent:0});S.set(R,ne),w.value=[...w.value,ne],I(ne),e.autoUpload&&K(ne)},O=$=>{if(e.limit>0&&w.value.length+$.length>e.limit){t("exceedLimit",w.value,$);return}for(let j=0;j<$.length;j++){const R=$[j];ie(e.onBeforeUpload)?Promise.resolve(e.onBeforeUpload(R)).then(X=>{X&&h(Tt(X)?R:X,j)}).catch(X=>{console.error(X)}):h(R,j)}},M=$=>{w.value=w.value.filter(j=>j.uid!==$.uid),I($)},E=$=>{ie(e.onBeforeRemove)?Promise.resolve(e.onBeforeRemove($)).then(j=>{j&&M($)}).catch(j=>{console.error(j)}):M($)},F=$=>{if(e.imagePreview&&$.url){const j=Se.value.indexOf($.url);j>-1&&(me.value=j,Q.value=!0)}t("preview",$)};et(_e,Y({disabled:P,listType:r,iconCls:`${k}-icon`,showRemoveButton:g,showRetryButton:c,showCancelButton:s,showPreviewButton:v,showLink:m,imageLoading:u,download:f,customIcon:o,slots:n,onUpload:K,onAbort:y,onRemove:E,onPreview:F}));const x=p(()=>{if(e.accept)return e.accept;if(e.listType==="picture"||e.listType==="picture-card")return"image/*"}),V=()=>{const $=a(po,{key:"arco-upload-button",disabled:P.value,draggable:e.draggable,listType:e.listType,uploadFiles:O,multiple:e.multiple,directory:e.directory,tip:e.tip,hide:!e.showUploadButton||q.value&&!(Xe(e.showUploadButton)&&e.showUploadButton.showOnExceedLimit),accept:x.value,onButtonClick:e.onButtonClick},{default:n["upload-button"]});return e.tip&&e.listType!=="picture-card"&&!e.draggable?a("span",null,[$,a("div",{class:`${k}-tip`},[e.tip])]):$},Q=U(!1),me=U(0),we=$=>{me.value=$},Ce=$=>{Q.value=$},Se=p(()=>w.value.filter($=>Boolean($.url)).map($=>$.url));return{prefixCls:k,render:()=>e.showFileList?a("div",{class:[`${k}-wrapper`,`${k}-wrapper-type-${e.listType}`]},[e.imagePreview&&Se.value.length>0&&a(Hl,{srcList:Se.value,visible:Q.value,current:me.value,onChange:we,onVisibleChange:Ce},null),e.listType!=="picture-card"&&e.showUploadButton&&V(),a(li,{fileList:w.value,listType:e.listType},{"upload-button":V,"upload-item":n["upload-item"]})]):e.showUploadButton&&V(),innerSubmit:d,innerAbort:y,innerUpdateFile:G,innerUpload:O}},methods:{submit(e){return this.innerSubmit(e)},abort(e){return this.innerAbort(e)},updateFile(e,t){return this.innerUpdateFile(e,t)},upload(e){return this.innerUpload(e)}},render(){return this.render()}});const di=Object.assign(Ke,{install:(e,t)=>{$t(e,t);const n=bt(t);e.component(n+Ke.name,Ke)}});function zt(){const{ffmpeg:e,writeFile:t,readFile:n,ffmpegRun:i}=Et();async function l(c,s){return await i({type:"image",filename:c,rangeStart:s,width:200,height:100,outputName:`frame-${s}`,fileType:"jpeg"})}async function r(c){const{frameNum:s=8,duration:g,filename:v,imgs:u}=c,f=g/s;(async function m(k){const P=Math.floor(f)*k,_=`frame-${P}.jpeg`,{url:w}=await l(v,P),S={url:w,index:k,time:P,name:_};u.push(S),k<=s&&m(++k)})(0)}async function o(c){return await i(c)}return{ffmpeg:e,writeFile:t,readFile:n,clipImage:l,getClipImages:r,getClipVideo:o}}const fi={flex:"","overflow-x-auto":""},vi=["src"],mi=["onMousedown"],pi=B({__name:"Rail",props:{imgs:{type:Array,default:[]},duration:{type:Number,default:0}},emits:["change"],setup(e,{emit:t}){const n=e,i=U(),l=Y([0,0]),r=U(-1),o=U(),c=5;ve(l,()=>{const u=l.map(f=>{var P;const m=f&&f+c,k=(P=N(o))==null?void 0:P.width;return xt(m/k*n.duration,2)}).sort((f,m)=>f-m);t("change",u)}),Qe(()=>{var u,f;document.addEventListener("mouseup",()=>{r.value=-1}),i&&(o.value=(u=N(i))==null?void 0:u.getBoundingClientRect(),l[1]=((f=o.value)==null?void 0:f.width)-c)});function s(u){const f=N(o);return u>=f.width+f.left-c?f.width-c:u<=f.left?0:u-(f.left||0)}function g(u){r.value>=0&&(l[r.value]=s(u.pageX))}function v(u){r.value=u}return(u,f)=>(L(),z("div",{ref_key:"railContainerRef",ref:i,class:"railContainer",onMousemove:g,onMouseup:f[0]||(f[0]=m=>r.value=-1)},[b("div",fi,[(L(!0),z(ae,null,Ye(e.imgs,m=>(L(),z("img",{style:{width:`${100/8}%`},src:m,draggable:"false"},null,8,vi))),256))]),(L(),z(ae,null,Ye([0,1],m=>b("div",{"b-l-red":"",key:m,class:"sliderBar",onMousedown:()=>v(m),style:H({left:N(l)[m]+"px",borderLeftWidth:c+"px"})},null,44,mi)),64))],544))}});var gi=tn(pi,[["__scopeId","data-v-1d8c94bc"]]);const yi={"f-ac-jc":"","mt-20":"","b-1":"","b-b-0":"","h-100":""},ki={flex:"","b-1":"","p-20":""},hi={"w-400":"","b-r-1":""},$i={"p-20":""},bi={"f-jb":""},_i={"wp-25":"","pr-20":""},wi={"f-ac":"","mb-20":""},Ci=b("span",{"w-120":""},"\u5F00\u59CB\u65F6\u95F4",-1),Si={"f-ac":"","mb-20":""},Ii=b("span",{"w-120":""},"\u7ED3\u675F\u65F6\u95F4",-1),Pi={"wp-25":"","pr-20":""},Li={"f-ac":"","mb-20":""},ji=b("span",{"w-70":""},"\u5E27\u6570",-1),zi=b("div",{"f-ac":"","mb-20":""},null,-1),Bi={"wp-25":"","pr-20":""},Oi={"f-ac":"","mb-20":""},Fi=b("span",{"w-70":""},"\u5BBD\u5EA6",-1),Ni={"f-ac":"","mb-20":""},Mi=b("span",{"w-70":""},"\u9AD8\u5EA6",-1),Ti={"wp-25":""},Ai={"f-ac":"","mb-20":""},Vi=b("span",{"w-110":""},"\u5BFC\u51FA\u540D",-1),Ui={"f-ac":"","mb-20":""},Di=b("span",{"w-110":""},"\u5BFC\u51FA\u683C\u5F0F",-1),Ei={"f-jc":""},xi=B({__name:"ClipSetting",props:{fileInfo:null,imgs:null},emits:["preview","export"],setup(e,{emit:t}){const n=e,i=p(()=>n.imgs.sort((f,m)=>f.index-m.index).map(f=>f.url)),l=p(()=>{const{file:f,width:m="",height:k="",duration:P=""}=n.fileInfo;return[{label:"\u6587\u4EF6\u540D",value:String((f==null?void 0:f.name)||"")},{label:"\u5BBD\u5EA6",value:String(m)},{label:"\u9AD8\u5EA6",value:String(k)},{label:"\u65F6\u957F",value:String(P)}]}),r=Y({rangeStart:0,rangeEnd:0,outputName:"output",fileType:"mp4",width:-1,height:-1,frameRate:25}),o=U(!1),{getClipVideo:c}=zt();let s=null;function g(f){r.rangeStart=f[0],r.rangeEnd=f[1]}async function v(){if(!s){o.value=!0;const f=n.fileInfo.file;if(!f)return;s=(await c({...r,type:"video",filename:f.name})).url,o.value=!1}t("preview",s)}function u(){if(!s)return;const f=document.createElement("a");f.href=s,f.download=r.outputName+r.fileType,f.click()}return(f,m)=>{const k=gi,P=Ln,_=Rt,w=fn,S=wt;return L(),z(ae,null,[b("div",yi,[a(k,{duration:e.fileInfo.duration,imgs:N(i),onChange:g},null,8,["duration","imgs"])]),b("div",ki,[b("div",hi,[a(P,{data:N(l),title:"\u6587\u4EF6\u4FE1\u606F",size:"small",column:1},null,8,["data"])]),b("div",$i,[b("ul",bi,[b("li",_i,[b("div",wi,[Ci,a(_,{min:0,modelValue:N(r).rangeStart,"onUpdate:modelValue":m[0]||(m[0]=C=>N(r).rangeStart=C)},null,8,["modelValue"])]),b("div",Si,[Ii,a(_,{min:0,modelValue:N(r).rangeEnd,"onUpdate:modelValue":m[1]||(m[1]=C=>N(r).rangeEnd=C)},null,8,["modelValue"])])]),b("li",Pi,[b("div",Li,[ji,a(_,{modelValue:N(r).frameRate,"onUpdate:modelValue":m[2]||(m[2]=C=>N(r).frameRate=C)},null,8,["modelValue"])]),zi]),b("li",Bi,[b("div",Oi,[Fi,a(_,{min:-1,modelValue:N(r).width,"onUpdate:modelValue":m[3]||(m[3]=C=>N(r).width=C)},null,8,["modelValue"])]),b("div",Ni,[Mi,a(_,{min:-1,modelValue:N(r).height,"onUpdate:modelValue":m[4]||(m[4]=C=>N(r).height=C)},null,8,["modelValue"])])]),b("li",Ti,[b("div",Ai,[Vi,a(w,{modelValue:N(r).outputName,"onUpdate:modelValue":m[5]||(m[5]=C=>N(r).outputName=C)},null,8,["modelValue"])]),b("div",Ui,[Di,a(w,{modelValue:N(r).fileType,"onUpdate:modelValue":m[6]||(m[6]=C=>N(r).fileType=C)},null,8,["modelValue"])])])]),b("div",Ei,[a(S,{loading:N(o),onClick:v,"mr-20":""},{default:ce(()=>[lt(" \u9884\u89C8 ")]),_:1},8,["loading"]),a(S,{disabled:N(o),onClick:u},{default:ce(()=>[lt(" \u5BFC\u51FA ")]),_:1},8,["disabled"])])])])],64)}}}),Ri={key:1,"f-ac-jc":""},Wi=["src"],qi=["src"],ar=B({__name:"VideoClip",setup(e){const t=U({}),n=U([]),i=U(""),l=U(!1),{writeFile:r,getClipImages:o}=zt();async function c(){const{file:v,duration:u}=N(t);await r(v),o({filename:v.name,duration:u,imgs:n.value})}async function s(v,u){t.value=await Wt(u),c()}function g(v){i.value=v,l.value=!0}return(v,u)=>{var k,P,_;const f=di,m=At;return L(),z(ae,null,[N(t).file?(L(),z("div",Ri,[b("video",{src:(k=N(t))==null?void 0:k.url,width:"700",autoplay:"",loop:""},null,8,Wi)])):(L(),pe(f,{key:0,draggable:"",action:"/",onChange:s})),a(xi,{imgs:N(n),fileInfo:N(t),onPreview:g},null,8,["imgs","fileInfo"]),a(m,{visible:N(l),title:(_=(P=N(t))==null?void 0:P.file)==null?void 0:_.name,onCancel:u[0]||(u[0]=w=>l.value=!1),footer:!1},{default:ce(()=>[b("video",{src:N(i),width:"700",autoplay:"",loop:""},null,8,qi)]),_:1},8,["visible","title"])],64)}}});export{ar as default};
