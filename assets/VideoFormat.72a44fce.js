import{c as Be,h as Ee,g as le,m as Xe,p as Le,_ as oe,l as Ae,i as we,q as xe,s as et,a as tt,B as ke}from"./index.be275d6f.js";import{s as it}from"./selectFile.a2607bdd.js";import{u as at,f as rt,I as lt,P as ot,g as st}from"./utils.26958810.js";/* empty css              */import"./index.5ceca9a8.js";import{S as nt,O as ut}from"./index.02ebb9b4.js";import{d as D,t as Ve,c as g,j as R,p as De,o as m,a as L,b as B,n as x,M as dt,e as ct,f as d,x as Se,r as J,u as Ue,P as Ke,z as ft,g as G,h as W,w as C,q as pt,m as ce,i as H,B as j,C as I,D as Y,T as ze,k as pe,F as ee,N as je,A as ht,l as mt,_ as Qe,y as gt,I as v,E as vt,G as bt,a0 as yt,a1 as _t,s as jt}from"./index.13efb4fa.js";import{M as Ct}from"./index.612f7938.js";import{R as $t,C as wt}from"./index.e11fea3d.js";import{R as Vt,a as St,b as Ot}from"./index.7953a262.js";import{I as Ft}from"./index.0ecf0cf5.js";import"./handleFile.719ba7a4.js";import"./index.9860aab2.js";import"./use-popup-manager.35457e0b.js";import"./index.b136a94c.js";const Re=(e,t)=>{if(!e||!t)return;t=t.replace(/\[(\w+)\]/g,".$1");const a=t.split(".");if(a.length===0)return;let i=e;for(let r=0;r<a.length;r++){if(!Be(i)&&!Ee(i)||!a[r])return;if(r!==a.length-1)i=i[a[r]];else return i[a[r]]}},We=(e,t,a)=>{if(!e||!t)return;t=t.replace(/\[(\w+)\]/g,".$1");const i=t.split(".");if(i.length===0)return;let r=e;for(let l=0;l<i.length;l++){if(!Be(r)&&!Ee(r)||!i[l])return;l!==i.length-1?r=r[i[l]]:r[i[l]]=a}},Et=D({name:"Form",props:{model:{type:Object,required:!0},layout:{type:String,default:"horizontal"},size:{type:String},labelColProps:{type:Object,default:()=>({span:5,offset:0})},wrapperColProps:{type:Object,default:()=>({span:19,offset:0})},labelColStyle:Object,wrapperColStyle:Object,labelAlign:{type:String,default:"right"},disabled:{type:Boolean,default:void 0},rules:{type:Object},autoLabelWidth:{type:Boolean,default:!1}},emits:{submit:(e,t)=>!0,submitSuccess:(e,t)=>!0,submitFailed:(e,t)=>!0},setup(e,{emit:t}){const a=le("form"),{model:i,layout:r,disabled:l,labelAlign:o,labelColProps:n,wrapperColProps:h,labelColStyle:y,wrapperColStyle:w,size:p,rules:u}=Ve(e),{mergedSize:E}=Xe(p),A=g(()=>e.layout==="horizontal"&&e.autoLabelWidth),F=[],f=[],_=R({}),V=g(()=>Math.max(...Object.values(_))),U=c=>{c&&c.field&&F.push(c)},X=c=>{c&&c.field&&F.splice(F.indexOf(c),1)},se=c=>{F.forEach(b=>{c[b.field]&&b.setField(c[b.field])})},ve=(c,b)=>{b&&_[b]!==c&&(_[b]=c)},ne=c=>{c&&delete _[c]},K=c=>{const b=c?[].concat(c):[];F.forEach($=>{(b.length===0||b.includes($.field))&&$.resetField()})},be=c=>{const b=c?[].concat(c):[];F.forEach($=>{(b.length===0||b.includes($.field))&&$.clearValidate()})},Q=c=>{const b=[];return F.forEach($=>{b.push($.validate())}),Promise.all(b).then($=>{const k={};let M=!1;return $.forEach(q=>{q&&(M=!0,k[q.field]=q)}),Ae(c)&&c(M?k:void 0),M?k:void 0})},ue=(c,b)=>{const $=[];for(const k of F)(Ee(c)&&c.includes(k.field)||c===k.field)&&$.push(k.validate());return Promise.all($).then(k=>{const M={};let q=!1;return k.forEach(s=>{s&&(q=!0,M[s.field]=s)}),Ae(b)&&b(q?M:void 0),q?M:void 0})},ye=c=>{const b=[];F.forEach($=>{b.push($.validate())}),Promise.all(b).then($=>{const k={};let M=!1;$.forEach(q=>{q&&(M=!0,k[q.field]=q)}),M?t("submitFailed",{values:i.value,errors:k},c):t("submitSuccess",i.value,c),t("submit",{values:i.value,errors:M?k:void 0},c)})};return De(Le,R({layout:r,disabled:l,labelAlign:o,labelColProps:n,wrapperColProps:h,labelColStyle:y,wrapperColStyle:w,model:i,size:E,rules:u,fields:F,touchedFields:f,addField:U,removeField:X,validateField:ue,setLabelWidth:ve,removeLabelWidth:ne,maxLabelWidth:V,autoLabelWidth:A})),{cls:g(()=>[a,`${a}-layout-${e.layout}`,`${a}-size-${E.value}`,{[`${a}-auto-label-width`]:e.autoLabelWidth}]),handleSubmit:ye,innerValidate:Q,innerValidateField:ue,innerResetFields:K,innerClearValidate:be,innerSetFields:se}},methods:{validate(e){return this.innerValidate(e)},validateField(e,t){return this.innerValidateField(e,t)},resetFields(e){return this.innerResetFields(e)},clearValidate(e){return this.innerClearValidate(e)},setFields(e){return this.innerSetFields(e)}}});function Lt(e,t,a,i,r,l){return m(),L("form",{class:x(e.cls),onSubmit:t[0]||(t[0]=dt((...o)=>e.handleSubmit&&e.handleSubmit(...o),["prevent"]))},[B(e.$slots,"default")],34)}var Ce=oe(Et,[["render",Lt]]),te=Object.prototype.toString;function me(e){return te.call(e)==="[object Array]"}function T(e){return te.call(e)==="[object Object]"}function Oe(e){return te.call(e)==="[object String]"}function kt(e){return te.call(e)==="[object Number]"&&e===e}function Mt(e){return te.call(e)==="[object Boolean]"}function Fe(e){return te.call(e)==="[object Function]"}function qt(e){return T(e)&&Object.keys(e).length===0}function Z(e){return e==null||e===""}function Ze(e){return me(e)&&!e.length}var Me=function(e,t){if(typeof e!="object"||typeof t!="object")return e===t;if(Fe(e)&&Fe(t))return e===t||e.toString()===t.toString();if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var a in e){var i=Me(e[a],t[a]);if(!i)return!1}return!0},Pt=function(e,t){var a={};return Object.keys(e).forEach(function(i){var r=e[i],l=t&&t[i];a[i]=T(r)?Object.assign(Object.assign({},r),l):l||r}),a},At=function(e,t){for(var a=t.split("."),i=e,r=0;r<a.length;r++)if(i=i&&i[a[r]],i===void 0)return i;return i},N="#{field} is not a #{type} type",xt={required:"#{field} is required",type:{ip:N,email:N,url:N,string:N,number:N,array:N,object:N,boolean:N},number:{min:"`#{value}` is not greater than `#{min}`",max:"`#{value}` is not less than `#{max}`",equal:"`#{value}` is not equal to `#{equal}`",range:"`#{value}` is not in range `#{min} ~ #{max}`",positive:"`#{value}` is not a positive number",negative:"`#{value}` is not a negative number"},string:{maxLength:"#{field} cannot be longer than #{maxLength} characters",minLength:"#{field} must be at least #{minLength} characters",length:"#{field} must be exactly #{length} characters",match:"`#{value}` does not match pattern #{pattern}",uppercase:"`#{value}` must be all uppercase",lowercase:"`#{value}` must be all lowercased"},array:{length:"#{field} must be exactly #{length} in length",minLength:"#{field} cannot be less than #{minLength} in length",maxLength:"#{field} cannot be greater than #{maxLength} in length",includes:"#{field} is not includes #{includes}",deepEqual:"#{field} is not deep equal with #{deepEqual}",empty:"#{field} is not an empty array"},object:{deepEqual:"#{field} is not deep equal to expected value",hasKeys:"#{field} does not contain required fields",empty:"`#{field} is not an empty object"},boolean:{true:"Expect true but got `#{value}`",false:"Expect false but got `#{value}`"}},z=function(t,a){var i=this;this.getValidateMsg=function(r,l){l===void 0&&(l={});var o=Object.assign(Object.assign({},l),{value:i.obj,field:i.field,type:i.type}),n=At(i.validateMessages,r);return Fe(n)?n(o):Oe(n)?n.replace(/\#\{.+?\}/g,function(h){var y=h.slice(2,-1);if(y in o){if(T(o[y])||me(o[y]))try{return JSON.stringify(o[y])}catch{return o[y]}return String(o[y])}return h}):n},T(a)&&Oe(t)&&a.trim?this.obj=t.trim():T(a)&&a.ignoreEmptyString&&t===""?this.obj=void 0:this.obj=t,this.message=a.message,this.type=a.type,this.error=null,this.field=a.field||a.type,this.validateMessages=Pt(xt,a.validateMessages)},ge={not:{configurable:!0},isRequired:{configurable:!0},end:{configurable:!0}};ge.not.get=function(){return this._not=!this._not,this};ge.isRequired.get=function(){if(Z(this.obj)||Ze(this.obj)){var e=this.getValidateMsg("required");this.error={value:this.obj,type:this.type,requiredError:!0,message:this.message||(T(e)?e:(this._not?"[NOT MODE]:":"")+e)}}return this};ge.end.get=function(){return this.error};z.prototype.addError=function(t){!this.error&&t&&(this.error={value:this.obj,type:this.type,message:this.message||(T(t)?t:(this._not?"[NOT MODE]:":"")+t)})};z.prototype.validate=function(t,a){var i=this._not?t:!t;return i&&this.addError(a),this};z.prototype.collect=function(t){t&&t(this.error)};Object.defineProperties(z.prototype,ge);var zt=function(e){function t(i,r){e.call(this,i,Object.assign(Object.assign({},r),{type:"string"})),this.validate(r&&r.strict?Oe(this.obj):!0,this.getValidateMsg("type.string"))}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var a={uppercase:{configurable:!0},lowercase:{configurable:!0}};return t.prototype.maxLength=function(r){return this.obj?this.validate(this.obj.length<=r,this.getValidateMsg("string.maxLength",{maxLength:r})):this},t.prototype.minLength=function(r){return this.obj?this.validate(this.obj.length>=r,this.getValidateMsg("string.minLength",{minLength:r})):this},t.prototype.length=function(r){return this.obj?this.validate(this.obj.length===r,this.getValidateMsg("string.length",{length:r})):this},t.prototype.match=function(r){var l=r instanceof RegExp;return l&&(r.lastIndex=0),this.validate(this.obj===void 0||l&&r.test(this.obj),this.getValidateMsg("string.match",{pattern:r}))},a.uppercase.get=function(){return this.obj?this.validate(this.obj.toUpperCase()===this.obj,this.getValidateMsg("string.uppercase")):this},a.lowercase.get=function(){return this.obj?this.validate(this.obj.toLowerCase()===this.obj,this.getValidateMsg("string.lowercase")):this},Object.defineProperties(t.prototype,a),t}(z),Rt=function(e){function t(i,r){e.call(this,i,Object.assign(Object.assign({},r),{type:"number"})),this.validate(r&&r.strict?kt(this.obj):!0,this.getValidateMsg("type.number"))}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var a={positive:{configurable:!0},negative:{configurable:!0}};return t.prototype.min=function(r){return Z(this.obj)?this:this.validate(this.obj>=r,this.getValidateMsg("number.min",{min:r}))},t.prototype.max=function(r){return Z(this.obj)?this:this.validate(this.obj<=r,this.getValidateMsg("number.max",{max:r}))},t.prototype.equal=function(r){return Z(this.obj)?this:this.validate(this.obj===r,this.getValidateMsg("number.equal",{equal:r}))},t.prototype.range=function(r,l){return Z(this.obj)?this:this.validate(this.obj>=r&&this.obj<=l,this.getValidateMsg("number.range",{min:r,max:l}))},a.positive.get=function(){return Z(this.obj)?this:this.validate(this.obj>0,this.getValidateMsg("number.positive"))},a.negative.get=function(){return Z(this.obj)?this:this.validate(this.obj<0,this.getValidateMsg("number.negative"))},Object.defineProperties(t.prototype,a),t}(z),Wt=function(e){function t(i,r){e.call(this,i,Object.assign(Object.assign({},r),{type:"array"})),this.validate(r&&r.strict?me(this.obj):!0,this.getValidateMsg("type.array",{value:this.obj,type:this.type}))}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var a={empty:{configurable:!0}};return t.prototype.length=function(r){return this.obj?this.validate(this.obj.length===r,this.getValidateMsg("array.length",{value:this.obj,length:r})):this},t.prototype.minLength=function(r){return this.obj?this.validate(this.obj.length>=r,this.getValidateMsg("array.minLength",{value:this.obj,minLength:r})):this},t.prototype.maxLength=function(r){return this.obj?this.validate(this.obj.length<=r,this.getValidateMsg("array.maxLength",{value:this.obj,maxLength:r})):this},t.prototype.includes=function(r){var l=this;return this.obj?this.validate(r.every(function(o){return l.obj.indexOf(o)!==-1}),this.getValidateMsg("array.includes",{value:this.obj,includes:r})):this},t.prototype.deepEqual=function(r){return this.obj?this.validate(Me(this.obj,r),this.getValidateMsg("array.deepEqual",{value:this.obj,deepEqual:r})):this},a.empty.get=function(){return this.validate(Ze(this.obj),this.getValidateMsg("array.empty",{value:this.obj}))},Object.defineProperties(t.prototype,a),t}(z),Tt=function(e){function t(i,r){e.call(this,i,Object.assign(Object.assign({},r),{type:"object"})),this.validate(r&&r.strict?T(this.obj):!0,this.getValidateMsg("type.object"))}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var a={empty:{configurable:!0}};return t.prototype.deepEqual=function(r){return this.obj?this.validate(Me(this.obj,r),this.getValidateMsg("object.deepEqual",{deepEqual:r})):this},t.prototype.hasKeys=function(r){var l=this;return this.obj?this.validate(r.every(function(o){return l.obj[o]}),this.getValidateMsg("object.hasKeys",{keys:r})):this},a.empty.get=function(){return this.validate(qt(this.obj),this.getValidateMsg("object.empty"))},Object.defineProperties(t.prototype,a),t}(z),It=function(e){function t(i,r){e.call(this,i,Object.assign(Object.assign({},r),{type:"boolean"})),this.validate(r&&r.strict?Mt(this.obj):!0,this.getValidateMsg("type.boolean"))}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var a={true:{configurable:!0},false:{configurable:!0}};return a.true.get=function(){return this.validate(this.obj===!0,this.getValidateMsg("boolean.true"))},a.false.get=function(){return this.validate(this.obj===!1,this.getValidateMsg("boolean.false"))},Object.defineProperties(t.prototype,a),t}(z),Nt=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Bt=new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),Dt=/^(2(5[0-5]{1}|[0-4]\d{1})|[0-1]?\d{1,2})(\.(2(5[0-5]{1}|[0-4]\d{1})|[0-1]?\d{1,2})){3}$/,Ut=function(e){function t(i,r){e.call(this,i,Object.assign(Object.assign({},r),{type:"type"}))}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var a={email:{configurable:!0},url:{configurable:!0},ip:{configurable:!0}};return a.email.get=function(){return this.type="email",this.validate(this.obj===void 0||Nt.test(this.obj),this.getValidateMsg("type.email"))},a.url.get=function(){return this.type="url",this.validate(this.obj===void 0||Bt.test(this.obj),this.getValidateMsg("type.url"))},a.ip.get=function(){return this.type="ip",this.validate(this.obj===void 0||Dt.test(this.obj),this.getValidateMsg("type.ip"))},Object.defineProperties(t.prototype,a),t}(z),Kt=function(e){function t(i,r){e.call(this,i,Object.assign(Object.assign({},r),{type:"custom"}))}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var a={validate:{configurable:!0}};return a.validate.get=function(){var i=this;return function(r,l){var o;if(r)return o=r(i.obj,i.addError.bind(i)),o&&o.then?(l&&o.then(function(){l&&l(i.error)},function(n){console.error(n)}),[o,i]):(l&&l(i.error),i.error)}},Object.defineProperties(t.prototype,a),t}(z),Qt=function(t,a){this.string=new zt(t,a),this.number=new Rt(t,a),this.array=new Wt(t,a),this.object=new Tt(t,a),this.boolean=new It(t,a),this.type=new Ut(t,a),this.custom=new Kt(t,a)},Ge=function(t,a){a===void 0&&(a={}),this.schema=t,this.options=a};Ge.prototype.validate=function(t,a){var i=this;if(!T(t))return;var r=[],l=null;function o(n,h){l||(l={}),(!l[n]||h.requiredError)&&(l[n]=h)}this.schema&&Object.keys(this.schema).forEach(function(n){if(me(i.schema[n]))for(var h=function(p){var u=i.schema[n][p],E=u.type,A=u.message;if(!E&&!u.validator)throw"You must specify a type to field "+n+"!";var F=new Qt(t[n],Object.assign(Object.assign({},i.options),{message:A,field:n})),f=F.type[E]||null;if(!f)if(u.validator){f=F.custom.validate(u.validator),Object.prototype.toString.call(f)==="[object Array]"&&f[0].then?r.push({function:f[0],_this:f[1],key:n}):f&&o(n,f);return}else f=F[E];if(Object.keys(u).forEach(function(_){u.required&&(f=f.isRequired),_!=="message"&&f[_]&&u[_]&&typeof f[_]=="object"&&(f=f[_]),f[_]&&u[_]!==void 0&&typeof f[_]=="function"&&(f=f[_](u[_]))}),f.collect(function(_){_&&o(n,_)}),l)return"break"},y=0;y<i.schema[n].length;y++){var w=h(y);if(w==="break")break}}),r.length>0?Promise.all(r.map(function(n){return n.function})).then(function(){r.forEach(function(n){n._this.error&&o(n.key,n._this.error)}),a&&a(l)}):a&&a(l)};const Zt=D({name:"IconQuestionCircle",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const a=le("icon"),i=g(()=>[a,`${a}-question-circle`,{[`${a}-spin`]:e.spin}]),r=g(()=>{const o={};return e.size&&(o.fontSize=we(e.size)?`${e.size}px`:e.size),e.rotate&&(o.transform=`rotate(${e.rotate}deg)`),o});return{cls:i,innerStyle:r,onClick:o=>{t("click",o)}}}}),Gt=["stroke-width","stroke-linecap","stroke-linejoin"],Ht=d("path",{d:"M42 24c0 9.941-8.059 18-18 18S6 33.941 6 24 14.059 6 24 6s18 8.059 18 18Z"},null,-1),Jt=d("path",{d:"M24.006 31v4.008m0-6.008L24 28c0-3 3-4 4.78-6.402C30.558 19.195 28.288 15 23.987 15c-4.014 0-5.382 2.548-5.388 4.514v.465"},null,-1),Yt=[Ht,Jt];function Xt(e,t,a,i,r,l){return m(),L("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:x(e.cls),style:ct(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...o)=>e.onClick&&e.onClick(...o))},Yt,14,Gt)}var $e=oe(Zt,[["render",Xt]]);const ei=Object.assign($e,{install:(e,t)=>{var a;const i=(a=t==null?void 0:t.iconPrefix)!=null?a:"";e.component(i+$e.name,$e)}}),ti=D({name:"FormItemLabel",components:{ResizeObserver:Vt,Tooltip:St,IconQuestionCircle:ei},props:{required:{type:Boolean,default:!1},showColon:{type:Boolean,default:!1},component:{type:String,default:"label"},asteriskPosition:{type:String,default:"start"},tooltip:{type:String},attrs:Object},setup(){const e=le("form-item-label"),t=Se(Le,void 0),a=ft(),i=J(),r=()=>{i.value&&we(i.value.offsetWidth)&&(t==null||t.setLabelWidth(i.value.offsetWidth,a==null?void 0:a.uid))};return Ue(()=>{i.value&&we(i.value.offsetWidth)&&(t==null||t.setLabelWidth(i.value.offsetWidth,a==null?void 0:a.uid))}),Ke(()=>{t==null||t.removeLabelWidth(a==null?void 0:a.uid)}),{prefixCls:e,labelRef:i,handleResize:r}}}),ii=d("svg",{fill:"currentColor",viewBox:"0 0 1024 1024",width:"1em",height:"1em"},[d("path",{d:"M583.338667 17.066667c18.773333 0 34.133333 15.36 34.133333 34.133333v349.013333l313.344-101.888a34.133333 34.133333 0 0 1 43.008 22.016l42.154667 129.706667a34.133333 34.133333 0 0 1-21.845334 43.178667l-315.733333 102.4 208.896 287.744a34.133333 34.133333 0 0 1-7.509333 47.786666l-110.421334 80.213334a34.133333 34.133333 0 0 1-47.786666-7.509334L505.685333 706.218667 288.426667 1005.226667a34.133333 34.133333 0 0 1-47.786667 7.509333l-110.421333-80.213333a34.133333 34.133333 0 0 1-7.509334-47.786667l214.186667-295.253333L29.013333 489.813333a34.133333 34.133333 0 0 1-22.016-43.008l42.154667-129.877333a34.133333 34.133333 0 0 1 43.008-22.016l320.512 104.106667L412.672 51.2c0-18.773333 15.36-34.133333 34.133333-34.133333h136.533334z"})],-1),ai=[ii],ri=d("svg",{fill:"currentColor",viewBox:"0 0 1024 1024",width:"1em",height:"1em"},[d("path",{d:"M583.338667 17.066667c18.773333 0 34.133333 15.36 34.133333 34.133333v349.013333l313.344-101.888a34.133333 34.133333 0 0 1 43.008 22.016l42.154667 129.706667a34.133333 34.133333 0 0 1-21.845334 43.178667l-315.733333 102.4 208.896 287.744a34.133333 34.133333 0 0 1-7.509333 47.786666l-110.421334 80.213334a34.133333 34.133333 0 0 1-47.786666-7.509334L505.685333 706.218667 288.426667 1005.226667a34.133333 34.133333 0 0 1-47.786667 7.509333l-110.421333-80.213333a34.133333 34.133333 0 0 1-7.509334-47.786667l214.186667-295.253333L29.013333 489.813333a34.133333 34.133333 0 0 1-22.016-43.008l42.154667-129.877333a34.133333 34.133333 0 0 1 43.008-22.016l320.512 104.106667L412.672 51.2c0-18.773333 15.36-34.133333 34.133333-34.133333h136.533334z"})],-1),li=[ri];function oi(e,t,a,i,r,l){const o=G("icon-question-circle"),n=G("Tooltip"),h=G("ResizeObserver");return m(),W(h,{onResize:e.handleResize},{default:C(()=>[(m(),W(pt(e.component),ce({ref:"labelRef",class:e.prefixCls},e.attrs),{default:C(()=>[e.required&&e.asteriskPosition==="start"?(m(),L("strong",{key:0,class:x(`${e.prefixCls}-required-symbol`)},ai,2)):H("v-if",!0),B(e.$slots,"default"),e.tooltip?(m(),W(n,{key:1,content:e.tooltip},{default:C(()=>[j(o,{class:x(`${e.prefixCls}-tooltip`)},null,8,["class"])]),_:1},8,["content"])):H("v-if",!0),e.required&&e.asteriskPosition==="end"?(m(),L("strong",{key:2,class:x(`${e.prefixCls}-required-symbol`)},li,2)):H("v-if",!0),I(" "+Y(e.showColon?":":""),1)]),_:3},16,["class"]))]),_:3},8,["onResize"])}var si=oe(ti,[["render",oi]]);const ni=D({name:"FormItemMessage",props:{error:Array,help:String},setup(){return{prefixCls:le("form-item-message")}}});function ui(e,t,a,i,r,l){return e.help||e.$slots.help?(m(),W(ze,{key:0,name:"form-blink",appear:""},{default:C(()=>[d("div",{class:x([e.prefixCls,`${e.prefixCls}-help`])},[B(e.$slots,"help",{},()=>[I(Y(e.help),1)])],2)]),_:3})):(m(!0),L(ee,{key:1},pe(e.error,o=>(m(),W(ze,{key:o,name:"form-blink",appear:""},{default:C(()=>[d("div",{role:"alert",class:x([e.prefixCls])},Y(o),3)]),_:2},1024))),128))}var di=oe(ni,[["render",ui]]);const Te=["success","warning","error","validating"],ci=e=>{let t="";for(const a of Object.keys(e)){const i=e[a];i&&(!t||Te.indexOf(i)>Te.indexOf(t))&&(t=e[a])}return t},fi=e=>{const t=[];for(const a of Object.keys(e)){const i=e[a];i&&t.push(i)}return t};var pi=Object.defineProperty,he=Object.getOwnPropertySymbols,He=Object.prototype.hasOwnProperty,Je=Object.prototype.propertyIsEnumerable,Ie=(e,t,a)=>t in e?pi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Ne=(e,t)=>{for(var a in t||(t={}))He.call(t,a)&&Ie(e,a,t[a]);if(he)for(var a of he(t))Je.call(t,a)&&Ie(e,a,t[a]);return e},hi=(e,t)=>{var a={};for(var i in e)He.call(e,i)&&t.indexOf(i)<0&&(a[i]=e[i]);if(e!=null&&he)for(var i of he(e))t.indexOf(i)<0&&Je.call(e,i)&&(a[i]=e[i]);return a};const mi=D({name:"FormItem",components:{ArcoRow:$t,ArcoCol:wt,FormItemLabel:si,FormItemMessage:di},props:{field:{type:String,default:""},label:String,tooltip:{type:String},showColon:{type:Boolean,default:!1},noStyle:{type:Boolean,default:!1},disabled:{type:Boolean,default:void 0},help:String,extra:String,required:{type:Boolean,default:!1},asteriskPosition:{type:String,default:"start"},rules:{type:[Object,Array]},validateStatus:{type:String},validateTrigger:{type:[String,Array],default:"change"},labelColProps:Object,wrapperColProps:Object,hideLabel:{type:Boolean,default:!1},hideAsterisk:{type:Boolean,default:!1},labelColStyle:Object,wrapperColStyle:Object,rowProps:Object,rowClass:[String,Array,Object],contentClass:[String,Array,Object],contentFlex:{type:Boolean,default:!0},mergeProps:{type:[Boolean,Function],default:!0},labelColFlex:{type:[Number,String]},feedback:{type:Boolean,default:!1},labelComponent:{type:String,default:"label"},labelAttrs:Object},setup(e){const t=le("form-item"),{field:a}=Ve(e),i=Se(Le,{}),{autoLabelWidth:r,layout:l}=Ve(i),{i18nMessage:o}=Ot(),n=g(()=>{var s;const S=Ne({},(s=e.labelColProps)!=null?s:i.labelColProps);return e.labelColFlex?S.flex=e.labelColFlex:i.autoLabelWidth&&(S.flex=`${i.maxLabelWidth}px`),S}),h=g(()=>{var s;const S=Ne({},(s=e.wrapperColProps)!=null?s:i.wrapperColProps);return(e.labelColFlex||i.autoLabelWidth)&&(S.flex="auto"),S}),y=g(()=>{var s;return(s=e.labelColStyle)!=null?s:i.labelColStyle}),w=g(()=>{var s;return(s=e.wrapperColStyle)!=null?s:i.wrapperColStyle}),p=Re(i.model,e.field),u=R({}),E=R({}),A=g(()=>ci(u)),F=g(()=>fi(E)),f=J(!1),_=g(()=>Re(i.model,e.field)),V=g(()=>{var s;return Boolean((s=e.disabled)!=null?s:i==null?void 0:i.disabled)}),U=g(()=>{var s;return(s=e.validateStatus)!=null?s:A.value}),X=g(()=>U.value==="error"),se=g(()=>{var s,S,O;const ae=[].concat((O=(S=e.rules)!=null?S:(s=i==null?void 0:i.rules)==null?void 0:s[e.field])!=null?O:[]),_e=ae.some(re=>re.required);return e.required&&!_e?[{required:!0}].concat(ae):ae}),ve=g(()=>se.value.some(s=>s.required)),ne=e.noStyle?Se(xe,void 0):void 0,K=(s,{status:S,message:O})=>{u[s]=S,E[s]=O,e.noStyle&&(ne==null||ne.updateValidateState(s,{status:S,message:O}))},be=g(()=>e.feedback&&U.value?U.value:void 0),Q=()=>{var s;if(f.value)return Promise.resolve();const S=se.value;if(!a.value||S.length===0)return A.value&&de(),Promise.resolve();const O=a.value,ae=_.value;K(O,{status:"",message:""});const _e=new Ge({[O]:S.map(re=>{var P=hi(re,[]);return!P.type&&!P.validator&&(P.type="string"),P})},{ignoreEmptyString:!0,validateMessages:(s=o.value.form)==null?void 0:s.validateMessages});return new Promise(re=>{_e.validate({[O]:ae},P=>{var qe;const Pe=Boolean(P==null?void 0:P[O]);K(O,{status:Pe?"error":"",message:(qe=P==null?void 0:P[O].message)!=null?qe:""});const Ye=Pe?{label:e.label,field:a.value,value:P[O].value,type:P[O].type,isRequiredError:Boolean(P[O].requiredError),message:P[O].message}:void 0;re(Ye)})})},ue=g(()=>[].concat(e.validateTrigger)),ye=g(()=>ue.value.reduce((s,S)=>{switch(S){case"change":return s.onChange=()=>{Q()},s;case"input":return s.onInput=()=>{je(()=>{Q()})},s;case"focus":return s.onFocus=()=>{Q()},s;case"blur":return s.onBlur=()=>{Q()},s;default:return s}},{}));De(xe,R({eventHandlers:ye,size:i&&ht(i,"size"),disabled:V,error:X,feedback:be,updateValidateState:K}));const de=()=>{a.value&&K(a.value,{status:"",message:""})},$=R({field:a,disabled:V,error:X,validate:Q,clearValidate:de,resetField:()=>{de(),f.value=!0,(i==null?void 0:i.model)&&a.value&&We(i.model,a.value,p),je(()=>{f.value=!1})},setField:s=>{var S,O;a.value&&(f.value=!0,"value"in s&&(i==null?void 0:i.model)&&a.value&&We(i.model,a.value,s.value),(s.status||s.message)&&K(a.value,{status:(S=s.status)!=null?S:"",message:(O=s.message)!=null?O:""}),je(()=>{f.value=!1}))}});Ue(()=>{var s;$.field&&((s=i.addField)==null||s.call(i,$))}),Ke(()=>{var s;$.field&&((s=i.removeField)==null||s.call(i,$))});const k=g(()=>[t,`${t}-layout-${i.layout}`,{[`${t}-error`]:X.value,[`${t}-status-${U.value}`]:Boolean(U.value)},e.rowClass]),M=g(()=>[`${t}-label-col`,{[`${t}-label-col-left`]:i.labelAlign==="left",[`${t}-label-col-flex`]:i.autoLabelWidth||e.labelColFlex}]),q=g(()=>[`${t}-wrapper-col`,{[`${t}-wrapper-col-flex`]:!h.value}]);return{prefixCls:t,cls:k,isRequired:ve,isError:X,finalMessage:F,mergedLabelCol:n,mergedWrapperCol:h,labelColCls:M,autoLabelWidth:r,layout:l,mergedLabelStyle:y,wrapperColCls:q,mergedWrapperStyle:w}}});function gi(e,t,a,i,r,l){var o;const n=G("FormItemLabel"),h=G("ArcoCol"),y=G("FormItemMessage"),w=G("ArcoRow");return e.noStyle?B(e.$slots,"default",{key:0}):(m(),W(w,ce({key:1,class:[e.cls,{[`${e.prefixCls}-has-help`]:Boolean((o=e.$slots.help)!=null?o:e.help)}],wrap:!(e.labelColFlex||e.autoLabelWidth),div:e.layout!=="horizontal"||e.hideLabel},e.rowProps),{default:C(()=>[e.hideLabel?H("v-if",!0):(m(),W(h,ce({key:0,class:e.labelColCls,style:e.mergedLabelStyle},e.mergedLabelCol),{default:C(()=>[j(n,{required:e.hideAsterisk?!1:e.isRequired,"show-colon":e.showColon,"asterisk-position":e.asteriskPosition,component:e.labelComponent,attrs:e.labelAttrs,tooltip:e.tooltip},{default:C(()=>[e.$slots.label||e.label?B(e.$slots,"label",{key:0},()=>[I(Y(e.label),1)]):H("v-if",!0)]),_:3},8,["required","show-colon","asterisk-position","component","attrs","tooltip"])]),_:3},16,["class","style"])),j(h,ce({class:e.wrapperColCls,style:e.mergedWrapperStyle},e.mergedWrapperCol),{default:C(()=>[d("div",{class:x(`${e.prefixCls}-content-wrapper`)},[d("div",{class:x([`${e.prefixCls}-content`,{[`${e.prefixCls}-content-flex`]:e.contentFlex},e.contentClass])},[B(e.$slots,"default")],2)],2),e.isError||e.$slots.help||e.help?(m(),W(y,{key:0,error:e.finalMessage,help:e.help},mt({_:2},[e.$slots.help?{name:"help",fn:C(()=>[B(e.$slots,"help")])}:void 0]),1032,["error","help"])):H("v-if",!0),e.$slots.extra||e.extra?(m(),L("div",{key:1,class:x(`${e.prefixCls}-extra`)},[B(e.$slots,"extra",{},()=>[I(Y(e.extra),1)])],2)):H("v-if",!0)]),_:3},16,["class","style"])]),_:3},16,["class","wrap","div"]))}var fe=oe(mi,[["render",gi]]);const vi=Object.assign(Ce,{Item:fe,install:(e,t)=>{et(e,t);const a=tt(t);e.component(a+Ce.name,Ce),e.component(a+fe.name,fe)}});const ie=e=>(yt("data-v-9dbc2722"),e=e(),_t(),e),bi={class:"setting"},yi=ie(()=>d("span",null,"\u5E27\u6570 :",-1)),_i=ie(()=>d("span",null,"\u5BBD\u5EA6:",-1)),ji=ie(()=>d("span",null,"\u9AD8\u5EA6:",-1)),Ci=ie(()=>d("span",null,"\u5F00\u59CB\u65F6\u95F4:",-1)),$i=ie(()=>d("span",null,"\u7ED3\u675F\u65F6\u95F4:",-1)),wi=ie(()=>d("span",null,"\u6587\u4EF6\u683C\u5F0F:",-1)),Vi=D({__name:"FormatSetting",props:{fileInfo:null},emits:["change"],setup(e,{emit:t}){const a=e,i=["gif","mp4","avi","webm","mpeg","flv"],r=J(!1),l=R({type:"video",outputName:"output",filename:"",frameRate:25,rangeStart:0,rangeEnd:10,width:0,height:0,fileType:"gif"}),o=J(0),{ffmpeg:n,writeFile:h,ffmpegRun:y}=at();gt(()=>a.fileInfo,p=>{p&&(l.width=p==null?void 0:p.width,l.height=p==null?void 0:p.height,l.rangeEnd=p==null?void 0:p.duration)}),n.setProgress(({time:p})=>{const u=p>=0?p:0;o.value=rt(u/l.rangeEnd,2)});async function w(){var A;const p=(A=a.fileInfo)==null?void 0:A.file;if(!p)return;r.value=!0,await h(p);const{url:u,size:E}=await y({...l,filename:p.name});t("change",{url:u,size:E,type:l.fileType}),r.value=!1}return(p,u)=>{const E=lt,A=ut,F=nt,f=ke,_=ot;return m(),L("div",bi,[d("div",null,[yi,j(E,{type:"text",modelValue:v(l).frameRate,"onUpdate:modelValue":u[0]||(u[0]=V=>v(l).frameRate=V)},null,8,["modelValue"])]),d("div",null,[_i,j(E,{type:"text",modelValue:v(l).width,"onUpdate:modelValue":u[1]||(u[1]=V=>v(l).width=V)},null,8,["modelValue"])]),d("div",null,[ji,j(E,{type:"text",modelValue:v(l).height,"onUpdate:modelValue":u[2]||(u[2]=V=>v(l).height=V)},null,8,["modelValue"])]),d("div",null,[Ci,j(E,{type:"text",modelValue:v(l).rangeStart,"onUpdate:modelValue":u[3]||(u[3]=V=>v(l).rangeStart=V)},null,8,["modelValue"])]),d("div",null,[$i,j(E,{type:"text",modelValue:v(l).rangeEnd,"onUpdate:modelValue":u[4]||(u[4]=V=>v(l).rangeEnd=V)},null,8,["modelValue"])]),d("div",null,[wi,j(F,{"w-320i":"",modelValue:v(l).fileType,"onUpdate:modelValue":u[5]||(u[5]=V=>v(l).fileType=V)},{default:C(()=>[(m(),L(ee,null,pe(i,V=>j(A,{value:V,key:V},{default:C(()=>[I(Y(V.toUpperCase()),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])]),d("div",null,[j(f,{loading:v(r),onClick:w,type:"primary","mr-10":""},{default:C(()=>[I(" \u5F00\u59CB\u8F6C\u6362 ")]),_:1},8,["loading"]),vt(j(_,{percent:v(o),max:100,min:0,"w-200i":""},null,8,["percent"]),[[bt,v(o)||v(r)]])])])}}});var Si=Qe(Vi,[["__scopeId","data-v-9dbc2722"]]);const Oi={flex:"","mb-10":"","b-1":"","b-rd-10":""},Fi={"f-ac":"","wp-50":"","p-10":""},Ei=["src"],Li=["src"],ki={"wp-50":"","p-10":"","b-l-1":""},Mi=d("div",{"fs-20":"","fw-700":"","ml-10":"","mb-10":""},"\u6587\u4EF6\u4FE1\u606F",-1),qi=d("span",null,"M",-1),Pi={"f-ac-jc":""},Ai=["src"],xi=["src"],zi=D({__name:"FormatCard",props:{file:null},setup(e){const t=e,a=J(!1),i=g(()=>(t.file.size/1e6).toFixed(2)),r=J("output");return(l,o)=>{const n=Ft,h=fe,y=vi,w=ke,p=Ct;return m(),L(ee,null,[d("div",Oi,[d("div",Fi,[e.file.type==="gif"?(m(),L("img",{key:0,src:e.file.url,"wp-100":""},null,8,Ei)):(m(),L("video",{key:1,src:e.file.url,autoplay:"",loop:"","wp-100":""},null,8,Li))]),d("div",ki,[Mi,j(y,{model:{},"label-col-props":{span:6},"wrapper-col-props":{span:18}},{default:C(()=>[j(h,{label:"\u5927\u5C0F"},{default:C(()=>[j(n,{"model-value":v(i),disabled:""},{suffix:C(()=>[qi]),_:1},8,["model-value"])]),_:1}),j(h,{field:"output",label:"\u540D\u5B57"},{default:C(()=>[j(n,{modelValue:v(r),"onUpdate:modelValue":o[0]||(o[0]=u=>jt(r)?r.value=u:null)},{suffix:C(()=>[d("span",null,"."+Y(e.file.type),1)]),_:1},8,["modelValue"])]),_:1})]),_:1}),d("div",Pi,[j(w,{"w-60":"","mr-20":"",size:"small",type:"outline",onClick:o[1]||(o[1]=u=>a.value=!0)},{default:C(()=>[I(" \u9884\u89C8 ")]),_:1}),j(w,{"w-60":"",size:"small",type:"primary",href:e.file.url,download:`${v(r)}.${e.file.type}`},{default:C(()=>[I(" \u4E0B\u8F7D ")]),_:1},8,["href","download"])])])]),j(p,{title:`output.${e.file.type}`,visible:v(a),footer:!1,onCancel:o[2]||(o[2]=u=>a.value=!1),width:"80%"},{default:C(()=>[e.file.type==="gif"?(m(),L("img",{key:0,src:e.file.url},null,8,Ai)):(m(),L("video",{key:1,src:e.file.url,autoplay:"",loop:""},null,8,xi))]),_:1},8,["title","visible"])],64)}}});const Ri={"mb-20":""},Wi={flex:"","b-1":""},Ti={"wp-50":"","p-20":"","b-r-1":""},Ii=["onClick"],Ni=["src"],Bi={"wp-50":"","p-20":"",class:"right"},Di=D({__name:"VideoFormat",setup(e){const t=R([]),a=J({}),i=R([]);async function r(){const n=await it("video"),h=await st(n);l(h),t.push(h)}function l(n){a.value=n}function o(n){i.push(n)}return(n,h)=>{const y=ke;return m(),L(ee,null,[d("div",Ri,[j(y,{onClick:r,type:"primary"},{default:C(()=>[I("\u4E0A\u4F20\u6587\u4EF6")]),_:1})]),d("div",Wi,[d("div",Ti,[j(Si,{fileInfo:v(a),onChange:o},null,8,["fileInfo"]),(m(!0),L(ee,null,pe(v(t),w=>(m(),L("div",{class:x(["video-box",v(a).id===w.id&&"selected"]),key:w.id,onClick:p=>l(w)},[d("video",{src:w.url,"h-300":"",autoplay:"",loop:""},null,8,Ni)],10,Ii))),128))]),d("div",Bi,[(m(!0),L(ee,null,pe(v(i),w=>(m(),W(zi,{file:w},null,8,["file"]))),256))])])],64)}}});var oa=Qe(Di,[["__scopeId","data-v-4acacc29"]]);export{oa as default};
