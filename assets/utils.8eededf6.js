import{g as Y,i as M,_ as Z,e as ct,s as qe,b as He,f as Je}from"./index.d66503d3.js";import{I as ft,a as dt,M as pe}from"./index.a7aeb9cf.js";import{I as pt}from"./responsive-observe.34f7bf0c.js";import{d as q,c as g,o as v,a as z,n as F,e as I,f as W,t as Xe,r as me,x as mt,D,F as he,g as X,b as ee,y as Be,z as _e,h as K,i as te,k as Ze,l as be,w as $e,Y as ke,a0 as Se,u as ht,v as gt}from"./index.51e79113.js";import{u as vt,a as Qe,B as Ie,h as et}from"./index.112b9d80.js";import{I as yt}from"./index.de7ee226.js";import{g as wt,K as Re}from"./keyboard.9af3354b.js";import{c as bt}from"./index.9138e464.js";function Me(e,r){return r===void 0&&(r=15),+parseFloat(Number(e).toPrecision(r))}function G(e){var r=e.toString().split(/[eE]/),n=(r[0].split(".")[1]||"").length-+(r[1]||0);return n>0?n:0}function ue(e){if(e.toString().indexOf("e")===-1)return Number(e.toString().replace(".",""));var r=G(e);return r>0?Me(Number(e)*Math.pow(10,r)):Number(e)}function je(e){nt&&(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)&&console.warn(e+" is beyond boundary when transfer to integer, the results may not be accurate")}function ge(e,r){var n=e[0],o=e[1],u=e.slice(2),s=r(n,o);return u.forEach(function(c){s=r(s,c)}),s}function V(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(e.length>2)return ge(e,V);var n=e[0],o=e[1],u=ue(n),s=ue(o),c=G(n)+G(o),d=u*s;return je(d),d/Math.pow(10,c)}function tt(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(e.length>2)return ge(e,tt);var n=e[0],o=e[1],u=Math.pow(10,Math.max(G(n),G(o)));return(V(n,u)+V(o,u))/u}function rt(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(e.length>2)return ge(e,rt);var n=e[0],o=e[1],u=Math.pow(10,Math.max(G(n),G(o)));return(V(n,u)-V(o,u))/u}function We(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(e.length>2)return ge(e,We);var n=e[0],o=e[1],u=ue(n),s=ue(o);return je(u),je(s),V(u/s,Me(Math.pow(10,G(o)-G(n))))}function $t(e,r){var n=Math.pow(10,r),o=We(Math.round(Math.abs(V(e,n))),n);return e<0&&o!==0&&(o=V(o,-1)),o}var nt=!0;function kt(e){e===void 0&&(e=!0),nt=e}var re={strip:Me,plus:tt,minus:rt,times:V,divide:We,round:$t,digitLength:G,float2Fixed:ue,enableBoundaryChecking:kt};const St=q({name:"IconMinus",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const r=Y("icon"),n=g(()=>[r,`${r}-minus`,{[`${r}-spin`]:e.spin}]),o=g(()=>{if(e.size)return{fontSize:M(e.size)?`${e.size}px`:e.size}});return{cls:n,sizeStyle:o}}}),Ct=["stroke-width","stroke-linecap","stroke-linejoin"],Ft=W("path",{d:"M5 24h38"},null,-1),Et=[Ft];function Lt(e,r,n,o,u,s){return v(),z("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:F(e.cls),style:I(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},Et,14,Ct)}var Ce=Z(St,[["render",Lt]]);const Nt=Object.assign(Ce,{install:(e,r)=>{var n;const o=(n=r==null?void 0:r.iconPrefix)!=null?n:"";e.component(o+Ce.name,Ce)}}),zt=150;re.enableBoundaryChecking(!1);var Fe=q({name:"InputNumber",props:{modelValue:Number,defaultValue:Number,mode:{type:String,default:"embed"},precision:Number,step:{type:Number,default:1},disabled:{type:Boolean,default:!1},error:{type:Boolean,default:!1},max:{type:Number,default:1/0},min:{type:Number,default:-1/0},formatter:{type:Function},parser:{type:Function},placeholder:String,hideButton:{type:Boolean,default:!1},size:{type:String},allowClear:{type:Boolean,default:!1},modelEvent:{type:String,default:"change"},readOnly:{type:Boolean,default:!1}},emits:{"update:modelValue":e=>!0,change:(e,r)=>!0,focus:e=>!0,blur:e=>!0,clear:e=>!0,input:(e,r,n)=>!0},setup(e,{emit:r,slots:n}){var o;const{size:u,disabled:s}=Xe(e),c=Y("input-number"),d=me(),{mergedSize:h,mergedDisabled:p,eventHandlers:k}=vt({size:u,disabled:s}),{mergedSize:S}=Qe(h),R=g(()=>{if(M(e.precision)){const t=`${e.step}`.split(".")[1],a=t&&t.length||0;return Math.max(a,e.precision)}}),U=t=>{var a,l;if(!M(t))return"";const f=R.value?t.toFixed(R.value):String(t);return(l=(a=e.formatter)==null?void 0:a.call(e,f))!=null?l:f},P=me(U((o=e.modelValue)!=null?o:e.defaultValue)),E=g(()=>{var t,a;if(!P.value)return;const l=Number((a=(t=e.parser)==null?void 0:t.call(e,P.value))!=null?a:P.value);return Number.isNaN(l)?void 0:l}),B=me(M(E.value)&&E.value<=e.min),b=me(M(E.value)&&E.value>=e.max);let x=0;const m=()=>{x&&(window.clearTimeout(x),x=0)},y=t=>{if(!ct(t))return M(e.min)&&t<e.min&&(t=e.min),M(e.max)&&t>e.max&&(t=e.max),M(R.value)?re.round(t,R.value):t},$=t=>{let a=!1,l=!1;M(t)&&(t<=e.min&&(a=!0),t>=e.max&&(l=!0)),b.value!==l&&(b.value=l),B.value!==a&&(B.value=a)},_=(t,a)=>{if(p.value||t==="plus"&&b.value||t==="minus"&&B.value)return;let l;M(E.value)?l=y(re[t](E.value,e.step)):l=e.min===-1/0?0:e.min,P.value=U(l),$(l),r("update:modelValue",l),r("change",l,a)},L=(t,a,l=!1)=>{var f;t.preventDefault(),(f=d.value)==null||f.focus(),_(a,t),l&&(x=window.setTimeout(()=>t.target.dispatchEvent(t),zt))},A=(t,a)=>{var l,f,w,N;t=t.trim().replace(/ã€‚/g,"."),t=(f=(l=e.parser)==null?void 0:l.call(e,t))!=null?f:t,(M(Number(t))||/^(\.|-)$/.test(t))&&(P.value=(N=(w=e.formatter)==null?void 0:w.call(e,t))!=null?N:t,$(E.value),e.modelEvent==="input"&&r("update:modelValue",E.value),r("input",E.value,P.value,a))},ce=t=>{r("focus",t)},Q=(t,a)=>{const l=y(E.value),f=U(l);(l!==E.value||P.value!==f)&&(P.value=f,$(l)),r("update:modelValue",l),r("change",l,a)},ve=t=>{r("blur",t)},fe=t=>{var a,l;P.value="",r("update:modelValue",void 0),r("change",void 0,t),(l=(a=k.value)==null?void 0:a.onChange)==null||l.call(a,t),r("clear",t)},ye=wt(new Map([[Re.ARROW_UP,t=>{t.preventDefault(),!e.readOnly&&_("plus",t)}],[Re.ARROW_DOWN,t=>{t.preventDefault(),!e.readOnly&&_("minus",t)}]]));mt(()=>e.modelValue,t=>{t!==E.value&&(P.value=U(t),$(t))});const ne=()=>{var t;return e.readOnly?null:D(he,null,[(t=n.suffix)==null?void 0:t.call(n),D("div",{class:`${c}-step`},[D("button",{class:[`${c}-step-button`,{[`${c}-step-button-disabled`]:p.value||b.value}],type:"button",tabindex:"-1",disabled:p.value||b.value,onMousedown:a=>L(a,"plus",!0),onMouseup:m,onMouseleave:m},[D(ft,null,null)]),D("button",{class:[`${c}-step-button`,{[`${c}-step-button-disabled`]:p.value||B.value}],type:"button",tabindex:"-1",disabled:p.value||B.value,onMousedown:a=>L(a,"minus",!0),onMouseup:m,onMouseleave:m},[D(pt,null,null)])])])},oe=g(()=>[c,`${c}-mode-${e.mode}`,`${c}-size-${S.value}`,{[`${c}-readonly`]:e.readOnly}]),ae=()=>D(Ie,{size:S.value,tabindex:"-1",class:`${c}-step-button`,disabled:p.value||B.value,onMousedown:t=>L(t,"minus",!0),onMouseup:m,onMouseleave:m},{icon:()=>D(Nt,null,null)}),de=()=>D(Ie,{size:S.value,tabindex:"-1",class:`${c}-step-button`,disabled:p.value||b.value,onMousedown:t=>L(t,"plus",!0),onMouseup:m,onMouseleave:m},{icon:()=>D(dt,null,null)});return{inputRef:d,render:()=>{const t=e.mode==="embed"?{prepend:n.prepend,prefix:n.prefix,suffix:e.hideButton?n.suffix:ne,append:n.append}:{prepend:ae,prefix:n.prefix,suffix:n.suffix,append:de};return D(yt,{key:`__arco__${e.mode}`,ref:d,class:oe.value,type:"text",allowClear:e.allowClear,size:S.value,modelValue:P.value,placeholder:e.placeholder,disabled:p.value,readonly:e.readOnly,error:e.error,inputAttrs:{role:"spinbutton","aria-valuemax":e.max,"aria-valuemin":e.min,"aria-valuenow":P.value},onInput:A,onFocus:ce,onBlur:ve,onClear:fe,onChange:Q,onKeydown:ye},t)}}},methods:{focus(){var e;(e=this.inputRef)==null||e.focus()},blur(){var e;(e=this.inputRef)==null||e.blur()}},render(){return this.render()}});const kn=Object.assign(Fe,{install:(e,r)=>{qe(e,r);const n=He(r);e.component(n+Fe.name,Fe)}});var Pt=Object.defineProperty,xe=Object.getOwnPropertySymbols,Ot=Object.prototype.hasOwnProperty,jt=Object.prototype.propertyIsEnumerable,Ae=(e,r,n)=>r in e?Pt(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n,Bt=(e,r)=>{for(var n in r||(r={}))Ot.call(r,n)&&Ae(e,n,r[n]);if(xe)for(var n of xe(r))jt.call(r,n)&&Ae(e,n,r[n]);return e};const _t={small:3,medium:4,large:8},Mt=e=>{if(!!e)return Je(e)?{backgroundImage:`linear-gradient(to right, ${Object.keys(e).map(n=>`${e[n]} ${n}`).join(",")})`}:{backgroundColor:e}},Wt=q({name:"ProgressLine",components:{IconExclamationCircleFill:et},props:{percent:{type:Number,default:0},animation:{type:Boolean,default:!1},size:{type:String,default:"medium"},strokeWidth:{type:Number,default:4},width:{type:[Number,String],default:"100%"},color:{type:[String,Object],default:void 0},trackColor:String,formatText:{type:Function,default:void 0},status:{type:String},showText:Boolean},setup(e){const r=Y("progress-line"),n=g(()=>e.strokeWidth!==4?e.strokeWidth:_t[e.size]),o=g(()=>`${re.times(e.percent,100)}%`),u=g(()=>({width:e.width,height:`${n.value}px`,backgroundColor:e.trackColor})),s=g(()=>Bt({width:`${e.percent*100}%`},Mt(e.color)));return{prefixCls:r,style:u,barStyle:s,text:o}}}),Tt=["aria-valuenow"];function Dt(e,r,n,o,u,s){const c=X("icon-exclamation-circle-fill");return v(),z("div",{role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.percent,class:F(`${e.prefixCls}-wrapper`)},[W("div",{class:F(e.prefixCls),style:I(e.style)},[W("div",{class:F(`${e.prefixCls}-bar-buffer`)},null,2),W("div",{class:F([`${e.prefixCls}-bar`]),style:I(e.barStyle)},null,6)],6),e.showText?(v(),z("div",{key:0,class:F(`${e.prefixCls}-text`)},[ee(e.$slots,"text",{percent:e.percent},()=>[Be(_e(e.text)+" ",1),e.status==="danger"?(v(),K(c,{key:0})):te("v-if",!0)])],2)):te("v-if",!0)],10,Tt)}var It=Z(Wt,[["render",Dt]]);const Rt=q({name:"IconExclamation",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const r=Y("icon"),n=g(()=>[r,`${r}-exclamation`,{[`${r}-spin`]:e.spin}]),o=g(()=>{if(e.size)return{fontSize:M(e.size)?`${e.size}px`:e.size}});return{cls:n,sizeStyle:o}}}),xt=["stroke-width","stroke-linecap","stroke-linejoin"],At=W("path",{d:"M23 9h2v21h-2z"},null,-1),Gt=W("path",{fill:"currentColor",stroke:"none",d:"M23 9h2v21h-2z"},null,-1),Ut=W("path",{d:"M23 37h2v2h-2z"},null,-1),Vt=W("path",{fill:"currentColor",stroke:"none",d:"M23 37h2v2h-2z"},null,-1),Kt=[At,Gt,Ut,Vt];function Yt(e,r,n,o,u,s){return v(),z("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:F(e.cls),style:I(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},Kt,14,xt)}var Ee=Z(Rt,[["render",Yt]]);const qt=Object.assign(Ee,{install:(e,r)=>{var n;const o=(n=r==null?void 0:r.iconPrefix)!=null?n:"";e.component(o+Ee.name,Ee)}}),Ht=q({name:"IconCheck",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},spin:Boolean},setup(e){const r=Y("icon"),n=g(()=>[r,`${r}-check`,{[`${r}-spin`]:e.spin}]),o=g(()=>{if(e.size)return{fontSize:M(e.size)?`${e.size}px`:e.size}});return{cls:n,sizeStyle:o}}}),Jt=["stroke-width","stroke-linecap","stroke-linejoin"],Xt=W("path",{d:"M41.678 11.05 19.05 33.678 6.322 20.95"},null,-1),Zt=[Xt];function Qt(e,r,n,o,u,s){return v(),z("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:F(e.cls),style:I(e.sizeStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},Zt,14,Jt)}var Le=Z(Ht,[["render",Qt]]);const er=Object.assign(Le,{install:(e,r)=>{var n;const o=(n=r==null?void 0:r.iconPrefix)!=null?n:"";e.component(o+Le.name,Le)}});let Ge=0;const tr={mini:16,small:48,medium:64,large:80},rr={mini:4,small:3,medium:4,large:4},nr=q({name:"ProgressCircle",components:{IconExclamation:qt,IconCheck:er},props:{percent:{type:Number,default:0},type:{type:String},size:{type:String,default:"medium"},strokeWidth:{type:Number},width:{type:Number,default:void 0},color:{type:[String,Object],default:void 0},trackColor:String,status:{type:String,default:void 0},showText:{type:Boolean,default:!0},pathStrokeWidth:{type:Number}},setup(e){const r=Y("progress-circle"),n=Je(e.color),o=g(()=>{var S;return(S=e.width)!=null?S:tr[e.size]}),u=g(()=>{var S;return(S=e.strokeWidth)!=null?S:e.size==="mini"?o.value/2:rr[e.size]}),s=g(()=>{var S;return(S=e.pathStrokeWidth)!=null?S:e.size==="mini"?u.value:Math.max(2,u.value-2)}),c=g(()=>(o.value-u.value)/2),d=g(()=>Math.PI*2*c.value),h=g(()=>o.value/2),p=g(()=>(Ge+=1,`${r}-linear-gradient-${Ge}`)),k=g(()=>`${re.times(e.percent,100)}%`);return{prefixCls:r,isLinearGradient:n,radius:c,text:k,perimeter:d,center:h,mergedWidth:o,mergedStrokeWidth:u,mergedPathStrokeWidth:s,linearGradientId:p}}}),or=["aria-valuenow"],ar=["viewBox"],ir={key:0},sr=["id"],lr=["offset","stop-color"],ur=["cx","cy","r","stroke-width"],cr=["cx","cy","r","stroke-width"];function fr(e,r,n,o,u,s){const c=X("icon-check"),d=X("icon-exclamation");return v(),z("div",{role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.percent,class:F(`${e.prefixCls}-wrapper`),style:I({width:`${e.mergedWidth}px`,height:`${e.mergedWidth}px`})},[e.type==="circle"&&e.size==="mini"&&e.status==="success"?(v(),K(c,{key:0,style:I({fontSize:e.mergedWidth-2,color:e.color})},null,8,["style"])):(v(),z("svg",{key:1,viewBox:`0 0 ${e.mergedWidth} ${e.mergedWidth}`,class:F(`${e.prefixCls}-svg`)},[e.isLinearGradient?(v(),z("defs",ir,[W("linearGradient",{id:e.linearGradientId,x1:"0",y1:"1",x2:"0",y2:"0"},[(v(!0),z(he,null,Ze(Object.keys(e.color),h=>(v(),z("stop",{key:h,offset:h,"stop-color":e.color[h]},null,8,lr))),128))],8,sr)])):te("v-if",!0),W("circle",{class:F(`${e.prefixCls}-bg`),fill:"none",cx:e.center,cy:e.center,r:e.radius,"stroke-width":e.mergedPathStrokeWidth,style:I({stroke:e.trackColor})},null,14,ur),W("circle",{class:F(`${e.prefixCls}-bar`),fill:"none",cx:e.center,cy:e.center,r:e.radius,"stroke-width":e.mergedStrokeWidth,style:I({stroke:e.isLinearGradient?`url(#${e.linearGradientId})`:e.color,strokeDasharray:e.perimeter,strokeDashoffset:(e.percent>=1?0:1-e.percent)*e.perimeter})},null,14,cr)],10,ar)),e.showText&&e.size!=="mini"?(v(),z("div",{key:2,class:F(`${e.prefixCls}-text`)},[ee(e.$slots,"text",{percent:e.percent},()=>[e.status==="danger"?(v(),K(d,{key:0})):e.status==="success"?(v(),K(c,{key:1})):(v(),z(he,{key:2},[Be(_e(e.text),1)],2112))])],2)):te("v-if",!0)],14,or)}var dr=Z(nr,[["render",fr]]);const pr=q({name:"ProgressSteps",components:{IconExclamationCircleFill:et},props:{steps:{type:Number,default:0},percent:{type:Number,default:0},size:{type:String},color:{type:[String,Object],default:void 0},trackColor:String,strokeWidth:{type:Number},status:{type:String,default:void 0},showText:{type:Boolean,default:!0}},setup(e){const r=Y("progress-steps"),n=g(()=>{var s;return((s=e.strokeWidth)!=null?s:e.size==="small")?8:4}),o=g(()=>[...Array(e.steps)].map((s,c)=>e.percent>0&&e.percent>=1/e.steps*c)),u=g(()=>`${re.times(e.percent,100)}%`);return{prefixCls:r,stepList:o,mergedStrokeWidth:n,text:u}}}),mr=["aria-valuenow"];function hr(e,r,n,o,u,s){const c=X("icon-exclamation-circle-fill");return v(),z("div",{role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.percent,class:F(`${e.prefixCls}-wrapper`)},[W("div",{class:F(e.prefixCls),style:I({height:`${e.mergedStrokeWidth}px`})},[(v(!0),z(he,null,Ze(e.stepList,(d,h)=>(v(),z("div",{key:h,class:F([`${e.prefixCls}-item`,{[`${e.prefixCls}-item-active`]:d}]),style:I({backgroundColor:d?e.color:e.trackColor})},null,6))),128))],6),e.showText?(v(),z("div",{key:0,class:F(`${e.prefixCls}-text`)},[ee(e.$slots,"text",{percent:e.percent},()=>[Be(_e(e.text)+" ",1),e.status==="danger"?(v(),K(c,{key:0})):te("v-if",!0)])],2)):te("v-if",!0)],10,mr)}var gr=Z(pr,[["render",hr]]);const vr=q({name:"Progress",components:{ProgressLine:It,ProgressCircle:dr,ProgressSteps:gr},props:{type:{type:String,default:"line"},size:{type:String},percent:{type:Number,default:0},steps:{type:Number,default:0},animation:{type:Boolean,default:!1},strokeWidth:{type:Number},width:{type:[Number,String]},color:{type:[String,Object]},trackColor:String,bufferColor:{type:[String,Object]},showText:{type:Boolean,default:!0},status:{type:String}},setup(e){const r=Y("progress"),{size:n}=Xe(e),o=g(()=>e.steps>0?"steps":e.type),u=g(()=>e.status||(e.percent>=1?"success":"normal")),{mergedSize:s}=Qe(n);return{cls:g(()=>[r,`${r}-type-${o.value}`,`${r}-size-${s.value}`,`${r}-status-${u.value}`]),computedStatus:u,mergedSize:s}}});function yr(e,r,n,o,u,s){const c=X("progress-steps"),d=X("progress-line"),h=X("progress-circle");return v(),z("div",{class:F(e.cls)},[e.steps>0?(v(),K(c,{key:0,"stroke-width":e.strokeWidth,percent:e.percent,color:e.color,"track-color":e.trackColor,width:e.width,steps:e.steps,size:e.mergedSize,"show-text":e.showText},be({_:2},[e.$slots.text?{name:"text",fn:$e(p=>[ee(e.$slots,"text",ke(Se(p)))])}:void 0]),1032,["stroke-width","percent","color","track-color","width","steps","size","show-text"])):e.type==="line"&&e.mergedSize!=="mini"?(v(),K(d,{key:1,"stroke-width":e.strokeWidth,animation:e.animation,percent:e.percent,color:e.color,"track-color":e.trackColor,size:e.mergedSize,"buffer-color":e.bufferColor,width:e.width,"show-text":e.showText,status:e.computedStatus},be({_:2},[e.$slots.text?{name:"text",fn:$e(p=>[ee(e.$slots,"text",ke(Se(p)))])}:void 0]),1032,["stroke-width","animation","percent","color","track-color","size","buffer-color","width","show-text","status"])):(v(),K(h,{key:2,type:e.type,"stroke-width":e.type==="line"?e.strokeWidth||4:e.strokeWidth,"path-stroke-width":e.type==="line"?e.strokeWidth||4:e.strokeWidth,width:e.width,percent:e.percent,color:e.color,"track-color":e.trackColor,size:e.mergedSize,"show-text":e.showText,status:e.computedStatus},be({_:2},[e.$slots.text?{name:"text",fn:$e(p=>[ee(e.$slots,"text",ke(Se(p)))])}:void 0]),1032,["type","stroke-width","path-stroke-width","width","percent","color","track-color","size","show-text","status"]))],2)}var Ne=Z(vr,[["render",yr]]);const Sn=Object.assign(Ne,{install:(e,r)=>{qe(e,r);const n=He(r);e.component(n+Ne.name,Ne)}});var ot=(e=>(e[e.mp4=0]="mp4",e[e.avi=1]="avi",e[e.webm=2]="webm",e[e.mpeg=3]="mpeg",e[e.flv=4]="flv",e))(ot||{}),at=(e=>(e[e.jpg=0]="jpg",e[e.jpeg=1]="jpeg",e[e.png=2]="png",e[e.gif=3]="gif",e))(at||{});function wr(e){let r=e;if(e.file&&(r=e==null?void 0:e.file),!e)throw new Error("\u6CA1\u6709\u627E\u5230\u6587\u4EF6\uFF01");const n="new_file"+br(r.name);return new File([r],n,{type:r.type})}function br(e){return e.substring(e.lastIndexOf("."))}function $r(e,r){if(!e)return"";let n="image";return ot[r]!==void 0?n="video/":at[r]!==void 0?n="image/":console.log("\u97F3\u9891\u5904\u7406"),URL.createObjectURL(new Blob([e],{type:`${n}${r}`}))}function Cn(e){return new Promise((r,n)=>{try{const o=wr(e),u=URL.createObjectURL(o),s=document.createElement("video");s.src=u;const c=`${Date.now()}${Math.random()}`;s.onloadedmetadata=function(){URL.revokeObjectURL(u),r({file:o,url:u,id:c,el:s,width:s.videoWidth,height:s.videoHeight,duration:Math.round(s.duration)})}}catch(o){n(o)}})}var kr={exports:{}};(function(e){var r=function(n){var o=Object.prototype,u=o.hasOwnProperty,s,c=typeof Symbol=="function"?Symbol:{},d=c.iterator||"@@iterator",h=c.asyncIterator||"@@asyncIterator",p=c.toStringTag||"@@toStringTag";function k(i,t,a){return Object.defineProperty(i,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),i[t]}try{k({},"")}catch{k=function(t,a,l){return t[a]=l}}function S(i,t,a,l){var f=t&&t.prototype instanceof x?t:x,w=Object.create(f.prototype),N=new oe(l||[]);return w._invoke=ve(i,a,N),w}n.wrap=S;function R(i,t,a){try{return{type:"normal",arg:i.call(t,a)}}catch(l){return{type:"throw",arg:l}}}var U="suspendedStart",P="suspendedYield",E="executing",B="completed",b={};function x(){}function m(){}function y(){}var $={};k($,d,function(){return this});var _=Object.getPrototypeOf,L=_&&_(_(ae([])));L&&L!==o&&u.call(L,d)&&($=L);var A=y.prototype=x.prototype=Object.create($);m.prototype=y,k(A,"constructor",y),k(y,"constructor",m),m.displayName=k(y,p,"GeneratorFunction");function ce(i){["next","throw","return"].forEach(function(t){k(i,t,function(a){return this._invoke(t,a)})})}n.isGeneratorFunction=function(i){var t=typeof i=="function"&&i.constructor;return t?t===m||(t.displayName||t.name)==="GeneratorFunction":!1},n.mark=function(i){return Object.setPrototypeOf?Object.setPrototypeOf(i,y):(i.__proto__=y,k(i,p,"GeneratorFunction")),i.prototype=Object.create(A),i},n.awrap=function(i){return{__await:i}};function Q(i,t){function a(w,N,O,T){var j=R(i[w],i,N);if(j.type==="throw")T(j.arg);else{var we=j.arg,ie=we.value;return ie&&typeof ie=="object"&&u.call(ie,"__await")?t.resolve(ie.__await).then(function(H){a("next",H,O,T)},function(H){a("throw",H,O,T)}):t.resolve(ie).then(function(H){we.value=H,O(we)},function(H){return a("throw",H,O,T)})}}var l;function f(w,N){function O(){return new t(function(T,j){a(w,N,T,j)})}return l=l?l.then(O,O):O()}this._invoke=f}ce(Q.prototype),k(Q.prototype,h,function(){return this}),n.AsyncIterator=Q,n.async=function(i,t,a,l,f){f===void 0&&(f=Promise);var w=new Q(S(i,t,a,l),f);return n.isGeneratorFunction(t)?w:w.next().then(function(N){return N.done?N.value:w.next()})};function ve(i,t,a){var l=U;return function(w,N){if(l===E)throw new Error("Generator is already running");if(l===B){if(w==="throw")throw N;return de()}for(a.method=w,a.arg=N;;){var O=a.delegate;if(O){var T=fe(O,a);if(T){if(T===b)continue;return T}}if(a.method==="next")a.sent=a._sent=a.arg;else if(a.method==="throw"){if(l===U)throw l=B,a.arg;a.dispatchException(a.arg)}else a.method==="return"&&a.abrupt("return",a.arg);l=E;var j=R(i,t,a);if(j.type==="normal"){if(l=a.done?B:P,j.arg===b)continue;return{value:j.arg,done:a.done}}else j.type==="throw"&&(l=B,a.method="throw",a.arg=j.arg)}}}function fe(i,t){var a=i.iterator[t.method];if(a===s){if(t.delegate=null,t.method==="throw"){if(i.iterator.return&&(t.method="return",t.arg=s,fe(i,t),t.method==="throw"))return b;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}var l=R(a,i.iterator,t.arg);if(l.type==="throw")return t.method="throw",t.arg=l.arg,t.delegate=null,b;var f=l.arg;if(!f)return t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,b;if(f.done)t[i.resultName]=f.value,t.next=i.nextLoc,t.method!=="return"&&(t.method="next",t.arg=s);else return f;return t.delegate=null,b}ce(A),k(A,p,"Generator"),k(A,d,function(){return this}),k(A,"toString",function(){return"[object Generator]"});function ye(i){var t={tryLoc:i[0]};1 in i&&(t.catchLoc=i[1]),2 in i&&(t.finallyLoc=i[2],t.afterLoc=i[3]),this.tryEntries.push(t)}function ne(i){var t=i.completion||{};t.type="normal",delete t.arg,i.completion=t}function oe(i){this.tryEntries=[{tryLoc:"root"}],i.forEach(ye,this),this.reset(!0)}n.keys=function(i){var t=[];for(var a in i)t.push(a);return t.reverse(),function l(){for(;t.length;){var f=t.pop();if(f in i)return l.value=f,l.done=!1,l}return l.done=!0,l}};function ae(i){if(i){var t=i[d];if(t)return t.call(i);if(typeof i.next=="function")return i;if(!isNaN(i.length)){var a=-1,l=function f(){for(;++a<i.length;)if(u.call(i,a))return f.value=i[a],f.done=!1,f;return f.value=s,f.done=!0,f};return l.next=l}}return{next:de}}n.values=ae;function de(){return{value:s,done:!0}}return oe.prototype={constructor:oe,reset:function(i){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(ne),!i)for(var t in this)t.charAt(0)==="t"&&u.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=s)},stop:function(){this.done=!0;var i=this.tryEntries[0],t=i.completion;if(t.type==="throw")throw t.arg;return this.rval},dispatchException:function(i){if(this.done)throw i;var t=this;function a(T,j){return w.type="throw",w.arg=i,t.next=T,j&&(t.method="next",t.arg=s),!!j}for(var l=this.tryEntries.length-1;l>=0;--l){var f=this.tryEntries[l],w=f.completion;if(f.tryLoc==="root")return a("end");if(f.tryLoc<=this.prev){var N=u.call(f,"catchLoc"),O=u.call(f,"finallyLoc");if(N&&O){if(this.prev<f.catchLoc)return a(f.catchLoc,!0);if(this.prev<f.finallyLoc)return a(f.finallyLoc)}else if(N){if(this.prev<f.catchLoc)return a(f.catchLoc,!0)}else if(O){if(this.prev<f.finallyLoc)return a(f.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(i,t){for(var a=this.tryEntries.length-1;a>=0;--a){var l=this.tryEntries[a];if(l.tryLoc<=this.prev&&u.call(l,"finallyLoc")&&this.prev<l.finallyLoc){var f=l;break}}f&&(i==="break"||i==="continue")&&f.tryLoc<=t&&t<=f.finallyLoc&&(f=null);var w=f?f.completion:{};return w.type=i,w.arg=t,f?(this.method="next",this.next=f.finallyLoc,b):this.complete(w)},complete:function(i,t){if(i.type==="throw")throw i.arg;return i.type==="break"||i.type==="continue"?this.next=i.arg:i.type==="return"?(this.rval=this.arg=i.arg,this.method="return",this.next="end"):i.type==="normal"&&t&&(this.next=t),b},finish:function(i){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===i)return this.complete(a.completion,a.afterLoc),ne(a),b}},catch:function(i){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===i){var l=a.completion;if(l.type==="throw"){var f=l.arg;ne(a)}return f}}throw new Error("illegal catch attempt")},delegateYield:function(i,t,a){return this.delegate={iterator:ae(i),resultName:t,nextLoc:a},this.method==="next"&&(this.arg=s),b}},n}(e.exports);try{regeneratorRuntime=r}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}})(kr);var Sr={defaultArgs:["./ffmpeg","-nostdin","-y"],baseOptions:{log:!1,logger:()=>{},progress:()=>{},corePath:""}};let Te=!1,it=()=>{};const Cr=e=>{Te=e},Fr=e=>{it=e},Er=(e,r)=>{it({type:e,message:r}),Te&&console.log(`[${e}] ${r}`)};var st={logging:Te,setLogging:Cr,setCustomLogger:Fr,log:Er};let se=0,ze=0;const Ue=e=>{const[r,n,o]=e.split(":");return parseFloat(r)*60*60+parseFloat(n)*60+parseFloat(o)};var Lr=(e,r)=>{if(typeof e=="string")if(e.startsWith("  Duration")){const n=e.split(", ")[0].split(": ")[1],o=Ue(n);r({duration:o,ratio:ze}),(se===0||se>o)&&(se=o)}else if(e.startsWith("frame")||e.startsWith("size")){const n=e.split("time=")[1].split(" ")[0],o=Ue(n);ze=o/se,r({ratio:ze,time:o})}else e.startsWith("video:")&&(r({ratio:1}),se=0)},Nr=(e,r)=>{const n=e._malloc(r.length*Uint32Array.BYTES_PER_ELEMENT);return r.forEach((o,u)=>{const s=e._malloc(o.length+1);e.writeAsciiToMemory(o,s),e.setValue(n+Uint32Array.BYTES_PER_ELEMENT*u,s,"i32")}),[r.length,n]},De={exports:{}};(function(e,r){(function(n,o){e.exports=o()})(bt,function(){function n(){var o=arguments.length;if(o===0)throw new Error("resolveUrl requires at least one argument; got none.");var u=document.createElement("base");if(u.href=arguments[0],o===1)return u.href;var s=document.getElementsByTagName("head")[0];s.insertBefore(u,s.firstChild);for(var c=document.createElement("a"),d,h=1;h<o;h++)c.href=arguments[h],d=c.href,u.href=d;return s.removeChild(u),d}return n})})(De);const zr="@ffmpeg/ffmpeg",Pr="0.10.1",Or="FFmpeg WebAssembly version",jr="src/index.js",Br="src/index.d.ts",_r={example:"examples"},Mr={start:"node scripts/server.js",build:"rimraf dist && webpack --config scripts/webpack.config.prod.js",prepublishOnly:"npm run build",lint:"eslint src",wait:"rimraf dist && wait-on http://localhost:3000/dist/ffmpeg.dev.js",test:"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:ffmpeg test:node:all","test:node":"node --experimental-wasm-threads --experimental-wasm-bulk-memory node_modules/.bin/_mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","test:browser":"mocha-headless-chrome -a allow-file-access-from-files -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:ffmpeg":"npm run test:browser -- -f ./tests/ffmpeg.test.html"},Wr={"./src/node/index.js":"./src/browser/index.js"},Tr={type:"git",url:"git+https://github.com/ffmpegwasm/ffmpeg.wasm.git"},Dr=["ffmpeg","WebAssembly","video"],Ir="Jerome Wu <jeromewus@gmail.com>",Rr="MIT",xr={url:"https://github.com/ffmpegwasm/ffmpeg.wasm/issues"},Ar={node:">=12.16.1"},Gr="https://github.com/ffmpegwasm/ffmpeg.wasm#readme",Ur={"is-url":"^1.2.4","node-fetch":"^2.6.1","regenerator-runtime":"^0.13.7","resolve-url":"^0.2.1"},Vr={"@babel/core":"^7.12.3","@babel/preset-env":"^7.12.1","@ffmpeg/core":"^0.10.0","@types/emscripten":"^1.39.4","babel-loader":"^8.1.0",chai:"^4.2.0",cors:"^2.8.5",eslint:"^7.12.1","eslint-config-airbnb-base":"^14.1.0","eslint-plugin-import":"^2.22.1",express:"^4.17.1",mocha:"^8.2.1","mocha-headless-chrome":"^2.0.3","npm-run-all":"^4.1.5","wait-on":"^5.3.0",webpack:"^5.3.2","webpack-cli":"^4.1.0","webpack-dev-middleware":"^4.0.0"};var lt={name:zr,version:Pr,description:Or,main:jr,types:Br,directories:_r,scripts:Mr,browser:Wr,repository:Tr,keywords:Dr,author:Ir,license:Rr,bugs:xr,engines:Ar,homepage:Gr,dependencies:Ur,devDependencies:Vr};const{devDependencies:Kr}=lt;var Yr={corePath:`https://unpkg.com/@ffmpeg/core@${Kr["@ffmpeg/core"].substring(1)}/dist/ffmpeg-core.js`};const qr=De.exports,{log:le}=st,Pe=async(e,r)=>{le("info",`fetch ${e}`);const n=await(await fetch(e)).arrayBuffer();le("info",`${e} file size = ${n.byteLength} bytes`);const o=new Blob([n],{type:r}),u=URL.createObjectURL(o);return le("info",`${e} blob URL = ${u}`),u};var Hr=async({corePath:e})=>{if(typeof e!="string")throw Error("corePath should be a string!");const r=qr(e),n=await Pe(r,"application/javascript"),o=await Pe(r.replace("ffmpeg-core.js","ffmpeg-core.wasm"),"application/wasm"),u=await Pe(r.replace("ffmpeg-core.js","ffmpeg-core.worker.js"),"application/javascript");return typeof createFFmpegCore=="undefined"?new Promise(s=>{const c=document.createElement("script"),d=()=>{c.removeEventListener("load",d),le("info","ffmpeg-core.js script loaded"),s({createFFmpegCore,corePath:n,wasmPath:o,workerPath:u})};c.src=n,c.type="text/javascript",c.addEventListener("load",d),document.getElementsByTagName("head")[0].appendChild(c)}):(le("info","ffmpeg-core.js script is loaded already"),Promise.resolve({createFFmpegCore,corePath:n,wasmPath:o,workerPath:u}))};const Jr=De.exports,Xr=e=>new Promise((r,n)=>{const o=new FileReader;o.onload=()=>{r(o.result)},o.onerror=({target:{error:{code:u}}})=>{n(Error(`File could not be read! Code=${u}`))},o.readAsArrayBuffer(e)});var Zr=async e=>{let r=e;return typeof e=="undefined"?new Uint8Array:(typeof e=="string"?/data:_data\/([a-zA-Z]*);base64,([^"]*)/.test(e)?r=atob(e.split(",")[1]).split("").map(n=>n.charCodeAt(0)):r=await(await fetch(Jr(e))).arrayBuffer():(e instanceof File||e instanceof Blob)&&(r=await Xr(e)),new Uint8Array(r))};const Qr=Yr,en=Hr,tn=Zr;var ut={defaultOptions:Qr,getCreateFFmpegCore:en,fetchFile:tn};const{defaultArgs:rn,baseOptions:nn}=Sr,{setLogging:Ve,setCustomLogger:Ke,log:J}=st,on=Lr,an=Nr,{defaultOptions:sn,getCreateFFmpegCore:ln}=ut,{version:un}=lt,Oe=Error("ffmpeg.wasm is not ready, make sure you have completed load().");var cn=(e={})=>{const{log:r,logger:n,progress:o,...u}={...nn,...sn,...e};let s=null,c=null,d=null,h=!1,p=o;const k=m=>{m==="FFMPEG_END"&&d!==null&&(d(),d=null,h=!1)},S=({type:m,message:y})=>{J(m,y),on(y,p),k(y)},R=async()=>{if(J("info","load ffmpeg-core"),s===null){J("info","loading ffmpeg-core");const{createFFmpegCore:m,corePath:y,workerPath:$,wasmPath:_}=await ln(u);s=await m({mainScriptUrlOrBlob:y,printErr:L=>S({type:"fferr",message:L}),print:L=>S({type:"ffout",message:L}),locateFile:(L,A)=>{if(typeof window!="undefined"){if(typeof _!="undefined"&&L.endsWith("ffmpeg-core.wasm"))return _;if(typeof $!="undefined"&&L.endsWith("ffmpeg-core.worker.js"))return $}return A+L}}),c=s.cwrap("proxy_main","number",["number","number"]),J("info","ffmpeg-core loaded")}else throw Error("ffmpeg.wasm was loaded, you should not load it again, use ffmpeg.isLoaded() to check next time.")},U=()=>s!==null,P=(...m)=>{if(J("info",`run ffmpeg command: ${m.join(" ")}`),s===null)throw Oe;if(h)throw Error("ffmpeg.wasm can only run one command at a time");return h=!0,new Promise(y=>{const $=[...rn,...m].filter(_=>_.length!==0);d=y,c(...an(s,$))})},E=(m,...y)=>{if(J("info",`run FS.${m} ${y.map($=>typeof $=="string"?$:`<${$.length} bytes binary file>`).join(" ")}`),s===null)throw Oe;{let $=null;try{$=s.FS[m](...y)}catch{throw Error(m==="readdir"?`ffmpeg.FS('readdir', '${y[0]}') error. Check if the path exists, ex: ffmpeg.FS('readdir', '/')`:m==="readFile"?`ffmpeg.FS('readFile', '${y[0]}') error. Check if the path exists`:"Oops, something went wrong in FS operation.")}return $}},B=()=>{if(s===null)throw Oe;h=!1,s.exit(1),s=null,c=null,d=null},b=m=>{p=m},x=m=>{Ke(m)};return Ve(r),Ke(n),J("info",`use ffmpeg.wasm v${un}`),{setProgress:b,setLogger:x,setLogging:Ve,load:R,isLoaded:U,run:P,exit:B,FS:E}};const fn=cn,{fetchFile:dn}=ut;var Ye={createFFmpeg:fn,fetchFile:dn};let C=null;function Fn(){"SharedArrayBuffer"in window||pe.error("\u6D4F\u89C8\u5668\u4E0D\u652F\u6301 SharedArrayBuffer\uFF0C \u65E0\u6CD5\u4F7F\u7528\u89C6\u9891\u529F\u80FD\uFF01"),C||(C=Ye.createFFmpeg({log:!0})),ht(e),gt(()=>{C=null});async function e(){C!=null&&C.isLoaded()||await(C==null?void 0:C.load())}function r(s){C&&C.setProgress(s)}async function n(s){try{C&&C.FS("writeFile",s.name,await Ye.fetchFile(s))}catch{pe.error("\u5199\u5165\u6587\u4EF6\u5931\u8D25\uFF01\u8BF7\u91CD\u8BD5")}}function o(s){try{return C?C.FS("readFile",s).buffer:null}catch{pe.error("\u8BFB\u53D6\u6587\u4EF6\u5931\u8D25\uFF01\u8BF7\u91CD\u8BD5")}return null}async function u(s){const c={url:"",size:0};if(!C)return c;const{outputName:d,fileType:h}=s;try{await C.run(...pn(s));const p=await o(`${d}.${h}`);return c.url=$r(p,h),c.size=(p==null?void 0:p.byteLength)||0,c}catch{pe.error("\u6587\u4EF6\u64CD\u4F5C\u5931\u8D25\uFF01\u8BF7\u91CD\u8BD5")}return c}return{ffmpeg:C,loadFFmpeg:e,setProgress:r,writeFile:n,readFile:o,ffmpegRun:u}}function pn(e){const{filename:r,frameRate:n=25,rangeStart:o=0,rangeEnd:u,width:s=-1,height:c=-1,fileType:d,outputName:h="output",type:p}=e;return{image:`-ss ${o} -i ${r} -s ${s}x${c} -f image2 -frames 1 ${h}.${d}`,video:`-i ${r} -r ${n} -ss ${o} -to ${u} -vf scale=${s}:${c},fade=t=in:st=${o}:d=0.05 ${h}.${d}`}[p].split(/(?:\s+)/)}function En(e,r){return Number(Number(e||0).toFixed(r))}export{kn as I,Sn as P,er as a,En as f,Cn as g,wr as h,re as i,Fn as u};
